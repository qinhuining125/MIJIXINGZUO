!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=87)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTextBounds=e.lineIntersection=e.cloneObject=e.copyAttributesWithClip=e.copyAttributes=e.createUniqueID=e.toFloat=e.applyDefaults=e.modifyDOMElement=e.indexOf=e.removeItem=e.isArray=e.extend=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(4),o=(e.extend=function(t,e){if(t=t||{},e){for(var i in e){var n=e[i];void 0!==n&&(t[i]=n)}!("function"==typeof window.Event&&e instanceof window.Event)&&e.hasOwnProperty&&e.hasOwnProperty("toString")&&(t.toString=e.toString)}return t},e.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},e.removeItem=function(t,e){for(var i=t.length-1;i>=0;i--)t[i]===e&&t.splice(i,1);return t},e.indexOf=function(t,e){if(null==t)return-1;if("function"==typeof t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},e.modifyDOMElement=function(t,e,i,n,r,o,a,s){e&&(t.id=e),i&&(t.style.left=i.x+"px",t.style.top=i.y+"px"),n&&(t.style.width=n.w+"px",t.style.height=n.h+"px"),r&&(t.style.position=r),o&&(t.style.border=o),a&&(t.style.overflow=a),parseFloat(s)>=0&&parseFloat(s)<1?(t.style.filter="alpha(opacity="+100*s+")",t.style.opacity=s):1===parseFloat(s)&&(t.style.filter="",t.style.opacity="")},e.applyDefaults=function(t,e){t=t||{};var i="function"==typeof window.Event&&e instanceof window.Event;for(var n in e)(void 0===t[n]||!i&&e.hasOwnProperty&&e.hasOwnProperty(n)&&!t.hasOwnProperty(n))&&(t[n]=e[n]);return!i&&e&&e.hasOwnProperty&&e.hasOwnProperty("toString")&&!t.hasOwnProperty("toString")&&(t.toString=e.toString),t},e.toFloat=function(t,e){return null==e&&(e=14),"number"!=typeof t&&(t=parseFloat(t)),0===e?t:parseFloat(t.toPrecision(e))},0);e.createUniqueID=function(t){return null==t&&(t="id_"),t+(o+=1)},e.copyAttributes=function(t,e){if(t=t||{},e)for(var i in e){var n=e[i];void 0!==n&&"function"!=typeof n&&(t[i]=n)}return t},e.copyAttributesWithClip=function(t,e,i){if(t=t||{},e)for(var n in e){var r=!1;if(i&&i.length)for(var o=0,a=i.length;o<a;o++)if(n===i[o]){r=!0;break}if(!0!==r){var s=e[n];void 0!==s&&"function"!=typeof s&&(t[n]=s)}}return t},e.cloneObject=function t(e){if(null===e||"object"!==(void 0===e?"undefined":n(e)))return e;if(e instanceof Date){var i=new Date;return i.setTime(e.getTime()),i}if(e instanceof Array)return e.slice(0);if(e instanceof Object){var r={};for(var o in e)e.hasOwnProperty(o)&&(r[o]=t(e[o]));return r}throw new Error("Unable to copy obj! Its type isn't supported.")},e.lineIntersection=function(t,e,i,n){var o,a,s=null,l=(n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x),h=(e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x),u=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y);if(0!=u)a=h/u,s=(o=l/u)>=0&&a<=1&&o<=1&&a>=0?new r.Point(t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)):"No Intersection";else if(0==l&&0==h){var c=Math.max(t.y,e.y),f=Math.min(t.y,e.y),d=Math.max(t.x,e.x),p=Math.min(t.x,e.x);s=(i.y>=f&&i.y<=c||n.y>=f&&n.y<=c)&&i.x>=p&&i.x<=d||n.x>=p&&n.x<=d?"Coincident":"Parallel"}else s="Parallel";return s},e.getTextBounds=function(t,e,i){document.body.appendChild(i),i.style.width="auto",i.style.height="auto",t.fontSize&&(i.style.fontSize=t.fontSize),t.fontFamily&&(i.style.fontFamily=t.fontFamily),t.fontWeight&&(i.style.fontWeight=t.fontWeight),i.style.position="relative",i.style.visibility="hidden",i.style.display="inline-block",i.innerHTML=e;var n=i.clientWidth,r=i.clientHeight;return document.body.removeChild(i),{textWidth:n,textHeight:r}}},function(t,e){t.exports=L},function(t,e,i){var n=2*Math.PI,r=i(22);t.exports=function(t){return Math.abs(t)<=3.14159265359?t:t-r(t)*n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(30),o=i(41),a=i(61),s=i(0),l=i(7);e.Shape=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i,n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));for(var r in n.id=null,n.style=null,n.highlightStyle=null,n.parent=null,n.__dirty=null,n.__clipShapes=null,n.invisible=!1,n.ignore=!1,n.zlevel=0,n.draggable=!1,n.clickable=!1,n.hoverable=!0,n.z=0,n.refOriginalPosition=null,n.refDataID=null,n.isHoverByRefDataID=!1,n.refDataHoverGroup=null,n.dataInfo=null,n.getTansform=(i=[],function(t,e){var n=[t,e];return this.needTransform&&this.transform&&(l.Util_matrix.invert(i,this.transform),l.Util_matrix.mulVector(n,i,[t,e,1]),t==n[0]&&e==n[1]&&this.updateNeedTransform()),n}),t=t||{},n.id=t.id||(0,s.createUniqueID)("smShape_"),t)n[r]=t[r];return n.style=n.style||{},n.highlightStyle=n.highlightStyle||null,n.parent=null,n.__dirty=!0,n.__clipShapes=[],n.refOriginalPosition=[0,0],n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,a.mixin)(r.Eventful,o.Transformable)),n(e,[{key:"destroy",value:function(){this.id=null,this.style=null,this.highlightStyle=null,this.parent=null,this.__dirty=null,this.__clipShapes=null,this.invisible=null,this.ignore=null,this.zlevel=null,this.draggable=null,this.clickable=null,this.hoverable=null,this.z=null,this.refOriginalPosition=null,this.refDataID=null,this.refDataHoverGroup=null,this.isHoverByRefDataID=null,this.dataInfo=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"brush",value:function(t,e){var i=this.beforeBrush(t,e);switch(t.beginPath(),this.buildPath(t,i),i.brushType){case"both":this.setCtxGlobalAlpha(t,"fill",i),t.fill(),i.lineWidth>0&&(this.setCtxGlobalAlpha(t,"stroke",i),t.stroke()),this.setCtxGlobalAlpha(t,"reset",i);break;case"stroke":this.setCtxGlobalAlpha(t,"stroke",i),i.lineWidth>0&&t.stroke(),this.setCtxGlobalAlpha(t,"reset",i);break;default:this.setCtxGlobalAlpha(t,"fill",i),t.fill(),this.setCtxGlobalAlpha(t,"reset",i)}this.drawText(t,i,this.style),this.afterBrush(t)}},{key:"beforeBrush",value:function(t,e){var i=this.style;return this.brushTypeOnly&&(i.brushType=this.brushTypeOnly),e&&(i=this.getHighlightStyle(i,this.highlightStyle||{},this.brushTypeOnly)),"stroke"==this.brushTypeOnly&&(i.strokeColor=i.strokeColor||i.color),t.save(),this.doClip(t),this.setContext(t,i),this.setTransform(t),i}},{key:"afterBrush",value:function(t){t.restore()}},{key:"setContext",value:function(t,e){for(var i=[["color","fillStyle"],["strokeColor","strokeStyle"],["opacity","globalAlpha"],["lineCap","lineCap"],["lineJoin","lineJoin"],["miterLimit","miterLimit"],["lineWidth","lineWidth"],["shadowBlur","shadowBlur"],["shadowColor","shadowColor"],["shadowOffsetX","shadowOffsetX"],["shadowOffsetY","shadowOffsetY"]],n=0,r=i.length;n<r;n++){var o=e[i[n][0]],a=i[n][1];void 0!==o&&(t[a]=o)}}},{key:"doClip",value:function(t){var e=l.Util_matrix.create();if(this.__clipShapes)for(var i=0;i<this.__clipShapes.length;i++){var n=this.__clipShapes[i];if(n.needTransform){var r=n.transform;l.Util_matrix.invert(e,r),t.transform(r[0],r[1],r[2],r[3],r[4],r[5])}if(t.beginPath(),n.buildPath(t,n.style),t.clip(),n.needTransform){var o=e;t.transform(o[0],o[1],o[2],o[3],o[4],o[5])}}}},{key:"getHighlightStyle",value:function(t,e,i){var n={};for(var r in t)n[r]=t[r];var o=l.Util_color.getHighlightColor();for(var a in"stroke"!=t.brushType?(n.strokeColor=o,n.lineWidth=t.lineWidth||1,n.brushType="both"):"stroke"!=i?(n.strokeColor=o,n.lineWidth=t.lineWidth||1):n.strokeColor=e.strokeColor||l.Util_color.mix(t.strokeColor,l.Util_color.toRGB(o)),e)void 0!==e[a]&&(n[a]=e[a]);return n}},{key:"getHighlightZoom",value:function(){return"text"!=this.type?6:2}},{key:"drift",value:function(t,e){this.position[0]+=t,this.position[1]+=e}},{key:"buildPath",value:function(t,e){(0,l.Util_log)("buildPath not implemented in "+this.type)}},{key:"getRect",value:function(t){(0,l.Util_log)("getRect not implemented in "+this.type)}},{key:"isCover",value:function(t,e){var i=this.getTansform(t,e);t=i[0],e=i[1];var n=this.style.__rect;return n||(n=this.style.__rect=this.getRect(this.style)),t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height&&l.Util_area.isInside(this,this.style,t,e)}},{key:"drawText",value:function(t,i,n){if(void 0!==i.text&&!1!==i.text){var r=i.textColor||i.color||i.strokeColor;t.fillStyle=r;var o,a,s,l,h=10,u=i.textPosition||this.textPosition||"top",c=[];switch(c=this.refOriginalPosition&&2===this.refOriginalPosition.length?this.refOriginalPosition:[0,0],u){case"inside":case"top":case"bottom":case"left":case"right":if(this.getRect){var f=(n||i).__rect||this.getRect(n||i);switch(u){case"inside":s=f.x+f.width/2,l=f.y+f.height/2,o="center",a="middle","stroke"!=i.brushType&&r==i.color&&(t.fillStyle="#fff");break;case"left":s=f.x-h,l=f.y+f.height/2,o="end",a="middle";break;case"right":s=f.x+f.width+h,l=f.y+f.height/2,o="start",a="middle";break;case"top":s=f.x+f.width/2,l=f.y-h,o="center",a="bottom";break;case"bottom":s=f.x+f.width/2,l=f.y+f.height+h,o="center",a="top"}}break;case"start":case"end":var d=0,p=0,g=0,_=0;if(void 0!==i.pointList){var m=i.pointList;if(m.length<2)return;var y=m.length;switch(u){case"start":d=m[0][0]+c[0],p=m[1][0]+c[0],g=m[0][1]+c[1],_=m[1][1]+c[1];break;case"end":d=m[y-2][0]+c[0],p=m[y-1][0]+c[0],g=m[y-2][1]+c[1],_=m[y-1][1]+c[1]}}else d=i.xStart+c[0]||0,p=i.xEnd+c[0]||0,g=i.yStart+c[1]||0,_=i.yEnd+c[1]||0;switch(u){case"start":o=d<p?"end":"start",a=g<_?"bottom":"top",s=d,l=g;break;case"end":o=d<p?"start":"end",a=g<_?"top":"bottom",s=p,l=_}h-=4,d&&p&&d!=p?s-="end"==o?h:-h:o="center",g!=_?l-="bottom"==a?h:-h:a="middle";break;case"specific":s=i.textX||0,l=i.textY||0,o="start",a="middle"}i.labelXOffset&&!isNaN(i.labelXOffset)&&(s+=i.labelXOffset),i.labelYOffset&&!isNaN(i.labelYOffset)&&(l+=i.labelYOffset),null!=s&&null!=l&&e._fillText(t,i.text,s,l,i.textFont,i.textAlign||o,i.textBaseline||a)}}},{key:"modSelf",value:function(){this.__dirty=!0,this.style&&(this.style.__rect=null),this.highlightStyle&&(this.highlightStyle.__rect=null)}},{key:"isSilent",value:function(){return!(this.hoverable||this.draggable||this.clickable||this.onmousemove||this.onmouseover||this.onmouseout||this.onmousedown||this.onmouseup||this.onclick||this.ondragenter||this.ondragover||this.ondragleave||this.ondrop)}},{key:"setCtxGlobalAlpha",value:function(t,e,i){t.globalAlpha="fill"===e?void 0===i.fillOpacity?void 0===i.opacity?1:i.opacity:i.fillOpacity:"stroke"===e?void 0===i.strokeOpacity?void 0===i.opacity?1:i.opacity:i.strokeOpacity:void 0===i.opacity?1:i.opacity}}],[{key:"_fillText",value:function(t,i,n,r,o,a,s){o&&(t.font=o),t.textAlign=a,t.textBaseline=s;var h=e._getTextRect(i,n,r,o,a,s);i=(i+"").split("\n");var u=l.Util_area.getTextHeight("ZH",o);switch(s){case"top":r=h.y;break;case"bottom":r=h.y+u;break;default:r=h.y+u/2}for(var c=0,f=i.length;c<f;c++)t.fillText(i[c],n,r),r+=u}},{key:"_getTextRect",value:function(t,e,i,n,r,o){var a=l.Util_area.getTextWidth(t,n),s=l.Util_area.getTextHeight("ZH",n);switch(t=(t+"").split("\n"),r){case"end":case"right":e-=a;break;case"center":e-=a/2}switch(o){case"top":break;case"bottom":i-=s*t.length;break;default:i-=s*t.length/2}return{x:e,y:i,width:a,height:s*t.length}}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(18),o=i(6),a=i(0);e.Point=function(t){function e(t,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r));return o.x=null,o.y=null,o.tag=null,o.type=null,o.x=parseFloat(t),o.y=parseFloat(i),(r||0==r)&&(o.tag=parseFloat(r)),o.type=n||"Point",o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Geometry),n(e,[{key:"clone",value:function(t){return null==t&&(t=new e(this.x,this.y)),a.Util.applyDefaults(t,this),t}},{key:"calculateBounds",value:function(){this.bounds=new o.Bounds(this.x,this.y,this.x,this.y)}},{key:"equals",value:function(t){var e=!1;return null!=t&&(e=this.x===t.x&&this.y===t.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(t.x)&&isNaN(t.y)),e}},{key:"move",value:function(t,e){this.x=this.x+t,this.y=this.y+e,this.clearBounds()}},{key:"toShortString",value:function(){return this.x+", "+this.y}},{key:"destroy",value:function(){this.x=null,this.y=null,this.tag=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"getVertices",value:function(t){return[this]}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeFactory=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(49),o=i(74),a=i(50),s=i(158),l=i(51),h=i(159),u=i(160),c=i(75),f=i(76),d=i(77),p=i(161),g=i(78);i(162);var _=i(163);i(164);var m=i(35),y=i(79);i(165);var v=i(166);i(167);var b=i(0);i(19);e.ShapeFactory=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.shapeParameters=null,this.shapeParameters=e}return n(t,[{key:"destroy",value:function(){this.shapeParameters=null}},{key:"createShape",value:function(e){if(e&&(this.shapeParameters=e),!this.shapeParameters)return null;var i=this.shapeParameters;if(i instanceof r.Point){var n=new Object;n.x=i.x,n.y=i.y,n.r=i.r,n=(0,b.copyAttributesWithClip)(n,i.style,["x","y"]);var x=new f.SmicPoint;return x.style=t.transformStyle(n),x.highlightStyle=t.transformStyle(i.highlightStyle),(0,b.copyAttributesWithClip)(x,i,["x","y","style","highlightStyle"]),x}if(i instanceof o.Line){if(!i.pointList)return null;var L=new Object;L.pointList=i.pointList,L=(0,b.copyAttributesWithClip)(L,i.style,["pointList"]);var w=new g.SmicBrokenLine;return w.style=t.transformStyle(L),w.highlightStyle=t.transformStyle(i.highlightStyle),(0,b.copyAttributesWithClip)(w,i,["pointList","style","highlightStyle"]),w}if(i instanceof a.Polygon){if(!i.pointList)return null;var C=new Object;C.pointList=i.pointList,C=(0,b.copyAttributesWithClip)(C,i.style,["pointList"]);var I=new m.SmicPolygon;return I.style=t.transformStyle(C),I.highlightStyle=t.transformStyle(i.highlightStyle),(0,b.copyAttributesWithClip)(I,i,["pointList","style","highlightStyle"]),I}if(i instanceof s.Rectangle){if(!i.x&&!i.y&!i.width&!i.height)return null;var M=new Object;M.x=i.x,M.y=i.y,M.width=i.width,M.height=i.height,M=(0,b.copyAttributesWithClip)(M,i.style,["x","y","width","height"]);var E=new y.SmicRectangle;return E.style=t.transformStyle(M),E.highlightStyle=t.transformStyle(i.highlightStyle),(0,b.copyAttributesWithClip)(E,i,["x","y","width","height","style","highlightStyle"]),E}if(i instanceof l.Sector){var O=new Object;O.x=i.x,O.y=i.y,O.r=i.r,O.startAngle=i.startAngle,O.endAngle=i.endAngle,i.r0&&(O.r0=i.r0),i.clockWise&&(O.clockWise=i.clockWise),O=(0,b.copyAttributesWithClip)(O,i.style,["x","y","r","startAngle","endAngle","r0","endAngle"]);var S=new v.SmicSector;return S.style=t.transformStyle(O),S.highlightStyle=t.transformStyle(i.highlightStyle),(0,b.copyAttributesWithClip)(S,i,["x","y","r","startAngle","endAngle","r0","endAngle","style","highlightStyle"]),S}if(i instanceof h.Label){var P=new Object;P.x=i.x,P.y=i.y,P.text=i.text,P=(0,b.copyAttributesWithClip)(P,i.style,["x","y","text"]);var k=new d.SmicText;return k.style=t.transformStyle(P),k.highlightStyle=t.transformStyle(i.highlightStyle),(0,b.copyAttributesWithClip)(k,i,["x","y","text","style","highlightStyle"]),k}if(i instanceof u.Image){var N=new Object;N.x=i.x,N.y=i.y,i.image&&(N.image=i.image),i.width&&(N.width=i.width),i.height&&(N.height=i.height),i.sx&&(N.sx=i.sx),i.sy&&(N.sy=i.sy),i.sWidth&&(N.sWidth=i.sWidth),i.sHeight&&(N.sHeight=i.sHeight),N=(0,b.copyAttributesWithClip)(N,i.style,["x","y","image","width","height","sx","sy","sWidth","sHeight"]);var T=new _.SmicImage;return T.style=t.transformStyle(N),T.highlightStyle=t.transformStyle(i.highlightStyle),(0,b.copyAttributesWithClip)(T,i,["x","y","image","width","height","style","highlightStyle"]),T}if(i instanceof c.Circle){var A=new Object;A.x=i.x,A.r=i.r,A.y=i.y,A=(0,b.copyAttributesWithClip)(A,i.style,["x","y","r"]);var R=new p.SmicCircle;return R.style=new t.transformStyle(A),R.highlightStyle=new t.transformStyle(i.highlightStyle),(0,b.copyAttributesWithClip)(R,i,["x","y","r","style","highlightStyle","lineWidth","text","textPosition"]),R}return null}}],[{key:"transformStyle",value:function(t){var e={},i=["normal","normal","normal","12","arial,sans-serif"],n=[!0,!1];for(var r in t)switch(r){case"fill":n[0]=t[r];break;case"fillColor":e.color=t[r];break;case"stroke":n[1]=t[r];break;case"strokeWidth":e.lineWidth=t[r];break;case"strokeLinecap":e.lineCap=t[r];break;case"strokeLineJoin":e.lineJoin=t[r];break;case"strokeDashstyle":e.lineType=t[r];break;case"pointRadius":e.r=t[r];break;case"label":e.text=t[r];break;case"labelRect":e.labelRect=t[r];break;case"fontColor":e.textColor=t[r];break;case"fontStyle":i[0]=t[r];break;case"fontVariant":i[1]=t[r];break;case"fontWeight":i[2]=t[r];break;case"fontSize":var o="";t[r]&&t[r].toString().indexOf("px")<0&&(o="px"),i[3]=t[r]+o;break;case"fontFamily":i[4]=t[r];break;case"fontOpacity":e.opacity=t[r];break;case"labelPosition":e.textPosition=t[r];break;case"labelAlign":e.textAlign=t[r];break;case"labelBaseline":e.textBaseline=t[r];break;case"labelRotation":e.textRotation=t[r];break;default:e[r]=t[r]}return e.textFont=i.join(" "),!0===n[0]&&!1===n[1]?e.brushType="fill":!1===n[0]&&!0===n[1]?e.brushType="stroke":!0===n[0]&&!0===n[1]?e.brushType="both":e.brushType="fill",null==e.lineWidth&&(e.lineWidth=1),e}},{key:"Background",value:function(t,e,i){var n=i||{},r=new s.Rectangle(e[0],e[3],Math.abs(e[2]-e[0]),Math.abs(e[3]-e[1]));return r.style={fillColor:"#f3f3f3"},n.backgroundStyle&&(0,b.copyAttributesWithClip)(r.style,n.backgroundStyle),n.backgroundRadius&&(r.style.radius=n.backgroundRadius),r.clickable=!1,r.hoverable=!1,t.createShape(r)}},{key:"GraphAxis",value:function(t,e,i,n){var r,s=e,l=i||{},u=[],c=[],f=!!l.useXReferenceLine&&l.useXReferenceLine,d=l.axisYTick&&!isNaN(l.axisYTick)?l.axisYTick:0,p=[],g=[];if(0==d){if(g.push([s[0],s[3]-5]),g.push([s[0],s[1]]),l.axis3DParameter&&!isNaN(l.axis3DParameter)&&l.axis3DParameter>=15){var _=parseInt(l.axis3DParameter),m=[s[0]-_,s[1]+_];l.axisUseArrow?(p.push([m[0]+1.5,m[1]-7.5]),p.push([m[0]-1,m[1]+1]),p.push([m[0]+7.5,m[1]-1.5]),g.push([m[0],m[1]])):g.push([m[0],m[1]]),g.push([s[0],s[1]])}g.push([s[2]+5,s[1]])}else{var y=Math.abs(s[1]-s[3])/d,v=s[3];g.push([s[0],v-5]);for(var x=0;x<d;x++){if(g.push([s[0],v]),g.push([s[0]-5,v]),g.push([s[0],v]),f){var L=new o.Line([[s[0],v],[s[2],v]]);L.style={strokeColor:"#cfcfcf",strokeLinecap:"butt",strokeLineJoin:"round",strokeWidth:1},L.clickable=!1,L.hoverable=!1,l.xReferenceLineStyle&&(0,b.copyAttributesWithClip)(L.style,l.xReferenceLineStyle),u.push(t.createShape(L))}v+=y}if(g.push([s[0],s[1]]),l.axis3DParameter&&!isNaN(l.axis3DParameter)&&l.axis3DParameter>=15){var w=parseInt(l.axis3DParameter),C=[s[0]-w,s[1]+w];l.axisUseArrow?(p.push([C[0]+1.5,C[1]-7.5]),p.push([C[0]-1,C[1]+1]),p.push([C[0]+7.5,C[1]-1.5]),g.push([C[0],C[1]])):g.push([C[0],C[1]]),g.push([s[0],s[1]])}g.push([s[2]+5,s[1]])}if(l.axisUseArrow){var I=[[s[2]+5,s[1]+4],[s[2]+13,s[1]],[s[2]+5,s[1]-4]],M=[[s[0]-4,s[3]-5],[s[0],s[3]-13],[s[0]+4,s[3]-5]],E=new a.Polygon(I);E.style={fillColor:"#008acd"},(0,b.copyAttributesWithClip)(E.style,l.axisStyle),c.push(t.createShape(E));var O=new a.Polygon(M);if(O.style={fillColor:"#008acd"},(0,b.copyAttributesWithClip)(O.style,l.axisStyle),c.push(t.createShape(O)),l.axis3DParameter&&!isNaN(l.axis3DParameter)&&l.axis3DParameter>=15){var S=new a.Polygon(p);S.style={fillColor:"#008acd"},(0,b.copyAttributesWithClip)(S.style,l.axisStyle),c.push(t.createShape(S))}}r=g;var P=new o.Line(r);P.style={strokeLinecap:"butt",strokeLineJoin:"round",strokeColor:"#008acd",strokeWidth:1},l.axisStyle&&(0,b.copyAttributesWithClip)(P.style,l.axisStyle),P.clickable=!1,P.hoverable=!1;var k=[t.createShape(P)],N=[];if(l.axisYLabels&&l.axisYLabels.length&&l.axisYLabels.length>0){var T=l.axisYLabels,A=T.length,R=[0,0];if(l.axisYLabelsOffset&&l.axisYLabelsOffset.length&&(R=l.axisYLabelsOffset),1==A){var D=new h.Label(s[0]-5+R[0],s[3]+R[1],T[0]);D.style={labelAlign:"right"},l.axisYLabelsStyle&&(0,b.copyAttributesWithClip)(D.style,l.axisYLabelsStyle),D.clickable=!1,D.hoverable=!1,N.push(t.createShape(D))}else for(var j=s[3],G=Math.abs(s[1]-s[3])/(A-1),B=0;B<A;B++){var F=new h.Label(s[0]-5+R[0],j+R[1],T[B]);F.style={labelAlign:"right"},l.axisYLabelsStyle&&(0,b.copyAttributesWithClip)(F.style,l.axisYLabelsStyle),F.clickable=!1,F.hoverable=!1,N.push(t.createShape(F)),j+=G}}var z=[];if(l.axisXLabels&&l.axisXLabels.length&&l.axisXLabels.length>0){var U=l.axisXLabels,H=U.length,V=[0,0];if(l.axisXLabelsOffset&&l.axisXLabelsOffset.length&&(V=l.axisXLabelsOffset),n&&n.xPositions&&n.xPositions.length&&n.xPositions.length==H)for(var Y=n.xPositions,W=0;W<H;W++){var Z=new h.Label(Y[W]+V[0],s[1]+V[1],U[W]);Z.style={labelAlign:"center",labelBaseline:"top"},l.axisXLabelsStyle&&(0,b.copyAttributesWithClip)(Z.style,l.axisXLabelsStyle),Z.clickable=!1,Z.hoverable=!1,z.push(t.createShape(Z))}else if(1==H){var q=new h.Label(s[0]-5+V[0],s[1]+V[0],U[0]);q.style={labelAlign:"center",labelBaseline:"top"},l.axisXLabelsStyle&&(0,b.copyAttributesWithClip)(q.style,l.axisXLabelsStyle),q.clickable=!1,q.hoverable=!1,z.push(t.createShape(q))}else for(var X=s[0],J=Math.abs(s[2]-s[0])/(H-1),Q=0;Q<H;Q++){var K=new h.Label(X+V[0],s[1]+V[1],U[Q]);K.style={labelAlign:"center",labelBaseline:"top"},l.axisXLabelsStyle&&(0,b.copyAttributesWithClip)(K.style,l.axisXLabelsStyle),K.clickable=!1,K.hoverable=!1,z.push(t.createShape(K)),X+=J}}return u.concat(k).concat(N).concat(z).concat(c)}},{key:"ShapeStyleTool",value:function(t,e,i,n,r,o){var a=t||{};if(e&&(0,b.copyAttributesWithClip)(a,e),i&&i.length&&void 0!==r&&!isNaN(r)&&r>=0&&i[r]&&(0,b.copyAttributesWithClip)(a,i[r]),n&&n.length&&void 0!==o)for(var s=n,l=s.length,h=parseFloat(o),u=0;u<l;u++)if(s[u].start<=h&&h<s[u].end){(0,b.copyAttributesWithClip)(a,s[u].style);break}return a}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bounds=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(92),o=i(58),a=i(40),s=i(4),l=i(20),h=i(21),u=i(0);e.Bounds=function(){function t(e,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.left=null,this.bottom=null,this.right=null,this.top=null,this.centerLonLat=null,(0,u.isArray)(e)&&(r=e[3],n=e[2],i=e[1],e=e[0]),this.left=null!=e?(0,u.toFloat)(e):this.left,this.bottom=null!=i?(0,u.toFloat)(i):this.bottom,this.right=null!=n?(0,u.toFloat)(n):this.right,this.top=null!=r?(0,u.toFloat)(r):this.top}return n(t,[{key:"clone",value:function(){return new t(this.left,this.bottom,this.right,this.top)}},{key:"equals",value:function(t){var e=!1;return null!=t&&(e=this.left===t.left&&this.right===t.right&&this.top===t.top&&this.bottom===t.bottom),e}},{key:"toString",value:function(){return[this.left,this.bottom,this.right,this.top].join(",")}},{key:"toArray",value:function(t){return!0===t?[this.bottom,this.left,this.top,this.right]:[this.left,this.bottom,this.right,this.top]}},{key:"toBBOX",value:function(t,e){null==t&&(t=6);var i=Math.pow(10,t),n=Math.round(this.left*i)/i,r=Math.round(this.bottom*i)/i,o=Math.round(this.right*i)/i,a=Math.round(this.top*i)/i;return!0===e?r+","+n+","+a+","+o:n+","+r+","+o+","+a}},{key:"toGeometry",value:function(){return new h.Polygon([new l.LinearRing([new s.Point(this.left,this.bottom),new s.Point(this.right,this.bottom),new s.Point(this.right,this.top),new s.Point(this.left,this.top)])])}},{key:"getWidth",value:function(){return this.right-this.left}},{key:"getHeight",value:function(){return this.top-this.bottom}},{key:"getSize",value:function(){return new r.Size(this.getWidth(),this.getHeight())}},{key:"getCenterPixel",value:function(){return new o.Pixel((this.left+this.right)/2,(this.bottom+this.top)/2)}},{key:"getCenterLonLat",value:function(){return this.centerLonLat||(this.centerLonLat=new a.LonLat((this.left+this.right)/2,(this.bottom+this.top)/2)),this.centerLonLat}},{key:"scale",value:function(e,i){var n,r;return e=e||1,null==i&&(i=this.getCenterLonLat()),i instanceof a.LonLat?(n=i.lon,r=i.lat):(n=i.x,r=i.y),new t((this.left-n)*e+n,(this.bottom-r)*e+r,(this.right-n)*e+n,(this.top-r)*e+r)}},{key:"add",value:function(e,i){if(null==e||null==i)throw new TypeError("Bounds.add cannot receive null values");return new t(this.left+e,this.bottom+i,this.right+e,this.top+i)}},{key:"extend",value:function(e){var i=null;e&&(e instanceof a.LonLat&&(i=new t(e.lon,e.lat,e.lon,e.lat)),e instanceof s.Point&&(i=new t(e.x,e.y,e.x,e.y)),e instanceof t&&(i=e),i&&(this.centerLonLat=null,(null==this.left||i.left<this.left)&&(this.left=i.left),(null==this.bottom||i.bottom<this.bottom)&&(this.bottom=i.bottom),(null==this.right||i.right>this.right)&&(this.right=i.right),(null==this.top||i.top>this.top)&&(this.top=i.top)))}},{key:"containsLonLat",value:function(t,e){"boolean"==typeof e&&(e={inclusive:e}),e=e||{};var i=this.contains(t.lon,t.lat,e.inclusive),n=e.worldBounds;if(n&&!i){var r=n.getWidth(),o=(n.left+n.right)/2,a=Math.round((t.lon-o)/r);i=this.containsLonLat({lon:t.lon-a*r,lat:t.lat},{inclusive:e.inclusive})}return i}},{key:"containsPixel",value:function(t,e){return this.contains(t.x,t.y,e)}},{key:"contains",value:function(t,e,i){if(null==i&&(i=!0),null==t||null==e)return!1;t=(0,u.toFloat)(t),e=(0,u.toFloat)(e);var n=!1;return n=i?t>=this.left&&t<=this.right&&e>=this.bottom&&e<=this.top:t>this.left&&t<this.right&&e>this.bottom&&e<this.top,n}},{key:"intersectsBounds",value:function(t,e){if("boolean"==typeof e&&(e={inclusive:e}),(e=e||{}).worldBounds){var i=this.wrapDateLine(e.worldBounds);t=t.wrapDateLine(e.worldBounds)}else i=this;null==e.inclusive&&(e.inclusive=!0);var n=!1,r=i.left===t.right||i.right===t.left||i.top===t.bottom||i.bottom===t.top;if(e.inclusive||!r){var o=t.bottom>=i.bottom&&t.bottom<=i.top||i.bottom>=t.bottom&&i.bottom<=t.top,a=t.top>=i.bottom&&t.top<=i.top||i.top>t.bottom&&i.top<t.top,s=t.left>=i.left&&t.left<=i.right||i.left>=t.left&&i.left<=t.right,l=t.right>=i.left&&t.right<=i.right||i.right>=t.left&&i.right<=t.right;n=(o||a)&&(s||l)}if(e.worldBounds&&!n){var h=e.worldBounds,u=h.getWidth(),c=!h.containsBounds(i),f=!h.containsBounds(t);c&&!f?(t=t.add(-u,0),n=i.intersectsBounds(t,{inclusive:e.inclusive})):f&&!c&&(i=i.add(-u,0),n=t.intersectsBounds(i,{inclusive:e.inclusive}))}return n}},{key:"containsBounds",value:function(t,e,i){null==e&&(e=!1),null==i&&(i=!0);var n=this.contains(t.left,t.bottom,i),r=this.contains(t.right,t.bottom,i),o=this.contains(t.left,t.top,i),a=this.contains(t.right,t.top,i);return e?n||r||o||a:n&&r&&o&&a}},{key:"determineQuadrant",value:function(t){var e="",i=this.getCenterLonLat();return e+=t.lat<i.lat?"b":"t",e+=t.lon<i.lon?"l":"r"}},{key:"wrapDateLine",value:function(t,e){var i=(e=e||{}).leftTolerance||0,n=e.rightTolerance||0,r=this.clone();if(t){for(var o=t.getWidth();r.left<t.left&&r.right-n<=t.left;)r=r.add(o,0);for(;r.left+i>=t.right&&r.right>t.right;)r=r.add(-o,0);var a=r.left+i;a<t.right&&a>t.left&&r.right-n>t.right&&(r=r.add(-o,0))}return r}},{key:"toServerJSONObject",value:function(){return{rightTop:{x:this.right,y:this.top},leftBottom:{x:this.left,y:this.bottom},left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},{key:"destroy",value:function(){this.left=null,this.right=null,this.top=null,this.bottom=null,this.centerLonLat=null}}],[{key:"fromString",value:function(e,i){var n=e.split(",");return t.fromArray(n,i)}},{key:"fromArray",value:function(e,i){return!0===i?new t(e[1],e[0],e[3],e[2]):new t(e[0],e[1],e[2],e[3])}},{key:"fromSize",value:function(e){return new t(0,e.h,e.w,0)}},{key:"oppositeQuadrant",value:function(t){var e="";return e+="t"===t.charAt(0)?"b":"t",e+="l"===t.charAt(1)?"r":"l"}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SUtil_dashedLineTo=e.SUtil_smoothSpline=e.SUtil_smoothBezier=e.Util_vector=e.Util_matrix=e.Util_math=e.Util_log=e.Util_http=e.Util_event=e.Util_env=e.Util_curve=e.Util_computeBoundingBox=e.Util_color=e.Util_area=void 0;var n=i(91),r=i(57),o=i(99),a=i(37),s=i(100),l=i(101),h=i(102),u=i(103),c=i(104),f=i(105),d=(i(17),i(38)),p=(e.Util_area=new n.Area,e.Util_color=new r.Color,e.Util_computeBoundingBox=new o.ComputeBoundingBox,e.Util_curve=new a.Curve,e.Util_env=new s.Env,e.Util_event=new l.Event,e.Util_http=new h.Http,e.Util_log=new u.Log,e.Util_math=new c.Math,e.Util_matrix=new f.Matrix,e.Util_vector=new d.Vector);e.SUtil_smoothBezier=function(t,e,i,n,r){r&&2===r||(r=[0,0]);var o,a,s=r,l=[],h=[],u=[],c=[],f=!!n;if(f){o=[1/0,1/0],a=[-1/0,-1/0];for(var d=t.length,g=0;g<d;g++)p.min(o,o,[t[g][0]+s[0],t[g][1]+s[1]]),p.max(a,a,[t[g][0]+s[0],t[g][1]+s[1]]);p.min(o,o,n[0]),p.max(a,a,n[1])}for(var _=t.length,m=0;m<_;m++){var y=[t[m][0]+s[0],t[m][1]+s[1]],v=void 0,b=void 0;if(i)v=[t[m?m-1:_-1][0]+s[0],t[m?m-1:_-1][1]+s[1]],b=[t[(m+1)%_][0]+s[0],t[(m+1)%_][1]+s[1]];else{if(0===m||m===_-1){l.push([t[m][0]+s[0],t[m][1]+s[1]]);continue}v=[t[m-1][0]+s[0],t[m-1][1]+s[1]],b=[t[m+1][0]+s[0],t[m+1][1]+s[1]]}p.sub(h,b,v),p.scale(h,h,e);var x=p.distance(y,v),L=p.distance(y,b),w=x+L;0!==w&&(x/=w,L/=w),p.scale(u,h,-x),p.scale(c,h,L);var C=p.add([],y,u),I=p.add([],y,c);f&&(p.max(C,C,o),p.min(C,C,a),p.max(I,I,o),p.min(I,I,a)),l.push(C),l.push(I)}return i&&l.push(l.shift()),l},e.SUtil_smoothSpline=function(t,e,i,n){n&&2===n||(n=[0,0]);for(var r=n,o=t.length,a=[],s=0,l=1;l<o;l++)s+=p.distance([t[l-1][0]+r[0],t[l-1][1]+r[1]],[t[l][0]+r[0],t[l][1]+r[1]]);var h=s/5;h=h<o?o:h;for(var u=0;u<h;u++){var f=u/(h-1)*(e?o:o-1),d=c.Math.floor(f),g=f-d,_=void 0,m=[t[d%o][0]+r[0],t[d%o][1]+r[1]],y=void 0,v=void 0;e?(_=[t[(d-1+o)%o][0]+r[0],t[(d-1+o)%o][1]+r[1]],y=[t[(d+1)%o][0]+r[0],t[(d+1)%o][1]+r[1]],v=[t[(d+2)%o][0]+r[0],t[(d+2)%o][1]+r[1]]):(_=[t[0===d?d:d-1][0]+r[0],t[0===d?d:d-1][1]+r[1]],y=[t[d>o-2?o-1:d+1][0]+r[0],t[d>o-2?o-1:d+1][1]+r[1]],v=[t[d>o-3?o-1:d+2][0]+r[0],t[d>o-3?o-1:d+2][1]+r[1]]);var b=g*g,x=g*b;a.push([L(_[0],m[0],y[0],v[0],g,b,x),L(_[1],m[1],y[1],v[1],g,b,x)])}return a;function L(t,e,i,n,r,o,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*o+s*r+e}},e.SUtil_dashedLineTo=function(t,e,i,n,r,o,a){var s=[5,5];if(o="number"!=typeof o?5:o,t.setLineDash)return s[0]=o,s[1]=o,a&&a instanceof Array?t.setLineDash(a):t.setLineDash(s),t.moveTo(e,i),void t.lineTo(n,r);var l=n-e,h=r-i,u=c.Math.floor(c.Math.sqrt(l*l+h*h)/o);l/=u,h/=u;for(var f=!0,d=0;d<u;++d)f?t.moveTo(e,i):t.lineTo(e,i),f=!f,e+=l,i+=h;t.lineTo(n,r)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineString=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(4),o=i(59);e.LineString=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Curve),n(e,[{key:"removeComponent",value:function(t){var i=this.components&&this.components.length>2;return i&&function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeComponent",this).apply(this,arguments),i}},{key:"getSortedSegments",value:function(){for(var t,e,i=this.components.length-1,n=new Array(i),r=0;r<i;++r)t=this.components[r],e=this.components[r+1],t.x<e.x?n[r]={x1:t.x,y1:t.y,x2:e.x,y2:e.y}:n[r]={x1:e.x,y1:e.y,x2:t.x,y2:t.y};return n.sort(function(t,e){return t.x1-e.x1})}},{key:"getVertices",value:function(t){return!0===t?[this.components[0],this.components[this.components.length-1]]:!1===t?this.components.slice(1,this.components.length-1):this.components.slice()}}],[{key:"calculateCircle",value:function(t){if(t.length<3)return t;var e={},i=t[0],n=t[1],o=t[2],a=0,s=0,l=!0,h=0,u=0,c=0,f=[],d=(o.y-i.y)/(o.x-i.x),p=o.y-d*o.x;if(o.x!=i.x&&o.y!=i.y&&n.y==d*n.x+p||o.x==i.x&&n.x==i.x||o.y==i.y&&n.y==i.y||o.x==i.x&&o.y==i.y||o.x==n.x&&o.y==n.y||i.x==n.x&&i.y==n.y)f.push(i),f.push(n),f.push(o);else{var g=(n.x*n.x+n.y*n.y-(i.x*i.x+i.y*i.y))*(2*(o.y-i.y))-(o.x*o.x+o.y*o.y-(i.x*i.x+i.y*i.y))*(2*(n.y-i.y)),_=2*(n.x-i.x)*(o.x*o.x+o.y*o.y-(i.x*i.x+i.y*i.y))-2*(o.x-i.x)*(n.x*n.x+n.y*n.y-(i.x*i.x+i.y*i.y)),m=4*((n.x-i.x)*(o.y-i.y)-(o.x-i.x)*(n.y-i.y));e.x=g/m,e.y=_/m;var y=(2*(a=Math.sqrt((i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y)))*a-((i.x-o.x)*(i.x-o.x)+(i.y-o.y)*(i.y-o.y)))/(2*a*a);y=(y=y>=1?1:y)<=-1?-1:y,c=180*Math.acos(y)/Math.PI,s=(c=o.x==i.x?e.x>i.x&&n.x>i.x||e.x<i.x&&n.x<i.x?360-c:c:e.y>d*e.x+p&&n.y>d*n.x+p||e.y<d*e.x+p&&n.y<d*n.x+p?360-c:c)/72,o.y!=i.y?o.x==i.x?o.y>i.y?n.x<i.x&&(l=!1):n.x>i.x&&(l=!1):o.x<i.x?n.y<d*n.x+p&&(l=!1):n.y>d*n.x+p&&(l=!1):o.x>i.x?n.y>i.y&&(l=!1):n.y<i.y&&(l=!1);var v=(i.y-e.y)/(i.x-e.x),b=v>=0?180*Math.atan(v)/Math.PI:Math.abs(180*Math.atan(v)/Math.PI)+90,x=Math.abs(e.y);i.y==x&&x==o.y&&i.x<o.x&&(b+=180);var L=i.y-e.y;f.push(i);for(var w=1;w<72;w++){h=s*w,u=b,l?L>=0?v>=0?u+=h:u=180-(u-90)+h:u=v>0?u-180+h:90-u+h:L>=0?v>=0?u-=h:u=180-(u-90)-h:u=v>=0?u-180-h:90-u-h,u=u*Math.PI/180;var C=e.x+a*Math.cos(u),I=e.y+a*Math.sin(u);f.push(new r.Point(C,I))}f.push(o)}return f}},{key:"createLineEPS",value:function(t){var i=[],n=t.length;if(null==t||n<2)return t;for(var r=0;r<n;){if("LTypeArc"==t[r].type){var o=e.createLineArc(i,r,n,t);i=o[0],r=o[1]}else i.push(t[r]),r++}return i}},{key:"createLineArc",value:function(t,i,n,r){if(0==i){var o=e.addPointEPS(r,i,n,"LTypeArc");Array.prototype.push.apply(t,o[0]),i=o[1]+1}else if(i==n-1){var a=[r[i-1],r[i]],s=e.calculateCircle(a);Array.prototype.push.apply(t,s),i++}else{var l=e.addPointEPS(r,i,n,"LTypeArc");t.pop(),Array.prototype.push.apply(t,l[0]),i=l[1]+1}return[t,i]}},{key:"addPointEPS",value:function(t,i,n,r){var o,a=[],s=i+1;return 0==i?Array.prototype.push.apply(a,[t[i],t[i+1]]):i==n-1?Array.prototype.push.apply(a,[t[i-1],t[i]]):Array.prototype.push.apply(a,[t[i-1],t[i],t[i+1]]),"LTypeCurve"==r?o=e.calculatePointsFBZN(a):"LTypeArc"==r&&(o=e.calculateCircle(a)),[o,s]}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDataValues=e.Graph=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(34),o=i(5),a=i(6);e.Graph=function(t){function e(t,i,n,r,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,a,s));l.shapeFactory=null,l.shapeParameters=null,l.RelativeCoordinate=!1,l.setting=null,l.origonPoint=null,l.chartBox=null,l.chartBounds=null,l.width=null,l.height=null,l.XOffset=0,l.YOffset=0,l.DVBParameter=null,l.dataViewBox=null,l.DVBCodomain=null,l.DVBCenterPoint=null,l.DVBUnitValue=null,l.DVBOrigonPoint=null,l.DVBWidth=null,l.DVBHeight=null,l.origonPointOffset=null,l.fields=null,l.dataValues=null;var h=l;if(a)h.lonlat=a;else{var u=t.geometry.getBounds();h.lonlat=u.getCenterLonLat()}return r&&r.width&&r.height&&r.codomain&&(h.setting=r),h.fields=n||[],h.shapeFactory=new o.ShapeFactory,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Theme),n(e,[{key:"destroy",value:function(){this.shapeFactory=null,this.shapeParameters=null,this.width=null,this.height=null,this.origonPoint=null,this.chartBox=null,this.dataViewBox=null,this.chartBounds=null,this.DVBParameter=null,this.DVBOrigonPoint=null,this.DVBCenterPoint=null,this.DVBWidth=null,this.DVBHeight=null,this.DVBCodomain=null,this.DVBUnitValue=null,this.origonPointOffset=null,this.XOffset=null,this.YOffset=null,this.fields=null,this.dataValues=null,this.setting=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initBaseParameter",value:function(){if(!this.setting)return!1;var t=this.setting;if(!(t.width&&t.height&&t.codomain))return!1;var e=void 0===t.decimalNumber||isNaN(t.decimalNumber)?-1:t.decimalNumber,i=s(this.data,this.fields,e);this.dataValues=i||[],this.width=parseFloat(t.width),this.height=parseFloat(t.height),this.DVBCodomain=t.codomain,this.XOffset=t.XOffset?t.XOffset:0,this.YOffset=t.YOffset?t.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=t.dataViewBoxParameter?t.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var n=this.width,r=this.height,o=this.location;this.origonPoint=[o[0]-n/2,o[1]-r/2];var a=this.origonPoint;this.chartBox=[a[0],a[1]+r,a[0]+n,a[1]];var l=this.chartBox,h=this.DVBParameter;this.dataViewBox=[l[0]+h[0],l[1]-h[1],l[2]-h[2],l[3]+h[3]];var u=this.dataViewBox;return!(u[0]>=u[2]||u[1]<=u[3])&&(this.DVBOrigonPoint=[u[0],u[3]],this.DVBWidth=Math.abs(u[2]-u[0]),this.DVBHeight=Math.abs(u[1]-u[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-a[0],this.DVBOrigonPoint[1]-a[1]],!0)}},{key:"resetLocation",value:function(t){t&&(this.lonlat=t);var e=this.getLocalXY(this.lonlat);e[0]+=this.XOffset,e[1]+=this.YOffset,this.location=e;var i=this.width,n=this.height,r=this.location;return this.chartBounds=new a.Bounds(r[0]-i/2,r[1]+n/2,r[0]+i/2,r[1]-n/2),this.resetLinearGradient(),r}},{key:"resetLinearGradient",value:function(){}},{key:"shapesConvertToRelativeCoordinate",value:function(){for(var t=this.shapes,e=this.location,i=0,n=t.length;i<n;i++){t[i].refOriginalPosition=e;var r=t[i].style;for(var o in r)switch(o){case"pointList":for(var a=r[o],s=0,l=a.length;s<l;s++)a[s][0]-=e[0],a[s][1]-=e[1];break;case"x":r[o]-=e[0];break;case"y":r[o]-=e[1]}}this.RelativeCoordinate=!0}},{key:"assembleShapes",value:function(){}},{key:"getLocalXY",value:function(t){return this.layer.getLocalXY(t)}}]),e}();var s=e.getDataValues=function(t,e,i){if(!t.attributes)return!1;for(var n=[],r=t.attributes,o=0;o<e.length;o++)for(var a in r)if(a===e[o])try{!isNaN(i)&&i>=0?n.push(parseFloat(r[a].toString()).toFixed(i)):n.push(parseFloat(r[a].toString()))}catch(t){throw new Error("not a number")}return n.length===e.length&&n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShapeParameters=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i(19);e.ShapeParameters=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.refOriginalPosition=null,this.refDataID=null,this.isHoverByRefDataID=!1,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=!0,this.hoverable=!0,this.style=null,this.highlightStyle=null,this.refOriginalPosition=[0,0],this.highlightStyle={}}return n(t,[{key:"destroy",value:function(){this.refOriginalPosition=null,this.refDataID=null,this.isHoverByRefDataID=null,this.refDataHoverGroup=null,this.dataInfo=null,this.clickable=null,this.hoverable=null,this.style=null,this.highlightStyle=null}}]),t}()},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var r=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(o).concat([r]).join("\n")}var a;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),e.push(a))}},e}},function(t,e,i){var n,r,o,a={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),l=(o={},function(t){if(void 0===o[t]){var e=function(t){return document.querySelector(t)}.call(this,t);if(e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}o[t]=e}return o[t]}),h=null,u=0,c=[],f=i(199);function d(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=a[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(v(n.parts[o],e))}else{var s=[];for(o=0;o<n.parts.length;o++)s.push(v(n.parts[o],e));a[n.id]={id:n.id,refs:1,parts:s}}}}function p(t,e){for(var i=[],n={},r=0;r<t.length;r++){var o=t[r],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):i.push(n[a]={id:a,parts:[s]})}return i}function g(t,e){var i=l(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),c.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(t.insertInto+" "+t.insertAt.before);i.insertBefore(e,r)}}function _(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function m(t){var e=document.createElement("style");return t.attrs.type="text/css",y(e,t.attrs),g(t,e),e}function y(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function v(t,e){var i,n,r,o,a,s;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var l=u++;i=h||(h=m(e)),n=L.bind(null,i,l,!1),r=L.bind(null,i,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=e,s=document.createElement("link"),a.attrs.type="text/css",a.attrs.rel="stylesheet",y(s,a.attrs),g(a,s),n=function(t,e,i){var n=i.css,r=i.sourceMap,o=void 0===e.convertToAbsoluteUrls&&r;(e.convertToAbsoluteUrls||o)&&(n=f(n));r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,i=s,e),r=function(){_(i),i.href&&URL.revokeObjectURL(i.href)}):(i=m(e),n=function(t,e){var i=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){_(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=p(t,e);return d(i,e),function(t){for(var n=[],r=0;r<i.length;r++){var o=i[r];(s=a[o.id]).refs--,n.push(s)}t&&d(p(t,e),e);for(r=0;r<n.length;r++){var s;if(0===(s=n[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var b,x=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function L(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=e.State=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(19),o=i(0);var a=e.State={UNKNOWN:"Unknown",INSERT:"Insert",UPDATE:"Update",DELETE:"Delete"};(e.Vector=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,null,null,i));return r.fid=null,r.geometry=null,r.attributes=null,r.bounds=null,r.state=null,r.style=null,r.url=null,r.lonlat=null,r.geometry=t||null,r.state=null,r.attributes={},i&&(r.attributes=(0,o.extend)(r.attributes,i)),r.style=n||null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Feature),n(e,[{key:"destroy",value:function(){this.layer&&(this.layer.removeFeatures(this),this.layer=null),this.geometry=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){return new e(this.geometry?this.geometry.clone():null,this.attributes,this.style)}},{key:"toState",value:function(t){if(t===a.UPDATE)switch(this.state){case a.UNKNOWN:case a.DELETE:this.state=t}else if(t===a.INSERT)switch(this.state){case a.UNKNOWN:break;default:this.state=t}else if(t===a.DELETE)switch(this.state){case a.INSERT:case a.DELETE:break;case a.UNKNOWN:case a.UPDATE:this.state=t}else t===a.UNKNOWN&&(this.state=t)}}]),e}()).style={default:{fillColor:"#ee9900",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"inherit",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},select:{fillColor:"blue",fillOpacity:.4,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"blue",strokeOpacity:1,strokeWidth:2,strokeLinecap:"round",strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"pointer",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},temporary:{fillColor:"#66cccc",fillOpacity:.2,hoverFillColor:"white",hoverFillOpacity:.8,strokeColor:"#66cccc",strokeOpacity:1,strokeLinecap:"round",strokeWidth:2,strokeDashstyle:"solid",hoverStrokeColor:"red",hoverStrokeOpacity:1,hoverStrokeWidth:.2,pointRadius:6,hoverPointRadius:1,hoverPointUnit:"%",pointerEvents:"visiblePainted",cursor:"default",fontColor:"#000000",labelAlign:"cm",labelOutlineColor:"white",labelOutlineWidth:3},delete:{display:"none"}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Collection=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(18),o=i(6),a=i(0);e.Collection=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.components=null,i.componentTypes=null,i.components=[],null!=t&&i.addComponents(t),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Geometry),n(e,[{key:"destroy",value:function(){this.components.length=0,this.components=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"clone",value:function(){for(var t=new e,i=0,n=this.components.length;i<n;i++)t.addComponent(this.components[i].clone());return(0,a.applyDefaults)(t,this),t}},{key:"getComponentsString",value:function(){for(var t=[],e=0,i=this.components.length;e<i;e++)t.push(this.components[e].toShortString());return t.join(",")}},{key:"calculateBounds",value:function(){this.bounds=null;var t=new o.Bounds,e=this.components;if(e)for(var i=0,n=e.length;i<n;i++)t.extend(e[i].getBounds());null!=t.left&&null!=t.bottom&&null!=t.right&&null!=t.top&&this.setBounds(t)}},{key:"addComponents",value:function(t){(0,a.isArray)(t)||(t=[t]);for(var e=0,i=t.length;e<i;e++)this.addComponent(t[e])}},{key:"addComponent",value:function(t,e){var i=!1;if(t&&null==this.componentTypes){if(null!=e&&e<this.components.length){var n=this.components.slice(0,e),r=this.components.slice(e,this.components.length);n.push(t),this.components=n.concat(r)}else this.components.push(t);t.parent=this,this.clearBounds(),i=!0}return i}},{key:"removeComponents",value:function(t){var e=!1;(0,a.isArray)(t)||(t=[t]);for(var i=t.length-1;i>=0;--i)e=this.removeComponent(t[i])||e;return e}},{key:"removeComponent",value:function(t){return(0,a.removeItem)(this.components,t),this.clearBounds(),!0}},{key:"getArea",value:function(){for(var t=0,e=0,i=this.components.length;e<i;e++)t+=this.components[e].getArea();return t}},{key:"equals",value:function(t){var e=!0;if(t)if((0,a.isArray)(t.components)&&t.components.length===this.components.length){for(var i=0,n=this.components.length;i<n;++i)if(!this.components[i].equals(t.components[i])){e=!1;break}}else e=!1;else e=!1;return e}},{key:"getVertices",value:function(t){for(var e=[],i=0,n=this.components.length;i<n;++i)Array.prototype.push.apply(e,this.components[i].getVertices(t));return e}}]),e}()},function(t,e){t.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},function(t,e){t.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Util=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.BUILTIN_OBJECT=null,this._ctx=null,this._canvas=null,this._pixelCtx=null,this._width=null,this._height=null,this._offsetX=0,this._offsetY=0,this.BUILTIN_OBJECT={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1}}return r(t,[{key:"clone",value:function(t){var e=this.BUILTIN_OBJECT;if("object"==(void 0===t?"undefined":n(t))&&null!==t){var i=t;if(t instanceof Array){i=[];for(var r=0,o=t.length;r<o;r++)i[r]=this.clone(t[r])}else if(!e[Object.prototype.toString.call(t)])for(var a in i={},t)t.hasOwnProperty(a)&&(i[a]=this.clone(t[a]));return i}return t}},{key:"mergeItem",value:function(t,e,i,r){var o=this.BUILTIN_OBJECT;e.hasOwnProperty(i)&&("object"!=n(t[i])||o[Object.prototype.toString.call(t[i])]?!r&&i in t||(t[i]=e[i]):this.merge(t[i],e[i],r))}},{key:"merge",value:function(t,e,i){for(var n in e)this.mergeItem(t,e,n,i);return t}},{key:"getContext",value:function(){return this._ctx||(this._ctx=document.createElement("canvas").getContext("2d")),this._ctx}},{key:"getPixelContext",value:function(){return this._pixelCtx||(this._canvas=document.createElement("canvas"),this._width=this._canvas.width,this._height=this._canvas.height,this._pixelCtx=this._canvas.getContext("2d")),this._pixelCtx}},{key:"adjustCanvasSize",value:function(t,e){var i,n=this._canvas,r=this._pixelCtx,o=this._width,a=this._height,s=this._offsetX,l=this._offsetY;t+s>o&&(o=t+s+100,n.width=o,i=!0),e+l>a&&(a=e+l+100,n.height=a,i=!0),t<-s&&(o+=s=100*Math.ceil(-t/100),n.width=o,i=!0),e<-l&&(a+=l=100*Math.ceil(-e/100),n.height=a,i=!0),i&&r.translate(s,l)}},{key:"getPixelOffset",value:function(){return{x:this._offsetX,y:this._offsetY}}},{key:"indexOf",value:function(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Geometry=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=(i(13),i(0));e.Geometry=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=null,this.parent=null,this.bounds=null,this.SRID=null,this.id=(0,r.createUniqueID)("Geometry_")}return n(t,[{key:"destroy",value:function(){this.id=null,this.bounds=null,this.SRID=null}},{key:"clone",value:function(){return new t}},{key:"setBounds",value:function(t){t&&(this.bounds=t.clone())}},{key:"clearBounds",value:function(){this.bounds=null,this.parent&&this.parent.clearBounds()}},{key:"extendBounds",value:function(t){this.getBounds()?this.bounds.extend(t):this.setBounds(t)}},{key:"getBounds",value:function(){return null==this.bounds&&this.calculateBounds(),this.bounds}},{key:"calculateBounds",value:function(){}},{key:"getVertices",value:function(t){}},{key:"getArea",value:function(){return 0}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Feature=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(0);e.Feature=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layer=null,this.id=null,this.lonlat=null,this.data=null,this.layer=e,this.lonlat=i,this.data=null!=n?n:{},this.id=(0,r.createUniqueID)("Feature_")}return n(t,[{key:"destroy",value:function(){this.id=null,this.lonlat=null,this.data=null}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinearRing=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},o=i(8);e.LinearRing=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.componentTypes=["Geometry.Point"],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.LineString),n(e,[{key:"addComponent",value:function(t,i){var n=!1,o=this.components.pop();null==i&&t.equals(o)||(n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addComponent",this).apply(this,arguments));var a=this.components[0];return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addComponent",this).apply(this,[a]),n}},{key:"removeComponent",value:function(t){var i=this.components&&this.components.length>3;if(i){this.components.pop(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeComponent",this).apply(this,arguments);var n=this.components[0];r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addComponent",this).apply(this,[n])}return i}},{key:"getArea",value:function(){var t=0;if(this.components&&this.components.length>2){for(var e=0,i=0,n=this.components.length;i<n-1;i++){var r=this.components[i],o=this.components[i+1];e+=(r.x+o.x)*(o.y-r.y)}t=-e/2}return t}},{key:"getVertices",value:function(t){return!0===t?[]:this.components.slice(0,this.components.length-1)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(14);i(4),i(8),i(20);e.Polygon=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.componentTypes=["Geometry.LinearRing"],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Collection),n(e,[{key:"getArea",value:function(){var t=0;if(this.components&&this.components.length>0){t+=Math.abs(this.components[0].getArea());for(var e=1,i=this.components.length;e<i;e++)t-=Math.abs(this.components[e].getArea())}return t}}]),e}()},function(t,e){t.exports=function(t){return t<0?-1:1}},function(t,e){t.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},function(t,e){t.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},function(t,e){t.exports=function(t){return.05859375*t*t*(1+.75*t)}},function(t,e){t.exports=function(t){return t*t*t*(35/3072)}},function(t,e){t.exports=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)}},function(t,e,i){var n=Math.PI/2,r=i(22);t.exports=function(t){return Math.abs(t)<n?t:t-r(t)*Math.PI}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiPoint=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(14);e.MultiPoint=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.componentTypes=["Geometry.Point"],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Collection),n(e,[{key:"addPoint",value:function(t,e){this.addComponent(t,e)}},{key:"removePoint",value:function(t){this.removeComponent(t)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Eventful=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._handlers={},this._handlers={}}return n(t,[{key:"destroy",value:function(){this._handlers=null}},{key:"one",value:function(t,e,i){var n=this._handlers;return e&&t?(n[t]||(n[t]=[]),n[t].push({h:e,one:!0,ctx:i||this}),this):this}},{key:"bind",value:function(t,e,i){var n=this._handlers;return e&&t?(n[t]||(n[t]=[]),n[t].push({h:e,one:!1,ctx:i||this}),this):this}},{key:"unbind",value:function(t,e){var i=this._handlers;if(!t)return this._handlers={},this;if(e){if(i[t]){for(var n=[],r=0,o=i[t].length;r<o;r++)i[t][r].h!=e&&n.push(i[t][r]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this}},{key:"dispatch",value:function(t){if(this._handlers[t]){var e=arguments,i=e.length;i>3&&(e=Array.prototype.slice.call(e,1));for(var n=this._handlers[t],r=n.length,o=0;o<r;){switch(i){case 1:n[o].h.call(n[o].ctx);break;case 2:n[o].h.call(n[o].ctx,e[1]);break;case 3:n[o].h.call(n[o].ctx,e[1],e[2]);break;default:n[o].h.apply(n[o].ctx,e)}n[o].one?(n.splice(o,1),r--):o++}}return this}},{key:"dispatchWithContext",value:function(t){if(this._handlers[t]){var e=arguments,i=e.length;i>4&&(e=Array.prototype.slice.call(e,1,e.length-1));for(var n=e[e.length-1],r=this._handlers[t],o=r.length,a=0;a<o;){switch(i){case 1:r[a].h.call(n);break;case 2:r[a].h.call(n,e[1]);break;case 3:r[a].h.call(n,e[1],e[2]);break;default:r[a].h.apply(n,e)}r[a].one?(r.splice(a,1),o--):a++}}return this}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GeometryType={LINE:"LINE",LINEM:"LINEM",POINT:"POINT",REGION:"REGION",ELLIPSE:"ELLIPSE",CIRCLE:"CIRCLE",TEXT:"TEXT",UNKNOWN:"UNKNOWN"},e.ChartType={BAR:"Bar",BAR3D:"Bar3D",CIRCLE:"Circle",PIE:"Pie",POINT:"Point",LINE:"Line",RING:"Ring"}},function(t,e){var i=Math.PI/2;t.exports=function(t,e,n){var r=t*n,o=.5*t;return r=Math.pow((1-r)/(1+r),o),Math.tan(.5*(i-e))/r}},function(t,e){var i=Math.PI/2;t.exports=function(t,e){for(var n,r,o=.5*t,a=i-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(a),a+=r=i-2*Math.atan(e*Math.pow((1-n)/(1+n),o))-a,Math.abs(r)<=1e-10)return a;return-9999}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Theme=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(0);i(19);e.Theme=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=null,this.lonlat=null,this.location=null,this.data=null,this.shapes=null,this.layer=null,e&&i&&i.map&&i.renderer&&(this.id=(0,r.createUniqueID)("Theme_"),this.data=e,this.layer=i,this.location=[],this.shapes=[])}return n(t,[{key:"destroy",value:function(){this.data=null,this.id=null,this.lonlat=null,this.location=null,this.shapes=null,this.layer=null}},{key:"getLocalXY",value:function(t){var e=this.layer.map.getResolution(),i=this.layer.map.getExtent();return t instanceof Geometry.Point||t instanceof Geometry.GeoText?[t.x/e+-i.left/e,i.top/e-t.y/e]:t instanceof LonLat?[t.lon/e+-i.left/e,i.top/e-t.lat/e]:null}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicPolygon=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3),o=i(0);e.SmicPolygon=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smicpolygon",i.holePolygonPointLists=null,i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,this.holePolygonPointLists=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"brush",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.style;e&&(i=this.getHighlightStyle(i,this.highlightStyle||{})),t.save(),this.setContext(t,i),this.setTransform(t);var n=!1;"fill"!=i.brushType&&"both"!=i.brushType&&void 0!==i.brushType||(t.beginPath(),"dashed"==i.lineType||"dotted"==i.lineType||"dot"==i.lineType||"dash"==i.lineType||"dashot"==i.lineType||"longdash"==i.lineType||"longdashdot"==i.lineType?(this.buildPath(t,{lineType:"solid",lineWidth:i.lineWidth,pointList:i.pointList}),n=!1):(this.buildPath(t,i),n=!0),t.closePath(),this.setCtxGlobalAlpha(t,"fill",i),t.fill(),this.setCtxGlobalAlpha(t,"reset",i)),i.lineWidth>0&&("stroke"==i.brushType||"both"==i.brushType)&&(n||(t.beginPath(),this.buildPath(t,i)),this.setCtxGlobalAlpha(t,"stroke",i),t.stroke(),this.setCtxGlobalAlpha(t,"reset",i)),this.drawText(t,i,this.style);var r=(0,o.cloneObject)(i);if(r.pointList&&this.holePolygonPointLists&&this.holePolygonPointLists.length>0)for(var a=this.holePolygonPointLists,s=a.length,l=0;l<s;l++){var h=a[l];r.pointList=h,t.globalCompositeOperation="destination-out",n=!1,"fill"!=r.brushType&&"both"!=r.brushType&&void 0!==r.brushType||(t.beginPath(),"dashed"==r.lineType||"dotted"==r.lineType||"dot"==r.lineType||"dash"==r.lineType||"dashot"==r.lineType||"longdash"==r.lineType||"longdashdot"==r.lineType?(this.buildPath(t,{lineType:"solid",lineWidth:r.lineWidth,pointList:r.pointList}),n=!1):(this.buildPath(t,r),n=!0),t.closePath(),this.setCtxGlobalAlpha(t,"fill",r),t.fill(),this.setCtxGlobalAlpha(t,"reset",r)),r.lineWidth>0&&("stroke"==r.brushType||"both"==r.brushType)?(n||(t.beginPath(),this.buildPath(t,r)),t.globalCompositeOperation="source-over",this.setCtxGlobalAlpha(t,"stroke",r),t.stroke(),this.setCtxGlobalAlpha(t,"reset",r)):t.globalCompositeOperation="source-over"}t.restore()}},{key:"buildPath",value:function(t,e){e.showShadow&&(t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY),this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition,n=e.pointList;if(!(n.length<2))if(e.smooth&&"spline"!==e.smooth){var r,o,a,s=SUtil_smoothBezier(n,e.smooth,!0,e.smoothConstraint,i);t.moveTo(n[0][0]+i[0],n[0][1]+i[1]);for(var l=n.length,h=0;h<l;h++)r=s[2*h],o=s[2*h+1],a=[n[(h+1)%l][0]+i[0],n[(h+1)%l][1]+i[1]],t.bezierCurveTo(r[0],r[1],o[0],o[1],a[0],a[1])}else if("spline"===e.smooth&&(n=SUtil_smoothSpline(n,!0,null,i)),e.lineType&&"solid"!=e.lineType){if("dashed"===e.lineType||"dotted"===e.lineType||"dot"===e.lineType||"dash"===e.lineType||"longdash"===e.lineType){var u=e._dashLength||(e.lineWidth||1)*("dashed"==e.lineType?5:1);e._dashLength=u;var c=e.lineWidth||1,f=c,d=c;"dashed"===e.lineType&&(f*=5,d*=5,e.lineCap&&"butt"!==e.lineCap&&(f-=c,d+=c)),"dotted"===e.lineType&&e.lineCap&&"butt"!==e.lineCap&&(f=1,d+=c),"dot"===e.lineType&&(d*=4,e.lineCap&&"butt"!==e.lineCap&&(f=1,d+=c)),"dash"===e.lineType&&(f*=4,d*=4,e.lineCap&&"butt"!==e.lineCap&&(f-=c,d+=c)),"longdash"===e.lineType&&(f*=8,d*=4,e.lineCap&&"butt"!==e.lineCap&&(f-=c,d+=c)),t.moveTo(n[0][0]+i[0],n[0][1]+i[1]);for(var p=1;p<n.length;p++)SUtil_dashedLineTo(t,n[p-1][0]+i[0],n[p-1][1]+i[1],n[p][0]+i[0],n[p][1]+i[1],c,[f,d]);SUtil_dashedLineTo(t,n[n.length-1][0]+i[0],n[n.length-1][1]+i[1],n[0][0]+i[0],n[0][1]+i[1],c,[f,d])}else if("dashot"===e.lineType||"longdashdot"===e.lineType){var g=e._dashLength||(e.lineWidth||1)*("dashed"==e.lineType?5:1);e._dashLength=g;var _=e.lineWidth||1,m=_,y=_,v=_,b=_;"dashot"===e.lineType&&(m*=4,y*=4,b*=4,e.lineCap&&"butt"!==e.lineCap&&(m-=_,y+=_,v=1,b+=_)),"longdashdot"===e.lineType&&(m*=8,y*=4,b*=4,e.lineCap&&"butt"!==e.lineCap&&(m-=_,y+=_,v=1,b+=_)),t.moveTo(n[0][0]+i[0],n[0][1]+i[1]);for(var x=1;x<n.length;x++)SUtil_dashedLineTo(t,n[x-1][0]+i[0],n[x-1][1]+i[1],n[x][0]+i[0],n[x][1]+i[1],_,[m,y,v,b]);SUtil_dashedLineTo(t,n[n.length-1][0]+i[0],n[n.length-1][1]+i[1],n[0][0]+i[0],n[0][1]+i[1],_,[m,y,v,b])}}else{t.moveTo(n[0][0]+i[0],n[0][1]+i[1]);for(var L=1;L<n.length;L++)t.lineTo(n[L][0]+i[0],n[L][1]+i[1]);t.lineTo(n[0][0]+i[0],n[0][1]+i[1])}}},{key:"getRect",value:function(t,e){var i;if(e?i=e:(this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]),i=this.refOriginalPosition),t.__rect)return t.__rect;for(var n,r=Number.MAX_VALUE,o=Number.MIN_VALUE,a=Number.MAX_VALUE,s=Number.MIN_VALUE,l=t.pointList,h=0,u=l.length;h<u;h++)l[h][0]+i[0]<r&&(r=l[h][0]+i[0]),l[h][0]+i[0]>o&&(o=l[h][0]+i[0]),l[h][1]+i[1]<a&&(a=l[h][1]+i[1]),l[h][1]+i[1]>s&&(s=l[h][1]+i[1]);return n="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(r-n/2),y:Math.round(a-n/2),width:o-r+n,height:s-a+n},t.__rect}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoText=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(18),o=i(6),a=i(0),s=i(4);i(8),i(58),i(40);e.GeoText=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return r.x=null,r.y=null,r.text=null,r.bsInfo=null,r.bsInfo={h:null,w:null},r.x=parseFloat(t),r.y=parseFloat(i),r.text=n.toString(),r.element=document.createElement("span"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Geometry),n(e,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this),this.x=null,this.y=null,this.text=null}},{key:"getCentroid",value:function(){return new s.Point(this.x,this.y)}},{key:"clone",value:function(t){return null==t&&(t=new e(this.x,this.y,this.text)),(0,a.applyDefaults)(t,this),t}},{key:"calculateBounds",value:function(){this.bounds=new o.Bounds(this.x,this.y,this.x,this.y)}},{key:"getLabelPxBoundsByLabel",value:function(t,e,i,n){var r,s,l,h,u=(0,a.cloneObject)(t),c=(n.label||this.text).split("\n").length;if(e=parseFloat(e),i=parseFloat(i),c>1&&(i=parseFloat(i)*c),n.labelAlign&&"cm"!==n.labelAlign)switch(n.labelAlign){case"lt":u.x+=e/2,u.y+=i/2;break;case"lm":u.x+=e/2;break;case"lb":u.x+=e/2,u.y-=i/2;break;case"ct":u.y+=i/2;break;case"cb":u.y-=i/2;break;case"rt":u.x-=e/2,u.y+=i/2;break;case"rm":u.x-=e/2;break;case"rb":u.x-=e/2,u.y-=i/2}return this.bsInfo.h=i,this.bsInfo.w=e,r=u.x-parseFloat(e)/2,s=u.y+parseFloat(i)/2,h=u.x+parseFloat(e)/2,l=u.y-parseFloat(i)/2,new o.Bounds(r,s,h,l)}},{key:"getLabelPxBoundsByText",value:function(t,e){var i,n,r,s,l=this.getLabelPxSize(e),h=(0,a.cloneObject)(t);if(e.labelAlign&&"cm"!==e.labelAlign)switch(e.labelAlign){case"lt":h.x+=l.w/2,h.y+=l.h/2;break;case"lm":h.x+=l.w/2;break;case"lb":h.x+=l.w/2,h.y-=l.h/2;break;case"ct":h.y+=l.h/2;break;case"cb":h.y-=l.h/2;break;case"rt":h.x-=l.w/2,h.y+=l.h/2;break;case"rm":h.x-=l.w/2;break;case"rb":h.x-=l.w/2,h.y-=l.h/2}return this.bsInfo.h=l.h,this.bsInfo.w=l.w,i=h.x-l.w/2,n=h.y+l.h/2,s=e.fontStyle&&e.fontStyle&&"italic"===e.fontStyle?h.x+l.w/2+parseInt(parseFloat(e.fontSize)/2):h.x+l.w/2,r=h.y-l.h/2,new o.Bounds(i,n,s,r)}},{key:"getLabelPxSize",value:function(t){var e,i,n,r,o=parseFloat(t.strokeWidth);if(e=t.label||this.text,!t.fontSize)return null;i=parseFloat(t.fontSize);var s=e.split("\n"),l=s.length;r=l>1?i*l+l+o+.2*i:i+o+.2*i+1,n=0,this.labelWTmp&&n<this.labelWTmp&&(n=this.labelWTmp);for(var h=0;h<l;h++){var u=this.getTextCount(s[h]),c=this.labelWTmp=(0,a.getTextBounds)(t,s[h],this.element).textWidth+1*u.textC+o;n<c&&(n=c)}var f=new Object;return f.h=r,f.w=n,f}},{key:"getTextCount",value:function(t){for(var e={},i=0,n=0,r=0;r<t.length;r++)t.charCodeAt(r)>255?i++:n++;return e.cnC=i,e.enC=n,e.textC=t.length,e}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Curve=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(38);e.Curve=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.vector=null,this.EPSILON=null,this.THREE_SQRT=null,this.ONE_THIRD=null,this.vector=new r.Vector,this.EPSILON=1e-4,this.THREE_SQRT=Math.sqrt(3),this.ONE_THIRD=1/3}return n(t,[{key:"isAroundZero",value:function(t){return t>-this.EPSILON&&t<this.EPSILON}},{key:"isNotAroundZero",value:function(t){return t>this.EPSILON||t<-this.EPSILON}},{key:"cubicAt",value:function(t,e,i,n,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*n+3*o*i)}},{key:"cubicDerivativeAt",value:function(t,e,i,n,r){var o=1-r;return 3*(((e-t)*o+2*(i-e)*r)*o+(n-i)*r*r)}},{key:"cubicRootAt",value:function(t,e,i,n,r,o){var a=n+3*(e-i)-t,s=3*(i-2*e+t),l=3*(e-t),h=t-r,u=s*s-3*a*l,c=s*l-9*a*h,f=l*l-3*s*h,d=0;if(this.isAroundZero(u)&&this.isAroundZero(c))if(this.isAroundZero(s))o[0]=0;else{var p=-l/s;p>=0&&p<=1&&(o[d++]=p)}else{var g=c*c-4*u*f;if(this.isAroundZero(g)){var _=c/u,m=-s/a+_,y=-_/2;m>=0&&m<=1&&(o[d++]=m),y>=0&&y<=1&&(o[d++]=y)}else if(g>0){var v=Math.sqrt(g),b=u*s+1.5*a*(-c+v),x=u*s+1.5*a*(-c-v),L=(-s-((b=b<0?-Math.pow(-b,this.ONE_THIRD):Math.pow(b,this.ONE_THIRD))+(x=x<0?-Math.pow(-x,this.ONE_THIRD):Math.pow(x,this.ONE_THIRD))))/(3*a);L>=0&&L<=1&&(o[d++]=L)}else{var w=(2*u*s-3*a*c)/(2*Math.sqrt(u*u*u)),C=Math.acos(w)/3,I=Math.sqrt(u),M=Math.cos(C),E=(-s-2*I*M)/(3*a),O=(-s+I*(M+this.THREE_SQRT*Math.sin(C)))/(3*a),S=(-s+I*(M-this.THREE_SQRT*Math.sin(C)))/(3*a);E>=0&&E<=1&&(o[d++]=E),O>=0&&O<=1&&(o[d++]=O),S>=0&&S<=1&&(o[d++]=S)}}return d}},{key:"cubicExtrema",value:function(t,e,i,n,r){var o=6*i-12*e+6*t,a=9*e+3*n-3*t-9*i,s=3*e-3*t,l=0;if(this.isAroundZero(a)){if(this.isNotAroundZero(o)){var h=-s/o;h>=0&&h<=1&&(r[l++]=h)}}else{var u=o*o-4*a*s;if(this.isAroundZero(u))r[0]=-o/(2*a);else if(u>0){var c=Math.sqrt(u),f=(-o+c)/(2*a),d=(-o-c)/(2*a);f>=0&&f<=1&&(r[l++]=f),d>=0&&d<=1&&(r[l++]=d)}}return l}},{key:"cubicSubdivide",value:function(t,e,i,n,r,o){var a=(e-t)*r+t,s=(i-e)*r+e,l=(n-i)*r+i,h=(s-a)*r+a,u=(l-s)*r+s,c=(u-h)*r+h;o[0]=t,o[1]=a,o[2]=h,o[3]=c,o[4]=c,o[5]=u,o[6]=l,o[7]=n}},{key:"cubicProjectPoint",value:function(t,e,i,n,r,o,a,s,l,h,u){var c,f=this.vector.create(),d=this.vector.create(),p=this.vector.create(),g=.005,_=1/0;f[0]=l,f[1]=h;for(var m=0;m<1;m+=.05){d[0]=this.cubicAt(t,i,r,a,m),d[1]=this.cubicAt(e,n,o,s,m);var y=this.vector.distSquare(f,d);y<_&&(c=m,_=y)}_=1/0;for(var v=0;v<32&&!(g<this.EPSILON);v++){var b=c-g,x=c+g;d[0]=this.cubicAt(t,i,r,a,b),d[1]=this.cubicAt(e,n,o,s,b);var L=this.vector.distSquare(d,f);if(b>=0&&L<_)c=b,_=L;else{p[0]=this.cubicAt(t,i,r,a,x),p[1]=this.cubicAt(e,n,o,s,x);var w=this.vector.distSquare(p,f);x<=1&&w<_?(c=x,_=w):g*=.5}}return u&&(u[0]=this.cubicAt(t,i,r,a,c),u[1]=this.cubicAt(e,n,o,s,c)),Math.sqrt(_)}},{key:"quadraticAt",value:function(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}},{key:"quadraticDerivativeAt",value:function(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}},{key:"quadraticRootAt",value:function(t,e,i,n,r){var o=t-2*e+i,a=2*(e-t),s=t-n,l=0;if(this.isAroundZero(o)){if(this.isNotAroundZero(a)){var h=-s/a;h>=0&&h<=1&&(r[l++]=h)}}else{var u=a*a-4*o*s;if(this.isAroundZero(u)){var c=-a/(2*o);c>=0&&c<=1&&(r[l++]=c)}else if(u>0){var f=Math.sqrt(u),d=(-a+f)/(2*o),p=(-a-f)/(2*o);d>=0&&d<=1&&(r[l++]=d),p>=0&&p<=1&&(r[l++]=p)}}return l}},{key:"quadraticExtremum",value:function(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}},{key:"quadraticProjectPoint",value:function(t,e,i,n,r,o,a,s,l){var h,u=this.vector.create(),c=this.vector.create(),f=this.vector.create(),d=.005,p=1/0;u[0]=a,u[1]=s;for(var g=0;g<1;g+=.05){c[0]=this.quadraticAt(t,i,r,g),c[1]=this.quadraticAt(e,n,o,g);var _=this.vector.distSquare(u,c);_<p&&(h=g,p=_)}p=1/0;for(var m=0;m<32&&!(d<this.EPSILON);m++){var y=h-d,v=h+d;c[0]=this.quadraticAt(t,i,r,y),c[1]=this.quadraticAt(e,n,o,y);var b=this.vector.distSquare(c,u);if(y>=0&&b<p)h=y,p=b;else{f[0]=this.quadraticAt(t,i,r,v),f[1]=this.quadraticAt(e,n,o,v);var x=this.vector.distSquare(f,u);v<=1&&x<p?(h=v,p=x):d*=.5}}return l&&(l[0]=this.quadraticAt(t,i,r,h),l[1]=this.quadraticAt(e,n,o,h)),Math.sqrt(p)}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Vector=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ArrayCtor=null,this.ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array}return n(t,[{key:"create",value:function(t,e){var i=new(0,this.ArrayCtor)(2);return i[0]=t||0,i[1]=e||0,i}},{key:"copy",value:function(t,e){return t[0]=e[0],t[1]=e[1],t}},{key:"set",value:function(t,e,i){return t[0]=e,t[1]=i,t}},{key:"add",value:function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}},{key:"scaleAndAdd",value:function(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}},{key:"sub",value:function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}},{key:"len",value:function(t){return Math.sqrt(this.lenSquare(t))}},{key:"lenSquare",value:function(t){return t[0]*t[0]+t[1]*t[1]}},{key:"mul",value:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}},{key:"div",value:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}},{key:"dot",value:function(t,e){return t[0]*e[0]+t[1]*e[1]}},{key:"scale",value:function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}},{key:"normalize",value:function(t,e){var i=this.len(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}},{key:"distance",value:function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}},{key:"distanceSquare",value:function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}},{key:"negate",value:function(t,e){return t[0]=-e[0],t[1]=-e[1],t}},{key:"lerp",value:function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t}},{key:"applyTransform",value:function(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}},{key:"min",value:function(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}},{key:"max",value:function(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}},{key:"length",value:function(t){return this.len(t)}},{key:"lengthSquare",value:function(t){return this.lenSquare(t)}},{key:"dist",value:function(t,e){return this.distance(t,e)}},{key:"distSquare",value:function(t,e){return this.distanceSquare(t,e)}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LevelRenderer=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(0),o=i(60);var a={};e.LevelRenderer=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.version="2.0.4"}return n(t,[{key:"destroy",value:function(){this.dispose(),this.version=null}},{key:"init",value:function(t){var e=new o.Render((0,r.createUniqueID)("LRenderer_"),t);return a[e.id]=e,e}},{key:"dispose",value:function(t){if(t)t.dispose();else{for(var e in a)a[e].dispose();a={}}return this}},{key:"getInstance",value:function(t){return a[t]}},{key:"delInstance",value:function(t){return delete a[t],this}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LonLat=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(0);e.LonLat=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lon=0,this.lat=0,(0,r.isArray)(e)&&(i=e[1],e=e[0]),this.lon=e?(0,r.toFloat)(e):this.lon,this.lat=i?(0,r.toFloat)(i):this.lat}return n(t,[{key:"toString",value:function(){return"lon="+this.lon+",lat="+this.lat}},{key:"toShortString",value:function(){return this.lon+","+this.lat}},{key:"clone",value:function(){return new t(this.lon,this.lat)}},{key:"add",value:function(e,i){if(null==e||null==i)throw new TypeError("LonLat.add cannot receive null values");return new t(this.lon+(0,r.toFloat)(e),this.lat+(0,r.toFloat)(i))}},{key:"equals",value:function(t){var e=!1;return null!=t&&(e=this.lon===t.lon&&this.lat===t.lat||isNaN(this.lon)&&isNaN(this.lat)&&isNaN(t.lon)&&isNaN(t.lat)),e}},{key:"wrapDateLine",value:function(t){var e=this.clone();if(t){for(;e.lon<t.left;)e.lon+=t.getWidth();for(;e.lon>t.right;)e.lon-=t.getWidth()}return e}},{key:"destroy",value:function(){this.lon=null,this.lat=null}}],[{key:"fromString",value:function(e){var i=e.split(",");return new t(i[0],i[1])}},{key:"fromArray",value:function(e){var i=(0,r.isArray)(e);return new t(i&&e[0],i&&e[1])}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Transformable=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(7);e.Transformable=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.position=[0,0],this.rotation=[0,0,0],this.scale=[1,1,0,0],this.needLocalTransform=!1,this.needTransform=!1,this.lookAt=function(){var t=r.Util_vector.create();return function(e){this.transform||(this.transform=r.Util_matrix.create());var i=this.transform;function n(t){return t>-5e-5&&t<5e-5}r.Util_vector.sub(t,e,this.position),n(t[0])&&n(t[1])||(r.Util_vector.normalize(t,t),i[2]=t[0]*this.scale[1],i[3]=t[1]*this.scale[1],i[0]=t[1]*this.scale[0],i[1]=-t[0]*this.scale[0],i[4]=this.position[0],i[5]=this.position[1],this.decomposeTransform())}},this.position=[0,0],this.rotation=[0,0,0],this.scale=[1,1,0,0],this.needLocalTransform=!1,this.needTransform=!1}return n(t,[{key:"destroy",value:function(){this.position=null,this.rotation=null,this.scale=null,this.needLocalTransform=null,this.needTransform=null}},{key:"updateNeedTransform",value:function(){function t(t){return t>5e-5||t<-5e-5}this.needLocalTransform=t(this.rotation[0])||t(this.position[0])||t(this.position[1])||t(this.scale[0]-1)||t(this.scale[1]-1)}},{key:"updateTransform",value:function(){if(this.updateNeedTransform(),this.parent?this.needTransform=this.needLocalTransform||this.parent.needTransform:this.needTransform=this.needLocalTransform,this.needTransform){var t=[0,0],e=this.transform||r.Util_matrix.create();if(r.Util_matrix.identity(e),this.needLocalTransform){if(o(this.scale[0])||o(this.scale[1])){t[0]=-this.scale[2]||0,t[1]=-this.scale[3]||0;var i=o(t[0])||o(t[1]);i&&r.Util_matrix.translate(e,e,t),r.Util_matrix.scale(e,e,this.scale),i&&(t[0]=-t[0],t[1]=-t[1],r.Util_matrix.translate(e,e,t))}if(this.rotation instanceof Array){if(0!==this.rotation[0]){t[0]=-this.rotation[1]||0,t[1]=-this.rotation[2]||0;var n=o(t[0])||o(t[1]);n&&r.Util_matrix.translate(e,e,t),r.Util_matrix.rotate(e,e,this.rotation[0]),n&&(t[0]=-t[0],t[1]=-t[1],r.Util_matrix.translate(e,e,t))}}else 0!==this.rotation&&r.Util_matrix.rotate(e,e,this.rotation);(o(this.position[0])||o(this.position[1]))&&r.Util_matrix.translate(e,e,this.position)}this.transform=e,this.parent&&this.parent.needTransform&&(this.needLocalTransform?r.Util_matrix.mul(this.transform,this.parent.transform,this.transform):r.Util_matrix.copy(this.transform,this.parent.transform))}function o(t){return t>5e-5||t<-5e-5}}},{key:"setTransform",value:function(t){if(this.needTransform){var e=this.transform;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}}},{key:"decomposeTransform",value:function(){if(this.transform){var t=this.transform,e=t[0]*t[0]+t[1]*t[1],i=this.position,n=this.scale,r=this.rotation;a(e-1)&&(e=Math.sqrt(e));var o=t[2]*t[2]+t[3]*t[3];a(o-1)&&(o=Math.sqrt(o)),i[0]=t[4],i[1]=t[5],n[0]=e,n[1]=o,n[2]=n[3]=0,r[0]=Math.atan2(-t[1]/o,t[0]/e),r[1]=r[2]=0}function a(t){return t>5e-5||t<-5e-5}}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Animation=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(30);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=e.Animation=function(t){function e(t){a(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.stage=null,i.onframe=null,i._clips=[],i._running=!1,i._time=0,t=t||{},i.stage=t.stage||{},i.onframe=t.onframe||function(){},i._clips=[],i._running=!1,i._time=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Eventful),r(e,[{key:"add",value:function(t){this._clips.push(t)}},{key:"remove",value:function(t){var e=Util.indexOf(this._clips,t);e>=0&&this._clips.splice(e,1)}},{key:"_update",value:function(){for(var t=(new Date).getTime(),e=t-this._time,i=this._clips,n=i.length,r=[],o=[],a=0;a<n;a++){var s=i[a],l=s.step(t);l&&(r.push(l),o.push(s))}this.stage.update&&this.stage.update();for(var h=0;h<n;)i[h]._needsRemove?(i[h]=i[n-1],i.pop(),n--):h++;n=r.length;for(var u=0;u<n;u++)o[u].fire(r[u]);this._time=t,this.onframe(e),this.dispatch("frame",e)}},{key:"start",value:function(){var t=window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){setTimeout(t,16)},e=this;this._running=!0,this._time=(new Date).getTime(),t(function i(){e._running&&(e._update(),t(i))})}},{key:"stop",value:function(){this._running=!1}},{key:"clear",value:function(){this._clips=[]}},{key:"animate",value:function(t,i){i=i||{};var n=new e.Animator(t,i.loop,i.getter,i.setter);return n.animation=this,n}}],[{key:"_interpolateNumber",value:function(t,e,i){return(e-t)*i+t}},{key:"_interpolateArray",value:function(t,i,n,r,o){var a=t.length;if(1==o)for(var s=0;s<a;s++)r[s]=e._interpolateNumber(t[s],i[s],n);else for(var l=t[0].length,h=0;h<a;h++)for(var u=0;u<l;u++)r[h][u]=e._interpolateNumber(t[h][u],i[h][u],n)}},{key:"_isArrayLike",value:function(t){switch(void 0===t?"undefined":n(t)){case"undefined":case"string":return!1}return void 0!==t.length}},{key:"_catmullRomInterpolateArray",value:function(t,i,n,r,o,a,s,l,h){var u=t.length;if(1==h)for(var c=0;c<u;c++)l[c]=e._catmullRomInterpolate(t[c],i[c],n[c],r[c],o,a,s);else for(var f=t[0].length,d=0;d<u;d++)for(var p=0;p<f;p++)l[d][p]=e._catmullRomInterpolate(t[d][p],i[d][p],n[d][p],r[d][p],o,a,s)}},{key:"_catmullRomInterpolate",value:function(t,e,i,n,r,o,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*o+s*r+e}},{key:"_cloneValue",value:function(t){var i=Array.prototype.slice;if(e._isArrayLike(t)){var n=t.length;if(e._isArrayLike(t[0])){for(var r=[],o=0;o<n;o++)r.push(i.call(t[o]));return r}return i.call(t)}return t}},{key:"rgba2String",value:function(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}}]),e}();e.Animation=s=s,s.Animator=function(){function t(e,i,n,r){a(this,t),this._tracks=null,this._target=null,this._loop=null,this._getter=null,this._setter=null,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[],this._tracks={},this._target=e,this._loop=i||!1,this._getter=n||function(t,e){return t[e]},this._setter=r||function(t,e,i){t[e]=i},this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}return r(t,[{key:"when",value:function(t,e){for(var i in e)this._tracks[i]||(this._tracks[i]=[],0!==t&&this._tracks[i].push({time:0,value:s._cloneValue(this._getter(this._target,i))})),this._tracks[i].push({time:parseInt(t,10),value:e[i]});return this}},{key:"during",value:function(t){return this._onframeList.push(t),this}},{key:"start",value:function(t){var e=this,i=this._setter,n=this._getter,r=e._onframeList.length,o="spline"===t,a=function(){if(e._clipCount--,0===e._clipCount){e._tracks={};for(var t=e._doneList.length,i=0;i<t;i++)e._doneList[i].call(e)}},l=function(l,h){var u=l.length;if(u){var c=l[0].value,f=s._isArrayLike(c),d=!1,p=f&&s._isArrayLike(c[0])?2:1;l.sort(function(t,e){return t.time-e.time});for(var g=l[u-1].time,_=[],m=[],y=0;y<u;y++){_.push(l[y].time/g);var v=l[y].value;"string"==typeof v&&(0===(v=Util_color.toArray(v)).length&&(v[0]=v[1]=v[2]=0,v[3]=1),d=!0),m.push(v)}var b,x,L,w,C,I,M,E=0,O=0;if(d)var S=[0,0,0,0];var P=new s.Clip({target:e._target,life:g,loop:e._loop,delay:e._delay,onframe:function(t,a){if(a<O){for(b=Math.min(E+1,u-1),x=b;x>=0&&!(_[x]<=a);x--);x=Math.min(x,u-2)}else{for(x=E;x<u&&!(_[x]>a);x++);x=Math.min(x-1,u-2)}E=x,O=a;var l=_[x+1]-_[x];if(0!==l){if(L=(a-_[x])/l,o)if(C=m[x],w=m[0===x?x:x-1],I=m[x>u-2?u-1:x+1],M=m[x>u-3?u-1:x+2],f)s._catmullRomInterpolateArray(w,C,I,M,L,L*L,L*L*L,n(t,h),p);else{var c=void 0;c=d?s.rgba2String(S):s._catmullRomInterpolate(w,C,I,M,L,L*L,L*L*L),i(t,h,c)}else if(f)s._interpolateArray(m[x],m[x+1],L,n(t,h),p);else{var g=void 0;d?(s._interpolateArray(m[x],m[x+1],L,S,1),g=s.rgba2String(S)):g=s._interpolateNumber(m[x],m[x+1],L),i(t,h,g)}for(x=0;x<r;x++)e._onframeList[x](t,a)}},ondestroy:a});t&&"spline"!==t&&(P.easing=t),e._clipList.push(P),e._clipCount++,e.animation.add(P)}};for(var h in this._tracks)l(this._tracks[h],h);return this}},{key:"stop",value:function(){for(var t=0;t<this._clipList.length;t++){var e=this._clipList[t];this.animation.remove(e)}this._clipList=[]}},{key:"delay",value:function(t){return this._delay=t,this}},{key:"done",value:function(t){return t&&this._doneList.push(t),this}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeStyle=void 0;var n=i(0);e.ThemeStyle=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fill=!0,this.fillColor="#000000",this.fillOpacity=1,this.stroke=!1,this.strokeColor="#000000",this.strokeOpacity=1,this.strokeWidth=1,this.strokeLinecap="butt",this.strokeLineJoin="miter",this.strokeDashstyle="solid",this.pointRadius=6,this.shadowBlur=0,this.shadowColor="#000000",this.shadowOffsetX=0,this.shadowOffsetY=0,this.label="",this.labelRect=!1,this.fontColor="",this.fontSize=12,this.fontStyle="normal",this.fontVariant="normal",this.fontWeight="normal",this.fontFamily="arial,sans-serif",this.labelPosition="top",this.labelAlign="center",this.labelBaseline="middle",this.labelXOffset=0,this.labelYOffset=0,e=e||{},(0,n.extend)(this,e)}},function(t,e,i){var n=i(108),r=i(45),o=i(112),a=i(115);function s(t,e){if(!(this instanceof s))return new s(t);e=e||function(t){if(t)throw t};var i=n(t);if("object"==typeof i){var o=a(i),l=s.projections.get(o.projName);l?(r(this,o),r(this,l),this.init(),e(null,this)):e(t)}else e(t)}s.projections=o,s.projections.start(),t.exports=s},function(t,e){t.exports=function(t,e){var i,n;if(t=t||{},!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t}},function(t,e){t.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},function(t,e){t.exports=function(t,e,i,n,r){var o,a;o=t/e;for(var s=0;s<15;s++)if(o+=a=(t-(e*o-i*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*i*Math.cos(2*o)+4*n*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(a)<=1e-10)return o;return NaN}},function(t,e){t.exports=function(t,e){var i;return t>1e-7?(1-t*t)*(e/(1-(i=t*e)*i)-.5/t*Math.log((1-i)/(1+i))):2*e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(10);e.Point=function(t){function e(t,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.x=null,n.y=null,n.r=6,n.x=isNaN(t)?0:t,n.y=isNaN(i)?0:i,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.ShapeParameters),n(e,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Polygon=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(10);e.Polygon=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.pointList=null,i.holePolygonPointLists=null,i.pointList=t,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.ShapeParameters),n(e,[{key:"destroy",value:function(){this.pointList=null,this.holePolygonPointLists=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sector=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(10);e.Sector=function(t){function e(t,i,n,r,o,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,o,a,s));return l.x=null,l.y=null,l.r=null,l.startAngle=null,l.endAngle=null,l.r0=null,l.clockWise=null,l.x=isNaN(t)?0:t,l.y=isNaN(i)?0:i,l.r=isNaN(n)?0:n,l.startAngle=isNaN(r)?0:r,l.endAngle=isNaN(o)?0:o,l.r0=isNaN(a)?0:a,l.clockWise=s,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.ShapeParameters),n(e,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,this.startAngle=null,this.endAngle=null,this.r0=null,this.clockWise=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiLineString=void 0;var n=i(14);i(8);e.MultiLineString=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.componentTypes=["Geometry.LineString"],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.Collection),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiPolygon=void 0;var n=i(14);e.MultiPolygon=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.componentTypes=["Geometry.Polygon"],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.Collection),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.themeFeature=e.ThemeFeature=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n},a=i(4),s=i(8),l=i(21),h=i(36),u=i(13);var c=e.ThemeFeature=o.default.Class.extend({initialize:function(t,e){this.geometry=t,this.attributes=e},toFeature:function(){var t=this.geometry,e=[];return t instanceof o.default.Polyline?(e=this.reverseLatLngs(t.getLatLngs()),t=new s.LineString(e)):t instanceof o.default.Polygon?(e=this.reverseLatLngs(t.getLatLngs()),t=new l.Polygon(e)):3===t.length?t=new h.GeoText(t[1],t[0],t[2]):2===(e=t instanceof o.default.LatLng?[t.lng,t.lat]:t instanceof o.default.Point?[t.x,t.y]:t).length&&(t=new a.Point(e[0],e[1])),new u.Vector(t,this.attributes)},reverseLatLngs:function(t){o.default.Util.isArray(t)||(t=[t]);for(var e=0;e<t.length;e++)t[e]=[t[e][1],t[e][0]];return t}});e.themeFeature=function(t,e){return new c(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoFeatureThemeLayer=void 0,i(43);var n,r=i(80),o=i(83),a=i(54),s=i(84),l=i(85),h=(i(19),i(5)),u=i(13),c=i(1),f=(n=c)&&n.__esModule?n:{default:n},d=i(0),p=i(179);e.GeoFeatureThemeLayer=o.ThemeLayer.extend({options:{nodesClipPixel:2,isHoverAble:!1,isMultiHover:!1,isClickAble:!0,isAllowFeatureStyle:!1},initialize:function(t,e){o.ThemeLayer.prototype.initialize.call(this,t,e),f.default.Util.setOptions(this,e);this.cache={},this.cacheFields=[],this.style={}},addFeatures:function(t){f.default.Util.isArray(t)||(t=[t]);var e=this;e.fire("beforefeaturesadded",{features:t});for(var i=0,n=t.length;i<n;i++){var r=e._createFeature(t[i]);e.features.push(r)}var o=0===e.features.length;e.fire("featuresadded",{features:e.features,succeed:o}),e.isCustomSetMaxCacheCount||(e.maxCacheCount=5*e.features.length),e.renderer&&(e._map?e.redrawThematicFeatures(e._map.getBounds()):e.redrawThematicFeatures())},removeFeatures:function(t){this.clearCache(),o.ThemeLayer.prototype.removeFeatures.call(this,arguments)},removeAllFeatures:function(){this.clearCache(),o.ThemeLayer.prototype.removeAllFeatures.call(this,arguments)},redrawThematicFeatures:function(t){var e=this,i=e.renderer.getHoverOne(),n=null;if(i&&i.refDataID&&(n=i.refDataID),t&&t instanceof f.default.LatLngBounds){var r=this._map.options.crs;t=f.default.bounds(r.project(t.getSouthWest()),r.project(t.getNorthEast()))}t=(0,l.toBounds)(t),e.renderer.clearAll();for(var o=e.features,a=e.cache,s=e.cacheFields,h=e._map.getZoom(),u=e.maxCacheCount,c=0,d=o.length;c<d;c++){var p=o[c],g=p.geometry.getBounds();if(!t||t.intersectsBounds(g)){var _=p.id+"_zoom_"+h.toString();if(a[_])a[_].updateAndAddShapes();else{var m=e.createThematicFeature(o[c]);if(!(m.getShapesCount()<1)&&(a[_]=m,s.push(_),s.length>u)){var y=s[0];s.splice(0,1),delete a[y]}}}}if(e.renderer.render(),n&&e.options.isHoverAble&&e.options.isMultiHover){var v=this.getShapesByFeatureID(n);this.renderer.updateHoverShapes(v)}},createThematicFeature:function(t){var e=this,i=e.getStyleByData(t);t.style&&e.isAllowFeatureStyle&&(i=(0,d.copyAttributesWithClip)(t.style));var n={};n.nodesClipPixel=e.options.nodesClipPixel,n.isHoverAble=e.options.isHoverAble,n.isMultiHover=e.options.isMultiHover,n.isClickAble=e.options.isClickAble,n.highlightStyle=h.ShapeFactory.transformStyle(e.highlightStyle);for(var o=new r.ThemeVector(t,e,h.ShapeFactory.transformStyle(i),n),a=0;a<o.shapes.length;a++)e.renderer.addShape(o.shapes[a]);return o},redraw:function(){return this.clearCache(),o.ThemeLayer.prototype.redraw.apply(this,arguments)},clearCache:function(){this.cache={},this.cacheFields=[]},clear:function(){this.renderer.clearAll(),this.renderer.refresh(),this.removeAllFeatures(),this.clearCache()},getCacheCount:function(){return this.cacheFields.length},setMaxCacheCount:function(t){isNaN(t)||(this.maxCacheCount=t,this.isCustomSetMaxCacheCount=!0)},getShapesByFeatureID:function(t){var e=[],i=this.renderer.getAllShapes();if(!t)return i;for(var n=0,r=i.length;n<r;n++){var o=i[n];o.refDataID&&t===o.refDataID&&e.push(o)}return e},_createFeature:function(t){if(t instanceof a.ThemeFeature&&(t=t.toFeature()),"Feature"===t.type&&(t=(new p.GeoJSON).parseFeature(t)),t instanceof u.Vector||(t=new s.ServerFeature.fromJson(t).toFeature()),!t.hasOwnProperty("attributes")&&t.fieldNames&&t.filedValues){for(var e={},i=t.fieldNames,n=t.filedValues,r=0;r<i.length;r++)e[i[r]]=n[r];t.attributes=e}return t}})},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAABlBMVEV9fX3///+Kct39AAAAAnRSTlP/AOW3MEoAAAA9SURBVFjD7dehDQAwDANBZ/+l2wmKoiqR7pHRcaeaCxAIBAL/g7k9JxAIBAKBQCAQCAQC14H+MhAIBE4CD3fOFvGVBzhZAAAAAElFTkSuQmCC"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(17);i(39);e.Color=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.util=null,this._ctx=null,this.palette=null,this._palette=null,this.highlightColor=null,this._highlightColor=null,this.colorRegExp=null,this._nameColors=null,this.util=new r.Util,this.palette=["#ff9277"," #dddd00"," #ffc877"," #bbe3ff"," #d5ffbb","#bbbbff"," #ddb000"," #b0dd00"," #e2bbff"," #ffbbe3","#ff7777"," #ff9900"," #83dd00"," #77e3ff"," #778fff","#c877ff"," #ff77ab"," #ff6600"," #aa8800"," #77c7ff","#ad77ff"," #ff77ff"," #dd0083"," #777700"," #00aa00","#0088aa"," #8400dd"," #aa0088"," #dd0000"," #772e00"],this._palette=this.palette,this.highlightColor="rgba(0,0,255,1)",this._highlightColor=this.highlightColor,this.colorRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,this._nameColors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#0ff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000",blanchedalmond:"#ffebcd",blue:"#00f",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#f0f",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#789",lightslategrey:"#789",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#0f0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#f0f",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#f00",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#fff",whitesmoke:"#f5f5f5",yellow:"#ff0",yellowgreen:"#9acd32"}}return n(t,[{key:"customPalette",value:function(t){this.palette=t}},{key:"resetPalette",value:function(){this.palette=this._palette}},{key:"getColor",value:function(t,e){return t|=0,(e=e||this.palette)[t%e.length]}},{key:"customHighlight",value:function(t){this.highlightColor=t}},{key:"resetHighlight",value:function(){this.highlightColor=this._highlightColor}},{key:"getHighlightColor",value:function(){return this.highlightColor}},{key:"getRadialGradient",value:function(t,e,i,n,r,o,a){var s=this.util;this._ctx||(this._ctx=s.getContext());for(var l=this._ctx.createRadialGradient(t,e,i,n,r,o),h=0,u=a.length;h<u;h++)l.addColorStop(a[h][0],a[h][1]);return l.__nonRecursion=!0,l}},{key:"getLinearGradient",value:function(t,e,i,n,r){var o=this.util;this._ctx||(this._ctx=o.getContext());for(var a=this._ctx.createLinearGradient(t,e,i,n),s=0,l=r.length;s<l;s++)a.addColorStop(r[s][0],r[s][1]);return a.__nonRecursion=!0,a}},{key:"getStepColors",value:function(t,e,i){t=this.toRGBA(t),e=this.toRGBA(e),t=this.getData(t);for(var n=[],r=((e=this.getData(e))[0]-t[0])/i,o=(e[1]-t[1])/i,a=(e[2]-t[2])/i,s=(e[3]-t[3])/i,l=0,h=t[0],u=t[1],c=t[2],f=t[3];l<i;l++)n[l]=this.toColor([this.adjust(Math.floor(h),[0,255]),this.adjust(Math.floor(u),[0,255]),this.adjust(Math.floor(c),[0,255]),f.toFixed(4)-0],"rgba"),h+=r,u+=o,c+=a,f+=s;return h=e[0],u=e[1],c=e[2],f=e[3],n[l]=this.toColor([h,u,c,f],"rgba"),n}},{key:"getGradientColors",value:function(t,e){var i=[],n=t.length;if(void 0===e&&(e=20),1===n)i=this.getStepColors(t[0],t[0],e);else if(n>1)for(var r=0,o=n-1;r<o;r++){var a=this.getStepColors(t[r],t[r+1],e);r<o-1&&a.pop(),i=i.concat(a)}return i}},{key:"toColor",value:function(t,e){if(e=e||"rgb",t&&(3===t.length||4===t.length)){if(t=this.map(t,function(t){return t>1?Math.ceil(t):t}),e.indexOf("hex")>-1)return"#"+((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1);if(e.indexOf("hs")>-1){var i=this.map(t.slice(1,3),function(t){return t+"%"});t[1]=i[0],t[2]=i[1]}return e.indexOf("a")>-1?(3===t.length&&t.push(1),t[3]=this.adjust(t[3],[0,1]),e+"("+t.slice(0,4).join(",")+")"):e+"("+t.slice(0,3).join(",")+")"}}},{key:"toArray",value:function(t){(t=this.trim(t)).indexOf("rgba")<0&&(t=this.toRGBA(t));var e=[],i=0;return t.replace(/[\d.]+/g,function(t){i<3?t|=0:t=+t,e[i++]=t}),e}},{key:"convert",value:function(t,e){if(!this.isCalculableColor(t))return t;var i=this.getData(t),n=i[3];return void 0===n&&(n=1),t.indexOf("hsb")>-1?i=this._HSV_2_RGB(i):t.indexOf("hsl")>-1&&(i=this._HSL_2_RGB(i)),e.indexOf("hsb")>-1||e.indexOf("hsv")>-1?i=this._RGB_2_HSB(i):e.indexOf("hsl")>-1&&(i=this._RGB_2_HSL(i)),i[3]=n,this.toColor(i,e)}},{key:"toRGBA",value:function(t){return this.convert(t,"rgba")}},{key:"toRGB",value:function(t){return this.convert(t,"rgb")}},{key:"toHex",value:function(t){return this.convert(t,"hex")}},{key:"toHSVA",value:function(t){return this.convert(t,"hsva")}},{key:"toHSV",value:function(t){return this.convert(t,"hsv")}},{key:"toHSBA",value:function(t){return this.convert(t,"hsba")}},{key:"toHSB",value:function(t){return this.convert(t,"hsb")}},{key:"toHSLA",value:function(t){return this.convert(t,"hsla")}},{key:"toHSL",value:function(t){return this.convert(t,"hsl")}},{key:"toName",value:function(t){for(var e in this._nameColors)if(this.toHex(this._nameColors[e])===this.toHex(t))return e;return null}},{key:"trim",value:function(t){return String(t).replace(/\s+/g,"")}},{key:"normalize",value:function(t){if(this._nameColors[t]&&(t=this._nameColors[t]),t=(t=this.trim(t)).replace(/hsv/i,"hsb"),/^#[\da-f]{3}$/i.test(t)){var e=(3840&(t=parseInt(t.slice(1),16)))<<8,i=(240&t)<<4,n=15&t;t="#"+((1<<24)+(e<<4)+e+(i<<4)+i+(n<<4)+n).toString(16).slice(1)}return t}},{key:"lift",value:function(t,e){if(!this.isCalculableColor(t))return t;var i=e>0?1:-1;void 0===e&&(e=0),e=Math.abs(e)>1?1:Math.abs(e),t=this.toRGB(t);for(var n=this.getData(t),r=0;r<3;r++)n[r]=1===i?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0;return"rgb("+n.join(",")+")"}},{key:"reverse",value:function(t){if(!this.isCalculableColor(t))return t;var e=this.getData(this.toRGBA(t));return e=this.map(e,function(t){return 255-t}),this.toColor(e,"rgb")}},{key:"mix",value:function(t,e,i){if(!this.isCalculableColor(t)||!this.isCalculableColor(e))return t;void 0===i&&(i=.5);for(var n=2*(i=1-this.adjust(i,[0,1]))-1,r=this.getData(this.toRGBA(t)),o=this.getData(this.toRGBA(e)),a=r[3]-o[3],s=((n*a==-1?n:(n+a)/(1+n*a))+1)/2,l=1-s,h=[],u=0;u<3;u++)h[u]=r[u]*s+o[u]*l;var c=r[3]*i+o[3]*(1-i);return c=Math.max(0,Math.min(1,c)),1===r[3]&&1===o[3]?this.toColor(h,"rgb"):(h[3]=c,this.toColor(h,"rgba"))}},{key:"random",value:function(){return"#"+Math.random().toString(16).slice(2,8)}},{key:"getData",value:function(t){var e,i,n=(t=this.normalize(t)).match(this.colorRegExp);if(null===n)throw new Error("The color format error");var r,o=[];if(n[2])r=[(e=n[2].replace("#","").split(""))[0]+e[1],e[2]+e[3],e[4]+e[5]],o=this.map(r,function(t){return Tool.Color.prototype.adjust.call(this,parseInt(t,16),[0,255])});else if(n[4]){var a=n[4].split(",");i=a[3],r=a.slice(0,3),o=this.map(r,function(t){return t=Math.floor(t.indexOf("%")>0?2.55*parseInt(t,0):t),Tool.Color.prototype.adjust.call(this,t,[0,255])}),void 0!==i&&o.push(this.adjust(parseFloat(i),[0,1]))}else if(n[5]||n[6]){var s=(n[5]||n[6]).split(","),l=parseInt(s[0],0)/360,h=s[1],u=s[2];i=s[3],(o=this.map([h,u],function(t){return Tool.Color.prototype.adjust.call(this,parseFloat(t)/100,[0,1])})).unshift(l),void 0!==i&&o.push(this.adjust(parseFloat(i),[0,1]))}return o}},{key:"alpha",value:function(t,e){if(!this.isCalculableColor(t))return t;null===e&&(e=1);var i=this.getData(this.toRGBA(t));return i[3]=this.adjust(Number(e).toFixed(4),[0,1]),this.toColor(i,"rgba")}},{key:"map",value:function(t,e){if("function"!=typeof e)throw new TypeError;for(var i=t?t.length:0,n=0;n<i;n++)t[n]=e(t[n]);return t}},{key:"adjust",value:function(t,e){return t<=e[0]?t=e[0]:t>=e[1]&&(t=e[1]),t}},{key:"isCalculableColor",value:function(t){return t instanceof Array||"string"==typeof t}},{key:"_HSV_2_RGB",value:function(t){var e,i,n,r=t[0],o=t[1],a=t[2];if(0===o)e=255*a,i=255*a,n=255*a;else{var s=6*r;6===s&&(s=0);var l=0|s,h=a*(1-o),u=a*(1-o*(s-l)),c=a*(1-o*(1-(s-l))),f=0,d=0,p=0;0===l?(f=a,d=c,p=h):1===l?(f=u,d=a,p=h):2===l?(f=h,d=a,p=c):3===l?(f=h,d=u,p=a):4===l?(f=c,d=h,p=a):(f=a,d=h,p=u),e=255*f,i=255*d,n=255*p}return[e,i,n]}},{key:"_HSL_2_RGB",value:function(t){var e,i,n,r=t[0],o=t[1],a=t[2];if(0===o)e=255*a,i=255*a,n=255*a;else{var s,l=2*a-(s=a<.5?a*(1+o):a+o-o*a);e=255*this._HUE_2_RGB(l,s,r+1/3),i=255*this._HUE_2_RGB(l,s,r),n=255*this._HUE_2_RGB(l,s,r-1/3)}return[e,i,n]}},{key:"_HUE_2_RGB",value:function(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),6*i<1?t+6*(e-t)*i:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}},{key:"_RGB_2_HSB",value:function(t){var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(n,r,o),s=Math.max(n,r,o),l=s-a,h=s;if(0===l)e=0,i=0;else{i=l/s;var u=((s-n)/6+l/2)/l,c=((s-r)/6+l/2)/l,f=((s-o)/6+l/2)/l;n===s?e=f-c:r===s?e=1/3+u-f:o===s&&(e=2/3+c-u),e<0&&(e+=1),e>1&&(e-=1)}return[e*=360,i*=100,h*=100]}},{key:"_RGB_2_HSL",value:function(t){var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(n,r,o),s=Math.max(n,r,o),l=s-a,h=(s+a)/2;if(0===l)e=0,i=0;else{i=h<.5?l/(s+a):l/(2-s-a);var u=((s-n)/6+l/2)/l,c=((s-r)/6+l/2)/l,f=((s-o)/6+l/2)/l;n===s?e=f-c:r===s?e=1/3+u-f:o===s&&(e=2/3+c-u),e<0&&(e+=1),e>1&&(e-=1)}return[e*=360,i*=100,h*=100]}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();(e.Pixel=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=0,this.y=0,this.mode=null,this.x=e?parseFloat(e):this.x,this.y=i?parseFloat(i):this.y,this.mode=n}return n(t,[{key:"toString",value:function(){return"x="+this.x+",y="+this.y}},{key:"clone",value:function(){return new t(this.x,this.y,this.mode)}},{key:"equals",value:function(t){var e=!1;return null!=t&&(e=this.x==t.x&&this.y==t.y||isNaN(this.x)&&isNaN(this.y)&&isNaN(t.x)&&isNaN(t.y)),e}},{key:"distanceTo",value:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}},{key:"add",value:function(e,i){if(null==e||null==i)throw new TypeError("Pixel.add cannot receive null values");return new t(this.x+e,this.y+i)}},{key:"offset",value:function(t){var e=this.clone();return t&&(e=this.add(t.x,t.y)),e}},{key:"destroy",value:function(){this.x=null,this.y=null,this.mode=null}}]),t}()).Mode={LeftTop:"lefttop",RightTop:"righttop",RightBottom:"rightbottom",LeftBottom:"leftbottom"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Curve=void 0;var n=i(29);e.Curve=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.componentTypes=["Geometry.Point","PointWithMeasure"],i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.MultiPoint),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Render=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(0),o=i(93),a=i(95),s=i(96),l=i(42);i(97),i(98),i(7);e.Render=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=null,this.storage=null,this.painter=null,this.handler=null,this.animatingElements=null,this.animation=null,this._needsRefreshNextFrame=null,this.id=e,this.storage=new o.Storage,this.painter=new a.Painter(i,this.storage),this.handler=new s.Handler(i,this.storage,this.painter),this.animatingElements=[],this.animation=new l.Animation({stage:{update:t.getFrameCallback(this)}}),this.animation.start(),this._needsRefreshNextFrame=!1}return n(t,[{key:"destroy",value:function(){this.id=null,this.storage=null,this.painter=null,this.handler=null,this.animatingElements=null,this.animation=null,this._needsRefreshNextFrame=null}},{key:"getId",value:function(){return this.id}},{key:"addShape",value:function(t){return this.storage.addRoot(t),this}},{key:"addGroup",value:function(t){return this.storage.addRoot(t),this}},{key:"delShape",value:function(t){return this.storage.delRoot(t),this}},{key:"delGroup",value:function(t){return this.storage.delRoot(t),this}},{key:"modShape",value:function(t,e){return this.storage.mod(t,e),this}},{key:"modGroup",value:function(t,e){return this.storage.mod(t,e),this}},{key:"modLayer",value:function(t,e){return this.painter.modLayer(t,e),this}},{key:"addHoverShape",value:function(t){return this.storage.addHover(t),this}},{key:"render",value:function(t){return this.painter.render(t),this._needsRefreshNextFrame=!1,this}},{key:"refresh",value:function(t){return this.painter.refresh(t),this._needsRefreshNextFrame=!1,this}},{key:"refreshNextFrame",value:function(){return this._needsRefreshNextFrame=!0,this}},{key:"refreshHover",value:function(t){return this.painter.refreshHover(t),this}},{key:"refreshShapes",value:function(t,e){return this.painter.refreshShapes(t,e),this}},{key:"resize",value:function(){return this.painter.resize(),this}},{key:"animate",value:function(t,e,i){if("string"==typeof t&&(t=this.storage.get(t)),t){var n;if(e){for(var r=e.split("."),o=t,a=0,s=r.length;a<s;a++)o&&(o=o[r[a]]);o&&(n=o)}else n=t;if(!n)return void Util_log('Property "'+e+'" is not existed in element '+t.id);var l=this.animatingElements;return void 0===t.__aniCount&&(t.__aniCount=0),0===t.__aniCount&&l.push(t),t.__aniCount++,this.animation.animate(n,{loop:i}).done(function(){if(t.__aniCount--,0===t.__aniCount){var e=Util.indexOf(l,t);l.splice(e,1)}})}Util_log("Element not existed")}},{key:"clearAnimation",value:function(){this.animation.clear()}},{key:"getWidth",value:function(){return this.painter.getWidth()}},{key:"getHeight",value:function(){return this.painter.getHeight()}},{key:"toDataURL",value:function(t,e,i){return this.painter.toDataURL(t,e,i)}},{key:"shapeToImage",value:function(t,e,i){var n=(0,r.createUniqueID)("ToImage_");return this.painter.shapeToImage(n,t,e,i)}},{key:"on",value:function(t,e){return this.handler.on(t,e),this}},{key:"un",value:function(t,e){return this.handler.un(t,e),this}},{key:"trigger",value:function(t,e){return this.handler.trigger(t,e),this}},{key:"clear",value:function(){return this.storage.delRoot(),this.painter.clear(),this}},{key:"dispose",value:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=null,this.animatingElements=null,this.storage=null,this.painter=null,this.handler=null,prototype.delInstance.apply(this,[this.id])}},{key:"updateHoverShapes",value:function(t){return this.painter.updateHoverLayer(t),this}},{key:"getAllShapes",value:function(){return this.storage._shapeList}},{key:"clearAll",value:function(){return this.clear(),this.painter.clearHover(),this}},{key:"getHoverOne",value:function(){return this.handler.getLastHoverOne()}}],[{key:"getFrameCallback",value:function(t){return function(){var e=t.animatingElements;if(e instanceof Array){for(var i=0,n=e.length;i<n;i++)t.storage.mod(e[i].id);(e.length||t._needsRefreshNextFrame)&&t.refresh()}}}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.mixin=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];for(var n=function t(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=0;n<e.length;n++)a(this,new e[n](i))},r=0;r<e.length;r++){var o=e[r];a(n,o),a(n.prototype,o.prototype),a(n.prototype,new o)}return n;function a(t,e){var i=Object.getOwnPropertyNames(e);Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(e)));for(var n=0;n<i.length;n++){var r=i[n];if("constructor"!==r&&"prototype"!==r&&"name"!==r&&"length"!==r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,o)}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.Config={};n.EVENT={RESIZE:"resize",CLICK:"click",DBLCLICK:"dblclick",MOUSEWHEEL:"mousewheel",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",GLOBALOUT:"globalout",DRAGSTART:"dragstart",DRAGEND:"dragend",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",touchClickDelay:300},n.catchBrushException=!1,n.debugMode=0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.crs=e.CRS=e.Projection=e._isProj4Obj=void 0;var n=o(i(1)),r=o(i(106));function o(t){return t&&t.__esModule?t:{default:t}}window.proj4=r.default,window.Proj4js=r.default;var a=e._isProj4Obj=function(t){return void 0!==t.inverse&&void 0!==t.forward},s=e.Projection=n.default.Class.extend({initialize:function(t,e,i){var r=a(t);this._proj=r?t:this._projFromCodeDef(t,e);var o=i;n.default.Util.isArray(i)&&(o=n.default.bounds(i)),this.bounds=r?e:o},project:function(t){var e=this._proj.forward([t.lng,t.lat]);return new n.default.Point(e[0],e[1])},unproject:function(t,e){var i=this._proj.inverse([t.x,t.y]);return new n.default.LatLng(i[1],i[0],e)},_projFromCodeDef:function(t,e){if(e)r.default.defs(t,e);else if(void 0===r.default.defs[t]){var i=t.split(":");if(i.length>3&&(t=i[i.length-3]+":"+i[i.length-1]),void 0===r.default.defs[t])throw"No projection definition for code "+t}return(0,r.default)(t)},getUnits:function(){return this._proj.oProj.units}}),l=e.CRS=n.default.Class.extend({includes:n.default.CRS,options:{transformation:new n.default.Transformation(1,0,-1,0)},initialize:function(t,e){var i,r,o;if(a(t)?(i=(r=t).srsCode,e=e||{},this.projection=new s(r,e.bounds)):(i=t,o=(e=e||{}).def||"",this.projection=new s(i,o,e.bounds)),n.default.Util.setOptions(this,e),this.code=i,this.transformation=this.options.transformation,this.options.bounds&&(this.options.bounds=n.default.bounds(this.options.bounds)),!this.options.origin&&this.options.bounds&&(this.options.origin=[this.options.bounds.min.x,this.options.bounds.max.y]),this.options.origin&&(this.options.origin instanceof n.default.Point&&(this.options.origin=[this.options.origin.x,this.options.origin.y]),this.transformation=new n.default.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales&&this.options.scales.length>0)this._scales=this._toProj4Scales(this.options.scales);else if(this.options.scaleDenominators&&this.options.scaleDenominators.length>0){for(var l=[],h=0;h<this.options.scaleDenominators.length;h++)l[h]=1/this.options.scaleDenominators[h];this._scales=this._toProj4Scales(l)}else if(this.options.resolutions&&this.options.resolutions.length>0){this._scales=[];for(var u=this.options.resolutions.length-1;u>=0;u--)this.options.resolutions[u]&&(this._scales[u]=1/this.options.resolutions[u])}else this.options.bounds&&(this._scales=this._getDefaultProj4ScalesByBounds(this.options.bounds));this.infinite=!this.options.bounds},scale:function(t){var e,i=Math.floor(t);return t===i?this._scales[t]:(e=this._scales[i])+(this._scales[i+1]-e)*(t-i)},zoom:function(t){var e,i,n=this._closestElement(this._scales,t),r=this._scales.indexOf(n);return t===n?r:(i=r+1,void 0===(e=this._scales[i])?1/0:(t-n)/(e-n)+r)},distance:n.default.CRS.Earth.distance,R:n.default.CRS.Earth.R,_closestElement:function(t,e){for(var i,n=t.length;n--;)t[n]<=e&&(void 0===i||i<t[n])&&(i=t[n]);return i},_toProj4Scales:function(t){var e=[];if(!t)return e;for(var i=0;i<t.length;i++){var n=this.projection?this._getMeterPerMapUnit(this.projection.getUnits()):1;e[i]=1/(.0254/(96*t[i])/n)}return e},_getMeterPerMapUnit:function(t){var e=1;return"meter"===t?e=1:"degrees"===t?e=2*Math.PI*6378137/360:"kilometer"===t?e=.001:"inch"===t?e=1/.025399999918:"feet"===t&&(e=.3048),e},_getDefaultProj4ScalesByBounds:function(t){if(!t)return[];for(var e=t.getSize(),i=Math.max(e.x,e.y)/256,n=[],r=0;r<23;r++)n[r]=Math.pow(2,r)/i;return n}});e.crs=function(t,e){return new l(t,e)}},function(t,e,i){var n=i(109),r=i(65),o=i(66);function a(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?a[t]=r(arguments[1]):a[t]=o(arguments[1]):a[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?a.apply(e,t):a(t)});if("string"==typeof t){if(t in a)return a[t]}else"EPSG"in t?a["EPSG:"+t.EPSG]=t:"ESRI"in t?a["ESRI:"+t.ESRI]=t:"IAU2000"in t?a["IAU2000:"+t.IAU2000]=t:console.log(t);return}}n(a),t.exports=a},function(t,e,i){var n=.017453292519943295,r=i(110),o=i(111);t.exports=function(t){var e,i,a,s={},l={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),l[e[0].toLowerCase()]=e[1]});var h={proj:"projName",datum:"datumCode",rf:function(t){s.rf=parseFloat(t)},lat_0:function(t){s.lat0=t*n},lat_1:function(t){s.lat1=t*n},lat_2:function(t){s.lat2=t*n},lat_ts:function(t){s.lat_ts=t*n},lon_0:function(t){s.long0=t*n},lon_1:function(t){s.long1=t*n},lon_2:function(t){s.long2=t*n},alpha:function(t){s.alpha=parseFloat(t)*n},lonc:function(t){s.longc=t*n},x_0:function(t){s.x0=parseFloat(t)},y_0:function(t){s.y0=parseFloat(t)},k_0:function(t){s.k0=parseFloat(t)},k:function(t){s.k0=parseFloat(t)},a:function(t){s.a=parseFloat(t)},b:function(t){s.b=parseFloat(t)},r_a:function(){s.R_A=!0},zone:function(t){s.zone=parseInt(t,10)},south:function(){s.utmSouth=!0},towgs84:function(t){s.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){s.to_meter=parseFloat(t)},units:function(t){s.units=t,o[t]&&(s.to_meter=o[t].to_meter)},from_greenwich:function(t){s.from_greenwich=t*n},pm:function(t){s.from_greenwich=(r[t]?r[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?s.datumCode="none":s.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(s.axis=t)}};for(e in l)i=l[e],e in h?"function"==typeof(a=h[e])?a(i):s[a]=i:s[e]=i;return"string"==typeof s.datumCode&&"WGS84"!==s.datumCode&&(s.datumCode=s.datumCode.toLowerCase()),s}},function(t,e,i){var n=.017453292519943295,r=i(45);function o(t,e,i){t[e]=i.map(function(t){var e={};return a(t,e),e}).reduce(function(t,e){return r(t,e)},{})}function a(t,e){var i;Array.isArray(t)?("PARAMETER"===(i=t.shift())&&(i=t.shift()),1===t.length?Array.isArray(t[0])?(e[i]={},a(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)>-1?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)>-1?(t[0]=["name",t[0]],o(e,i,t)):t.every(function(t){return Array.isArray(t)})?o(e,i,t):a(t,e[i])):e[i]=!0):e[t]=!0}function s(t){return t*n}t.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=i.shift(),o=i.shift();i.unshift(["name",o]),i.unshift(["type",n]),i.unshift("output");var l={};return a(i,l),function(t){function e(e){var i=t.to_meter||1;return parseFloat(e,10)*i}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=parseFloat(t.UNIT.convert,10)*t.DATUM.SPHEROID.a):t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",s],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",s],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",s],["lat0","latitude_of_origin",s],["lat0","standard_parallel_1",s],["lat1","standard_parallel_1",s],["lat2","standard_parallel_2",s],["alpha","azimuth",s],["srsCode","name"]].forEach(function(e){return i=t,r=(n=e)[0],o=n[1],void(!(r in i)&&o in i&&(i[r]=i[o],3===n.length&&(i[r]=n[2](i[r]))));var i,n,r,o}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=s(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(l.output),r(e,l.output)}},function(t,e,i){var n=.017453292519943295,r=57.29577951308232,o=1,a=2,s=i(119),l=i(120),h=i(44),u=i(68);t.exports=function t(e,i,c){var f;function d(t,e){return(t.datum.datum_type===o||t.datum.datum_type===a)&&"WGS84"!==e.datumCode}return Array.isArray(c)&&(c=u(c)),e.datum&&i.datum&&(d(e,i)||d(i,e))&&(t(e,f=new h("WGS84"),c),e=f),"enu"!==e.axis&&l(e,!1,c),"longlat"===e.projName?(c.x*=n,c.y*=n):(e.to_meter&&(c.x*=e.to_meter,c.y*=e.to_meter),e.inverse(c)),e.from_greenwich&&(c.x+=e.from_greenwich),c=s(e.datum,i.datum,c),i.from_greenwich&&(c.x-=i.from_greenwich),"longlat"===i.projName?(c.x*=r,c.y*=r):(i.forward(c),i.to_meter&&(c.x/=i.to_meter,c.y/=i.to_meter)),"enu"!==i.axis&&l(i,!0,c),c}},function(t,e){t.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},function(t,e,i){"use strict";var n=6,r="AJSAJS",o="AFAFAF",a=65,s=73,l=79,h=86,u=90;function c(t){return t*(Math.PI/180)}function f(t){return t/Math.PI*180}function d(t){var e=t.northing,i=t.easting,n=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,a,s,l,h,u,c,p,g,_=6378137,m=.00669438,y=(1-Math.sqrt(1-m))/(1+Math.sqrt(1-m)),v=i-5e5,b=e;n<"N"&&(b-=1e7),c=6*(r-1)-180+3,o=m/(1-m),g=(p=b/.9996/6367449.145945056)+(3*y/2-27*y*y*y/32)*Math.sin(2*p)+(21*y*y/16-55*y*y*y*y/32)*Math.sin(4*p)+151*y*y*y/96*Math.sin(6*p),a=_/Math.sqrt(1-m*Math.sin(g)*Math.sin(g)),s=Math.tan(g)*Math.tan(g),l=o*Math.cos(g)*Math.cos(g),h=_*(1-m)/Math.pow(1-m*Math.sin(g)*Math.sin(g),1.5),u=v/(.9996*a);var x=g-a*Math.tan(g)/h*(u*u/2-(5+3*s+10*l-4*l*l-9*o)*u*u*u*u/24+(61+90*s+298*l+45*s*s-252*o-3*l*l)*u*u*u*u*u*u/720);x=f(x);var L,w=(u-(1+2*s+l)*u*u*u/6+(5-2*l+28*s-3*l*l+8*o+24*s*s)*u*u*u*u*u/120)/Math.cos(g);if(w=c+f(w),t.accuracy){var C=d({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});L={top:C.lat,right:C.lon,bottom:x,left:w}}else L={lat:x,lon:w};return L}function p(t){var e=t%n;return 0===e&&(e=n),e}function g(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,c="",f=0;!/[A-Z]/.test(e=t.charAt(f));){if(f>=2)throw"MGRSPoint bad conversion from: "+t;c+=e,f++}var d=parseInt(c,10);if(0===f||f+3>i)throw"MGRSPoint bad conversion from: "+t;var g=t.charAt(f++);if(g<="A"||"B"===g||"Y"===g||g>="Z"||"I"===g||"O"===g)throw"MGRSPoint zone letter "+g+" not handled: "+t;n=t.substring(f,f+=2);for(var m=p(d),y=function(t,e){var i=r.charCodeAt(e-1),n=1e5,o=!1;for(;i!==t.charCodeAt(0);){if(++i===s&&i++,i===l&&i++,i>u){if(o)throw"Bad character: "+t;i=a,o=!0}n+=1e5}return n}(n.charAt(0),m),v=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var i=o.charCodeAt(e-1),n=0,r=!1;for(;i!==t.charCodeAt(0);){if(++i===s&&i++,i===l&&i++,i>h){if(r)throw"Bad character: "+t;i=a,r=!0}n+=1e5}return n}(n.charAt(1),m);v<_(g);)v+=2e6;var b=i-f;if(b%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var x,L,w,C=b/2,I=0,M=0;return C>0&&(x=1e5/Math.pow(10,C),L=t.substring(f,f+C),I=parseFloat(L)*x,w=t.substring(f+C),M=parseFloat(w)*x),{easting:I+y,northing:M+v,zoneLetter:g,zoneNumber:d,accuracy:x}}function _(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}e.forward=function(t,e){return e=e||5,i=function(t){var e,i,n,r,o,a,s,l,h=t.lat,u=t.lon,f=.00669438,d=c(h),p=c(u);l=Math.floor((u+180)/6)+1,180===u&&(l=60);h>=56&&h<64&&u>=3&&u<12&&(l=32);h>=72&&h<84&&(u>=0&&u<9?l=31:u>=9&&u<21?l=33:u>=21&&u<33?l=35:u>=33&&u<42&&(l=37));s=c(6*(l-1)-180+3),e=f/(1-f),i=6378137/Math.sqrt(1-f*Math.sin(d)*Math.sin(d)),n=Math.tan(d)*Math.tan(d),r=e*Math.cos(d)*Math.cos(d),o=Math.cos(d)*(p-s),a=6378137*(.9983242984503243*d-.002514607064228144*Math.sin(2*d)+2639046602129982e-21*Math.sin(4*d)-35*f*f*f/3072*Math.sin(6*d));var g=.9996*i*(o+(1-n+r)*o*o*o/6+(5-18*n+n*n+72*r-58*e)*o*o*o*o*o/120)+5e5,_=.9996*(a+i*Math.tan(d)*(o*o/2+(5-n+9*r+4*r*r)*o*o*o*o/24+(61-58*n+n*n+600*r-330*e)*o*o*o*o*o*o/720));h<0&&(_+=1e7);return{northing:Math.round(_),easting:Math.round(g),zoneNumber:l,zoneLetter:function(t){var e="Z";84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C");return e}(h)}}({lat:t[1],lon:t[0]}),n=e,f="00000"+i.easting,d="00000"+i.northing,i.zoneNumber+i.zoneLetter+(w=i.easting,C=i.northing,I=i.zoneNumber,M=p(I),E=Math.floor(w/1e5),O=Math.floor(C/1e5)%20,g=E,_=O,m=M-1,y=r.charCodeAt(m),v=o.charCodeAt(m),x=v+_,L=!1,(b=y+g-1)>u&&(b=b-u+a-1,L=!0),(b===s||y<s&&b>s||(b>s||y<s)&&L)&&b++,(b===l||y<l&&b>l||(b>l||y<l)&&L)&&++b===s&&b++,b>u&&(b=b-u+a-1),x>h?(x=x-h+a-1,L=!0):L=!1,(x===s||v<s&&x>s||(x>s||v<s)&&L)&&x++,(x===l||v<l&&x>l||(x>l||v<l)&&L)&&++x===s&&x++,x>h&&(x=x-h+a-1),String.fromCharCode(b)+String.fromCharCode(x))+f.substr(f.length-5,n)+d.substr(d.length-5,n);var i,n,f,d,g,_,m,y,v,b,x,L,w,C,I,M,E,O},e.inverse=function(t){var e=d(g(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},e.toPoint=function(t){var e=d(g(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},function(t,e,i){var n=i(23),r=i(24),o=i(25),a=i(26),s=i(27),l=i(2),h=Math.PI/2,u=i(22),c=i(16);e.init=function(){this.e0=n(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*s(this.e0,this.e1,this.e2,this.e3,this.lat0)},e.forward=function(t){var e,i,n,r=t.x,o=t.y,a=l(r-this.long0),h=Math.sin(o),u=Math.cos(o);if(this.sphere){var c=u*Math.sin(a);if(Math.abs(Math.abs(c)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+c)/(1-c)),e=Math.acos(u*Math.cos(a)/Math.sqrt(1-c*c)),o<0&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var f=u*a,d=Math.pow(f,2),p=this.ep2*Math.pow(u,2),g=Math.tan(o),_=Math.pow(g,2);e=1-this.es*Math.pow(h,2);var m=this.a/Math.sqrt(e),y=this.a*s(this.e0,this.e1,this.e2,this.e3,o);i=this.k0*m*f*(1+d/6*(1-_+p+d/20*(5-18*_+Math.pow(_,2)+72*p-58*this.ep2)))+this.x0,n=this.k0*(y-this.ml0+m*g*(d*(.5+d/24*(5-_+9*p+4*Math.pow(p,2)+d/30*(61-58*_+Math.pow(_,2)+600*p-330*this.ep2)))))+this.y0}return t.x=i,t.y=n,t},e.inverse=function(t){var e,i,n,r,o,a;if(this.sphere){var s=Math.exp(t.x/(this.a*this.k0)),f=.5*(s-1/s),d=this.lat0+t.y/(this.a*this.k0),p=Math.cos(d);e=Math.sqrt((1-p*p)/(1+f*f)),o=c(e),d<0&&(o=-o),a=0===f&&0===p?this.long0:l(Math.atan2(f,p)+this.long0)}else{var g=t.x-this.x0,_=t.y-this.y0;for(i=e=(this.ml0+_/this.k0)/this.a,r=0;i+=n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,!(Math.abs(n)<=1e-10);r++)if(r>=6)return 95;if(Math.abs(i)<h){var m=Math.sin(i),y=Math.cos(i),v=Math.tan(i),b=this.ep2*Math.pow(y,2),x=Math.pow(b,2),L=Math.pow(v,2),w=Math.pow(L,2);e=1-this.es*Math.pow(m,2);var C=this.a/Math.sqrt(e),I=C*(1-this.es)/e,M=g/(C*this.k0),E=Math.pow(M,2);o=i-C*v*E/I*(.5-E/24*(5+3*L+10*b-4*x-9*this.ep2-E/30*(61+90*L+298*b+45*w-252*this.ep2-3*x))),a=l(this.long0+M*(1-E/6*(1+2*L+b-E/20*(5-2*b+28*L-3*x+8*this.ep2+24*w)))/y)}else o=h*u(_),a=this.long0}return t.x=a,t.y=o,t},e.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},function(t,e){t.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.graphThemeLayer=e.GraphThemeLayer=void 0,i(31);var n,r=i(73),o=(i(80),i(43),i(169)),a=i(54),s=i(83),l=i(84),h=i(6),u=i(40),c=i(1),f=(n=c)&&n.__esModule?n:{default:n},d=i(85),p=i(0);i(34);var g=e.GraphThemeLayer=s.ThemeLayer.extend({options:{isOverLay:!0},initialize:function(t,e,i){var n=[];n.push(t),n.push(i),s.ThemeLayer.prototype.initialize.apply(this,n),this.chartsType=e,this.themeFields=i&&i.themeFields?i.themeFields:null,this.charts=i&&i.charts?i.charts:[],this.cache=i&&i.cache?i.cache:{},this.chartsSetting=i&&i.chartsSetting?i.chartsSetting:{}},setChartsType:function(t){this.chartsType=t,this.redraw()},addFeatures:function(t){f.default.Util.isArray(t)||(t=[t]);var e=this,i={features:t};e.fire("beforefeaturesadded",i);for(var n=0,r=(t=i.features).length;n<r;n++){var o=t[n];o=e._createFeature(o),e.features.push(o)}var a=0===e.features.length;e.fire("featuresadded",{features:e.features,succeed:a}),e.renderer&&(e._map?e.redrawThematicFeatures(e._map.getBounds()):e.redrawThematicFeatures())},redrawThematicFeatures:function(t){var e=this;e.renderer.clearAll();var i=e.features;t=(0,d.toBounds)(t);for(var n=0,r=i.length;n<r;n++){var o=i[n],a=o.geometry.getBounds();if(!t||t.intersectsBounds(a)){var s=e.cache,l=o.id;if(!s[l]){s[l]=l;var h=e.createThematicFeature(o),u=e.overlayWeightField&&o.attributes[e.overlayWeightField]&&!isNaN(o.attributes[e.overlayWeightField]);h&&u&&(h.__overlayWeight=o.attributes[e.overlayWeightField]),h&&e.charts.push(h)}}}e.drawCharts()},createThematicFeature:function(t){var e,i=this;return o.ThemeFactory[i.chartsType]&&i.themeFields&&i.chartsSetting&&(e=new o.ThemeFactory[i.chartsType](t,i,i.themeFields,i.chartsSetting)),!!e&&(e.assembleShapes(),e)},drawCharts:function(){var t=this;t.renderer&&(t.overlayWeightField&&t._sortChart(),t.options&&!t.options.isOverLay?t._addOverlayShape():t._addNoOverlayShape(),t.renderer.render())},getShapesByFeatureID:function(t){var e=[],i=this.renderer.getAllShapes();if(!t)return i;for(var n=0,r=i.length;n<r;n++){var o=i[n];o.refDataID&&t===o.refDataID&&e.push(o)}return e},isQuadrilateralOverLap:function(t,e){var i=t.length,n=e.length;if(5!==i||5!==n)return null;for(var o=!1,a=0;a<i;a++)if(this.isPointInPoly(t[a],e)){o=!0;break}for(var s=0;s<n;s++)if(this.isPointInPoly(e[s],t)){o=!0;break}for(var l=0;l<i-1&&!o;l++)for(var h=0;h<n-1;h++){if((0,p.lineIntersection)(t[l],t[l+1],e[h],e[h+1])instanceof r.Point){o=!0;break}}return o},isPointInPoly:function(t,e){for(var i=!1,n=-1,r=e.length,o=r-1;++n<r;o=n)(e[n].y<=t.y&&t.y<e[o].y||e[o].y<=t.y&&t.y<e[n].y)&&t.x<(e[o].x-e[n].x)*(t.y-e[n].y)/(e[o].y-e[n].y)+e[n].x&&(i=!i);return i},isChartInMap:function(t,e){for(var i=t,n=!1,r=0,o=e.length;r<o;r++){var a=e[r];if(a.x>=i.left&&a.x<=i.right&&a.y>=i.top&&a.y<=i.bottom){n=!0;break}}return n},clearCache:function(){this.cache={},this.charts=[]},removeFeatures:function(t){this.clearCache(),s.ThemeLayer.prototype.removeFeatures.apply(this,arguments)},removeAllFeatures:function(){this.clearCache(),s.ThemeLayer.prototype.removeAllFeatures.apply(this,arguments)},redraw:function(){return this.clearCache(),s.ThemeLayer.prototype.redraw.apply(this,arguments)},clear:function(){var t=this;t.renderer&&(t.renderer.clearAll(),t.renderer.refresh()),t.removeAllFeatures(),t.clearCache()},getWeightFieldValue:function(t,e,i){if((void 0===i||isNaN(i))&&(i=0),!t.attributes)return i;var n=t.attributes[e];return(void 0===n||isNaN(n))&&(n=i),n},_sortChart:function(){this.charts&&this.charts.sort(function(t,e){return void 0===t.__overlayWeight&&void 0===e.__overlayWeight?0:void 0!==t.__overlayWeight&&void 0===e.__overlayWeight?-1:void 0===t.__overlayWeight&&void 0!==e.__overlayWeight?1:void 0!==t.__overlayWeight&&void 0!==e.__overlayWeight?parseFloat(t.__overlayWeight)<parseFloat(e.__overlayWeight)?1:-1:0})},_addOverlayShape:function(){for(var t=this.charts,e=0,i=t.length;e<i;e++)for(var n=t[e],r=n.resetLocation(),o=n.shapes,a=0,s=o.length;a<s;a++)o[a].refOriginalPosition=r,this.renderer.addShape(o[a])},_addNoOverlayShape:function(){var t=this,e=t._map.getBounds();e=new h.Bounds(e.getWest(),e.getSouth(),e.getEast(),e.getNorth());for(var i=t.charts,n=[],r=t.getLocalXY(new u.LonLat(e.left,e.top)),o=t.getLocalXY(new u.LonLat(e.right,e.bottom)),a=new h.Bounds(r[0],o[1],o[0],r[1]),s=0,l=i.length;s<l;s++){var c=i[s],f=c.resetLocation(),d=c.chartBounds,p=[{x:d.left,y:d.top},{x:d.left,y:d.bottom},{x:d.right,y:d.bottom},{x:d.right,y:d.top},{x:d.left,y:d.top}];if(!a||t.isChartInMap(a,p)){for(var g=!1,_=0;_<n.length;_++)if(t.isQuadrilateralOverLap(p,n[_])){g=!0;break}if(!g){n.push(p);for(var m=c.shapes,y=0,v=m.length;y<v;y++)m[y].refOriginalPosition=f,t.renderer.addShape(m[y])}}}},_createFeature:function(t){if(t instanceof a.ThemeFeature?t=t.toFeature():t instanceof Vector||(t=new l.ServerFeature.fromJson(t).toFeature()),!t.hasOwnProperty("attributes")&&t.fieldNames&&t.filedValues){for(var e={},i=t.fieldNames,n=t.filedValues,r=0;r<i.length;r++)e[i[r]]=n[r];t.attributes=e}return t}});e.graphThemeLayer=function(t,e,i){return new g(t,e,i)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Point=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(9),o=i(5),a=i(49);e.Point=function(t){function e(t,i,n,r,o,a){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,o,a))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Graph),n(e,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var t=this.setting;if(t.dataViewBoxParameter||(void 0===t.useAxis||t.useAxis?t.dataViewBoxParameter=[45,15,15,15]:t.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var e=this.dataViewBox,i=this.DVBCodomain;this.DVBUnitValue=(i[1]-i[0])/this.DVBHeight;var n=this.DVBUnitValue,r=this.dataValues,s=this.calculateXShapeInfo();if(s){var l,h,u=s.xPositions;(void 0===t.useBackground||t.useBackground)&&this.shapes.push(o.ShapeFactory.Background(this.shapeFactory,this.chartBox,t)),this.shapes=this.shapes.concat(o.ShapeFactory.GraphAxis(this.shapeFactory,e,t,s));for(var c=0,f=r.length;c<f;c++){if(r[c]<i[0]||r[c]>i[1])return null;l=u[c],h=e[1]-(r[c]-i[0])/n;var d=new a.Point(l,h);d.style=o.ShapeFactory.ShapeStyleTool({fillColor:"#ee9900"},t.pointStyle,t.pointStyleByFields,t.pointStyleByCodomain,c,r[c]),d.highlightStyle=o.ShapeFactory.ShapeStyleTool(null,t.pointHoverStyle),void 0!==t.pointHoverAble&&(d.hoverable=t.pointHoverAble),void 0!==t.pointClickAble&&(d.clickable=t.pointClickAble),d.refDataID=this.data.id,d.dataInfo={field:this.fields[c],value:r[c]},this.shapes.push(this.shapeFactory.createShape(d))}this.shapesConvertToRelativeCoordinate()}}}},{key:"calculateXShapeInfo",value:function(){var t,e=this.dataViewBox,i=this.setting,n=this.dataValues.length;if(n<1)return null;var r=[],o=this.DVBWidth,a=0;if(i.xShapeBlank&&i.xShapeBlank.length&&2==i.xShapeBlank.length){var s=o-((t=i.xShapeBlank)[0]+t[1]);if(s<=n)return null;a=s/(n-1)}else t=[a=o/(n+1),a,a];for(var l=0,h=0;h<n;h++)0==h?l=t[0]:l+=a,r.push(e[0]+l);return{xPositions:r,width:0}}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(10);e.Line=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.pointList=null,i.pointList=t,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.ShapeParameters),n(e,[{key:"destroy",value:function(){this.pointList=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(10);e.Circle=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return r.x=null,r.y=null,r.r=null,r.x=isNaN(t)?0:t,r.y=isNaN(i)?0:i,r.r=isNaN(n)?0:n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.ShapeParameters),n(e,[{key:"destroy",value:function(){this.x=null,this.y=null,this.r=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicPoint=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3);e.SmicPoint=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smicpoint",i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition;t.arc(e.x+i[0],e.y+i[1],e.r,0,2*Math.PI,!0)}},{key:"getRect",value:function(t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e,i=this.refOriginalPosition;return t.__rect?t.__rect:(e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x+i[0]-t.r-e/2),y:Math.round(t.y+i[1]-t.r-e/2),width:2*t.r+e,height:2*t.r+e},t.__rect)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicText=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3),o=i(7);e.SmicText=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smictext",i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"brush",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition,n=this.style;if(e&&(n=this.getHighlightStyle(n,this.highlightStyle||{})),void 0!==n.text&&!1!==n.text){t.save(),this.doClip(t),this.setContext(t,n),this.setTransform(t),n.textFont&&(t.font=n.textFont),t.textAlign=n.textAlign||"start",t.textBaseline=n.textBaseline||"middle";var r,a=(n.text+"").split("\n"),s=o.Util_area.getTextHeight("ZH",n.textFont),l=this.getRectNoRotation(n),h=n.x+i[0];r="top"==n.textBaseline?l.y:"bottom"==n.textBaseline?l.y+s:l.y+s/2;for(var u=n.x+i[0],c=n.y+i[1],f=0,d=a.length;f<d;f++){switch(n.labelRect&&(t.fillRect(l.x-2,l.y,l.width+4,l.height),t.fillStyle=n.strokeColor,t.strokeRect(l.x-2,l.y,l.width+4,l.height),t.fillStyle=n.textColor),n.brushType){case"fill":this.setCtxGlobalAlpha(t,"fill",n),n.textRotation&&0!==n.textRotation?(t.save(),t.translate(u,c),t.rotate(n.textRotation*Math.PI/180),"top"==n.textBaseline?n.maxWidth?t.fillText(a[f],0,s*f,n.maxWidth):t.fillText(a[f],0,s*f):"bottom"==n.textBaseline?n.maxWidth?t.fillText(a[f],0,s*(f+1)-l.height,n.maxWidth):t.fillText(a[f],0,s*(f+1)-l.height):n.maxWidth?t.fillText(a[f],0,s*(f+1)-l.height/2-s/2,n.maxWidth):t.fillText(a[f],0,s*(f+1)-l.height/2-s/2),t.restore()):n.maxWidth?t.fillText(a[f],h,r,n.maxWidth):t.fillText(a[f],h,r),this.setCtxGlobalAlpha(t,"reset",n);break;case"stroke":this.setCtxGlobalAlpha(t,"stroke",n),n.textRotation&&0!==n.textRotation?(t.save(),t.translate(u,c),t.rotate(n.textRotation*Math.PI/180),"top"==n.textBaseline?n.maxWidth?t.strokeText(a[f],0,s*f,n.maxWidth):t.strokeText(a[f],0,s*f):"bottom"==n.textBaseline?n.maxWidth?t.strokeText(a[f],0,s*(f+1)-l.height,n.maxWidth):t.strokeText(a[f],0,s*(f+1)-l.height):n.maxWidth?t.strokeText(a[f],0,s*(f+1)-l.height/2-s/2,n.maxWidth):t.strokeText(a[f],0,s*(f+1)-l.height/2-s/2),t.restore()):n.maxWidth?t.strokeText(a[f],h,r,n.maxWidth):t.strokeText(a[f],h,r),this.setCtxGlobalAlpha(t,"reset",n);break;case"both":n.textRotation&&0!==n.textRotation?(t.save(),t.translate(u,c),t.rotate(n.textRotation*Math.PI/180),"top"==n.textBaseline?n.maxWidth?(this.setCtxGlobalAlpha(t,"fill",n),t.fillText(a[f],0,s*f,n.maxWidth),this.setCtxGlobalAlpha(t,"reset",n),this.setCtxGlobalAlpha(t,"stroke",n),t.strokeText(a[f],0,s*f,n.maxWidth),this.setCtxGlobalAlpha(t,"reset",n)):(this.setCtxGlobalAlpha(t,"fill",n),t.fillText(a[f],0,s*f),this.setCtxGlobalAlpha(t,"reset",n),this.setCtxGlobalAlpha(t,"stroke",n),t.strokeText(a[f],0,s*f),this.setCtxGlobalAlpha(t,"reset",n)):"bottom"==n.textBaseline?n.maxWidth?(this.setCtxGlobalAlpha(t,"fill",n),t.fillText(a[f],0,s*(f+1)-l.height,n.maxWidth),this.setCtxGlobalAlpha(t,"reset",n),this.setCtxGlobalAlpha(t,"stroke",n),t.strokeText(a[f],0,s*(f+1)-l.height,n.maxWidth),this.setCtxGlobalAlpha(t,"reset",n)):(this.setCtxGlobalAlpha(t,"fill",n),t.fillText(a[f],0,s*(f+1)-l.height),this.setCtxGlobalAlpha(t,"reset",n),this.setCtxGlobalAlpha(t,"stroke",n),t.strokeText(a[f],0,s*(f+1)-l.height),this.setCtxGlobalAlpha(t,"reset",n)):n.maxWidth?(this.setCtxGlobalAlpha(t,"fill",n),t.fillText(a[f],0,s*(f+1)-l.height/2-s/2,n.maxWidth),this.setCtxGlobalAlpha(t,"reset",n),this.setCtxGlobalAlpha(t,"stroke",n),t.strokeText(a[f],0,s*(f+1)-l.height/2-s/2,n.maxWidth),this.setCtxGlobalAlpha(t,"reset",n)):(this.setCtxGlobalAlpha(t,"fill",n),t.fillText(a[f],0,s*(f+1)-l.height/2-s/2),this.setCtxGlobalAlpha(t,"reset",n),this.setCtxGlobalAlpha(t,"stroke",n),t.strokeText(a[f],0,s*(f+1)-l.height/2-s/2),this.setCtxGlobalAlpha(t,"reset",n)),t.restore()):n.maxWidth?(this.setCtxGlobalAlpha(t,"fill",n),t.fillText(a[f],h,r,n.maxWidth),this.setCtxGlobalAlpha(t,"reset",n),this.setCtxGlobalAlpha(t,"stroke",n),t.strokeText(a[f],h,r,n.maxWidth),this.setCtxGlobalAlpha(t,"reset",n)):(this.setCtxGlobalAlpha(t,"fill",n),t.fillText(a[f],h,r),this.setCtxGlobalAlpha(t,"reset",n),this.setCtxGlobalAlpha(t,"stroke",n),t.strokeText(a[f],h,r),this.setCtxGlobalAlpha(t,"reset",n));break;default:this.setCtxGlobalAlpha(t,"fill",n),n.textRotation&&0!==n.textRotation?(t.save(),t.translate(u,c),t.rotate(n.textRotation*Math.PI/180),"top"==n.textBaseline?n.maxWidth?t.fillText(a[f],0,s*f,n.maxWidth):t.fillText(a[f],0,s*f):"bottom"==n.textBaseline?n.maxWidth?t.fillText(a[f],0,s*(f+1)-l.height,n.maxWidth):t.fillText(a[f],0,s*(f+1)-l.height):n.maxWidth?t.fillText(a[f],0,s*(f+1)-l.height/2-s/2,n.maxWidth):t.fillText(a[f],0,s*(f+1)-l.height/2-s/2),t.restore()):n.maxWidth?t.fillText(a[f],h,r,n.maxWidth):t.fillText(a[f],h,r),this.setCtxGlobalAlpha(t,"reset",n)}r+=s}t.restore()}}},{key:"getRect",value:function(t){if(t.__rect)return t.__rect;for(var e,i,n,r,o=this.getTextBackground(t,!0),a=0,s=o.length;a<s;a++){var l=o[a];0==a?(e=l[0],n=l[0],i=l[1],r=l[1]):(l[0]<e&&(e=l[0]),l[0]>n&&(n=l[0]),l[1]<i&&(i=l[1]),l[1]>r&&(r=l[1]))}return t.__rect={x:e,y:i,width:n-e,height:r-i},t.__rect}},{key:"getRectNoRotation",value:function(t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e,i=this.refOriginalPosition,n=o.Util_area.getTextHeight("ZH",t.textFont),r=o.Util_area.getTextWidth(t.text,t.textFont),a=o.Util_area.getTextHeight(t.text,t.textFont),s=t.x+i[0];"end"==t.textAlign||"right"==t.textAlign?s-=r:"center"==t.textAlign&&(s-=r/2),e="top"==t.textBaseline?t.y+i[1]:"bottom"==t.textBaseline?t.y+i[1]-a:t.y+i[1]-a/2;var l,h=!1;if(t.maxWidth){var u=parseInt(t.maxWidth);u<r&&(l=r,h=!0,r=u),s=t.x+i[0],"end"==t.textAlign||"right"==t.textAlign?s-=r:"center"==t.textAlign&&(s-=r/2)}t.textFont&&(t.textFont.toLowerCase().indexOf("italic")>-1&&(r+=l&&!0===h?n/3*(r/l):n/3));return{x:s,y:e,width:r,height:a}}},{key:"getTextBackground",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition;if((!e||!1===e)&&t.__textBackground)return t.__textBackground;var n=this.getRectNoRotation(t),r=t.x+i[0],o=t.y+i[1],a=[];if(t.textRotation&&0!==t.textRotation){var s=t.textRotation,l=this.getRotatedLocation(n.x,n.y,r,o,s),h=this.getRotatedLocation(n.x+n.width,n.y,r,o,s),u=this.getRotatedLocation(n.x+n.width,n.y+n.height,r,o,s),c=this.getRotatedLocation(n.x,n.y+n.height,r,o,s);a.push(l),a.push(h),a.push(u),a.push(c)}else{var f=[n.x,n.y],d=[n.x+n.width,n.y],p=[n.x+n.width,n.y+n.height],g=[n.x,n.y+n.height];a.push(f),a.push(d),a.push(p),a.push(g)}return t.__textBackground=a,t.__textBackground}},{key:"getRotatedLocation",value:function(t,e,i,n,r){var o,a,s=new Array;return e=-e,n=-n,r=-r,o=(t-i)*Math.cos(r/180*Math.PI)-(e-n)*Math.sin(r/180*Math.PI)+i,a=(t-i)*Math.sin(r/180*Math.PI)+(e-n)*Math.cos(r/180*Math.PI)+n,s[0]=o,s[1]=-a,s}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicBrokenLine=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3),o=i(35);i(7);e.SmicBrokenLine=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.brushTypeOnly="stroke",i.textPosition="end",i.type="smicbroken-line",i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.brushTypeOnly=null,this.textPosition=null,this.type=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition,n=e.pointList;if(!(n.length<2)){var r=Math.min(e.pointList.length,Math.round(e.pointListLength||e.pointList.length));if(e.smooth&&"spline"!==e.smooth){var o,a,s,l=SUtil_smoothBezier(n,e.smooth,!1,e.smoothConstraint,i);t.moveTo(n[0][0]+i[0],n[0][1]+i[1]);for(var h=0;h<r-1;h++)o=l[2*h],a=l[2*h+1],s=[n[h+1][0]+i[0],n[h+1][1]+i[1]],t.bezierCurveTo(o[0],o[1],a[0],a[1],s[0],s[1])}else if("spline"===e.smooth&&(r=(n=SUtil_smoothSpline(n,null,null,i)).length),e.lineType&&"solid"!==e.lineType){if("dashed"===e.lineType||"dotted"===e.lineType||"dot"===e.lineType||"dash"===e.lineType||"longdash"===e.lineType){var u=e.lineWidth||1,c=u,f=u;"dashed"===e.lineType&&(c*=5,f*=5,e.lineCap&&"butt"!==e.lineCap&&(c-=u,f+=u)),"dotted"===e.lineType&&e.lineCap&&"butt"!==e.lineCap&&(c=1,f+=u),"dot"===e.lineType&&(f*=4,e.lineCap&&"butt"!==e.lineCap&&(c=1,f+=u)),"dash"===e.lineType&&(c*=4,f*=4,e.lineCap&&"butt"!==e.lineCap&&(c-=u,f+=u)),"longdash"===e.lineType&&(c*=8,f*=4,e.lineCap&&"butt"!==e.lineCap&&(c-=u,f+=u)),t.moveTo(n[0][0]+i[0],n[0][1]+i[1]);for(var d=1;d<r;d++)SUtil_dashedLineTo(t,n[d-1][0]+i[0],n[d-1][1]+i[1],n[d][0]+i[0],n[d][1]+i[1],u,[c,f])}else if("dashot"===e.lineType||"longdashdot"===e.lineType){var p=e.lineWidth||1,g=p,_=p,m=p,y=p;"dashot"===e.lineType&&(g*=4,_*=4,y*=4,e.lineCap&&"butt"!==e.lineCap&&(g-=p,_+=p,m=1,y+=p)),"longdashdot"===e.lineType&&(g*=8,_*=4,y*=4,e.lineCap&&"butt"!==e.lineCap&&(g-=p,_+=p,m=1,y+=p)),p=(e.lineWidth||1)*("dashed"===e.lineType?5:1),t.moveTo(n[0][0]+i[0],n[0][1]+i[1]);for(var v=1;v<r;v++)SUtil_dashedLineTo(t,n[v-1][0]+i[0],n[v-1][1]+i[1],n[v][0]+i[0],n[v][1]+i[1],p,[g,_,m,y])}}else{t.moveTo(n[0][0]+i[0],n[0][1]+i[1]);for(var b=1;b<r;b++)t.lineTo(n[b][0]+i[0],n[b][1]+i[1])}}}},{key:"getRect",value:function(t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e=this.refOriginalPosition;return o.SmicPolygon.prototype.getRect.apply(this,[t,e])}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicRectangle=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3);e.SmicRectangle=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smicrectangle",i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"_buildRadiusPath",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i,n,r,o,a,s=this.refOriginalPosition,l=e.x+s[0],h=e.y+s[1],u=e.width,c=e.height,f=e.radius;"number"==typeof f?i=n=r=o=f:f instanceof Array?1===f.length?i=n=r=o=f[0]:2===f.length?(i=r=f[0],n=o=f[1]):3===f.length?(i=f[0],n=o=f[1],r=f[2]):(i=f[0],n=f[1],r=f[2],o=f[3]):i=n=r=o=0,i+n>u&&(i*=u/(a=i+n),n*=u/a),r+o>u&&(r*=u/(a=r+o),o*=u/a),n+r>c&&(n*=c/(a=n+r),r*=c/a),i+o>c&&(i*=c/(a=i+o),o*=c/a),t.moveTo(l+i,h),t.lineTo(l+u-n,h),0!==n&&t.quadraticCurveTo(l+u,h,l+u,h+n),t.lineTo(l+u,h+c-r),0!==r&&t.quadraticCurveTo(l+u,h+c,l+u-r,h+c),t.lineTo(l+o,h+c),0!==o&&t.quadraticCurveTo(l,h+c,l,h+c-o),t.lineTo(l,h+i),0!==i&&t.quadraticCurveTo(l,h,l+i,h)}},{key:"buildPath",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition;e.radius?this._buildRadiusPath(t,e):(t.moveTo(e.x+i[0],e.y+i[1]),t.lineTo(e.x+i[0]+e.width,e.y+i[1]),t.lineTo(e.x+i[0]+e.width,e.y+i[1]+e.height),t.lineTo(e.x+i[0],e.y+i[1]+e.height),t.lineTo(e.x+i[0],e.y+i[1])),t.closePath()}},{key:"getRect",value:function(t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e,i=this.refOriginalPosition;return t.__rect?t.__rect:(e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x+i[0]-e/2),y:Math.round(t.y+i[1]-e/2),width:t.width+e,height:t.height+e},t.__rect)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeVector=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(34),o=i(18),a=i(168),s=i(4),l=i(29),h=i(8),u=i(52),c=i(14),f=i(20),d=i(21),p=i(53),g=i(59),_=i(36),m=i(0),y=i(78),v=i(76),b=i(35),x=i(79),L=i(77);function w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.ThemeVector=function(t){function e(t,i,n,r,y){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var v=w(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));if(v.dataBounds=null,v.nodesClipPixel=2,v.isHoverAble=!0,v.isMultiHover=!0,v.isClickAble=!0,v.highlightStyle=null,v.shapeOptions=null,v.style=null,!t.geometry)return w(v);if(!(t.geometry instanceof o.Geometry))return w(v);v.style=n||{},v.data=t,v.layer=i,v.id=(0,m.createUniqueID)("ThemeVector_"),v.location=[],v.shapes=[],r&&(0,m.copyAttributesWithClip)(v,r,["shapeOptions","dataBounds"]),y&&(v.shapeOptions={},(0,m.copyAttributesWithClip)(v.shapeOptions,y));var b=t.geometry;return v.dataBounds=b.getBounds(),v.lonlat=v.dataBounds.getCenterLonLat(),v.location=v.getLocalXY(v.lonlat),b instanceof f.LinearRing?v.lineToTF(b):b instanceof h.LineString?v.lineToTF(b):b instanceof g.Curve||(b instanceof l.MultiPoint?v.multiPointToTF(b):b instanceof u.MultiLineString?v.multiLineStringToTF(b):b instanceof p.MultiPolygon?v.multiPolygonToTF(b):b instanceof d.Polygon?v.polygonToTF(b):b instanceof c.Collection||(b instanceof s.Point?v.pointToTF(b):b instanceof a.Rectangle?v.rectangleToTF(b):b instanceof _.GeoText&&v.geoTextToTF(b))),v}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Theme),n(e,[{key:"destroy",value:function(){this.style=null,this.dataBounds=null,this.nodesClipPixel=null,this.isHoverAble=null,this.isMultiHover=null,this.isClickAble=null,this.highlightStyle=null,this.shapeOptions=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"lineToTF",value:function(t){for(var e=t.components,i=[],n=[],r=this.location,o=[],a=this.nodesClipPixel,s=0;s<e.length;s++){var l=e[s];if(n=[],i=this.getLocalXY(l),n[0]=i[0]-r[0],n[1]=i[1]-r[1],o.length>0){var h=o[o.length-1];if(Math.abs(h[0]-n[0])<=a&&Math.abs(h[1]-n[1])<=a)continue}o.push(n)}if(o.length<2)return null;var u=new Object;(u=(0,m.copyAttributesWithClip)(u,this.style,["pointList"])).pointList=o;var c=new y.SmicBrokenLine({style:u,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(c.highlightStyle=this.highlightStyle),c.refOriginalPosition=this.location,c.refDataID=this.data.id,c.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&(0,m.copyAttributesWithClip)(c,this.shapeOptions),this.shapes.push(c)}},{key:"multiPointToTF",value:function(t){for(var e=t.components,i=[],n=[],r=this.location,o=[],a=this.nodesClipPixel,s=0;s<e.length;s++){var l=e[s];if(n=[],i=this.getLocalXY(l),n[0]=i[0]-r[0],n[1]=i[1]-r[1],o.length>0){var h=o[o.length-1];if(Math.abs(h[0]-n[0])<=a&&Math.abs(h[1]-n[1])<=a)continue}o.push(n);var u=new Object;u.r=6,(u=(0,m.copyAttributesWithClip)(u,this.style)).x=n[0],u.y=n[1];var c=new v.SmicPoint({style:u,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(c.highlightStyle=this.highlightStyle),c.refOriginalPosition=r,c.refDataID=this.data.id,c.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&(0,m.copyAttributesWithClip)(c,this.shapeOptions),this.shapes.push(c)}}},{key:"multiLineStringToTF",value:function(t){for(var e=t.components,i=0;i<e.length;i++){var n=e[i];this.lineToTF(n)}}},{key:"multiPolygonToTF",value:function(t){for(var e=t.components,i=0;i<e.length;i++){var n=e[i];this.polygonToTF(n)}}},{key:"pointToTF",value:function(t){var e=this.location,i=this.getLocalXY(t),n=new Object;n.r=6,(n=(0,m.copyAttributesWithClip)(n,this.style)).x=i[0]-e[0],n.y=i[1]-e[1];var r=new v.SmicPoint({style:n,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(r.highlightStyle=this.highlightStyle),r.refOriginalPosition=e,r.refDataID=this.data.id,r.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&(0,m.copyAttributesWithClip)(r,this.shapeOptions),this.shapes.push(r)}},{key:"polygonToTF",value:function(t){for(var e=t.components,i=[],n=[],r=this.location,o=[],a=[],s=[],l=this.nodesClipPixel,h=0;h<e.length;h++){var u=e[h].components;if(0===h){o=[];for(var c=0;c<u.length;c++){if(n=[],i=this.getLocalXY(u[c]),n[0]=i[0]-r[0],n[1]=i[1]-r[1],o.length>0){var f=o[o.length-1];if(Math.abs(f[0]-n[0])<=l&&Math.abs(f[1]-n[1])<=l)continue}o.push(n)}}else{a=[];for(var d=0;d<u.length;d++){if(n=[],i=this.getLocalXY(u[d]),n[0]=i[0]-r[0],n[1]=i[1]-r[1],a.length>0){var p=a[a.length-1];if(Math.abs(p[0]-n[0])<=l&&Math.abs(p[1]-n[1])<=l)continue}a.push(n)}}a.length<2||s.push(a)}if(!(o.length<2)){var g={};(g=(0,m.copyAttributesWithClip)(g,this.style,["pointList"])).pointList=o;var _=new b.SmicPolygon({style:g,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(_.highlightStyle=this.highlightStyle),_.refOriginalPosition=this.location,_.refDataID=this.data.id,_.isHoverByRefDataID=this.isMultiHover,s.length>0&&(_.holePolygonPointLists=s),this.shapeOptions&&(0,m.copyAttributesWithClip)(_,this.shapeOptions),this.shapes.push(_)}}},{key:"rectangleToTF",value:function(t){var e=this.location,i=new LonLat(t.x,t.y),n=this.layer.map.getResolution(),r=this.getLocalXY(i),o=new Object;o.r=6,(o=(0,m.copyAttributesWithClip)(o,this.style)).x=r[0]-e[0],o.y=r[1]-e[1]-2*t.width/n,o.width=t.width/n,o.height=t.height/n;var a=new x.SmicRectangle({style:o,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(a.highlightStyle=this.highlightStyle),a.refOriginalPosition=e,a.refDataID=this.data.id,a.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&(0,m.copyAttributesWithClip)(a,this.shapeOptions),this.shapes.push(a)}},{key:"geoTextToTF",value:function(t){var e=this.location,i=this.getLocalXY(t),n=new Object;n.r=6,(n=(0,m.copyAttributesWithClip)(n,this.style,["x","y","text"])).x=i[0]-e[0],n.y=i[1]-e[1],n.text=t.text;var r=new L.SmicText({style:n,clickable:this.isClickAble,hoverable:this.isHoverAble});this.highlightStyle&&(r.highlightStyle=this.highlightStyle),r.refOriginalPosition=e,r.refDataID=this.data.id,r.isHoverByRefDataID=this.isMultiHover,this.shapeOptions&&(0,m.copyAttributesWithClip)(r,this.shapeOptions),this.shapes.push(r)}},{key:"updateAndAddShapes",value:function(){var t=this.getLocalXY(this.lonlat);this.location=t;for(var e=this.layer.renderer,i=0,n=this.shapes.length;i<n;i++){var r=this.shapes[i];r.refOriginalPosition=t,e.addShape(r)}}},{key:"getShapesCount",value:function(){return this.shapes.length}},{key:"getLocalXY",value:function(t){return this.layer.getLocalXY(t)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Circle=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(82),o=i(9),a=i(75),s=i(5);e.Circle=function(t){function e(t,i,n,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.RankSymbol),n(e,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){if(!this.setting)return!1;var t=this.setting;if(!t.codomain)return!1;var e=void 0===t.decimalNumber||isNaN(t.decimalNumber)?-1:t.decimalNumber,i=(0,o.getDataValues)(this.data,this.fields,e);this.dataValues=i||[];var n=this.dataValues;t.maxR||(t.maxR=100),t.minR||(t.minR=0);var r=this.DVBCodomain;r&&r[1]-r[0]>0?this.DVBUnitValue=t.maxR/(r[1]-r[0]):this.DVBUnitValue=t.maxR;var l=this.DVBUnitValue,h=n[0]*l+t.minR;if(this.width=2*h,this.height=2*h,this.initBaseParameter()&&(!r||!(n[0]<r[0]||n[0]>r[1]))){var u=this.DVBCenterPoint,c=new a.Circle(u[0],u[1],h);c.style=s.ShapeFactory.ShapeStyleTool(null,t.circleStyle,null,null,0),void 0!==t.fillColor?c.style.fillColor=t.fillColor:c.style.fillColor="#ff9277",c.highlightStyle=s.ShapeFactory.ShapeStyleTool(null,t.circleHoverStyle),void 0!==t.circleHoverAble&&(c.hoverable=t.circleHoverAble),void 0!==t.circleClickAble&&(c.clickable=t.circleClickAble),c.refDataID=this.data.id,c.dataInfo={field:this.fields[0],r:h,value:n[0]},this.shapes.push(this.shapeFactory.createShape(c)),this.shapesConvertToRelativeCoordinate()}}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RankSymbol=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(9),o=i(5);e.RankSymbol=function(t){function e(t,i,n,r,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,a,s));if(l.setting=null,a)l.lonlat=a;else{var h=t.geometry.getBounds();l.lonlat=h.getCenterLonLat()}return r&&r.codomain&&(l.setting=r,l.DVBCodomain=l.setting.codomain),l.fields=n||[],l.shapeFactory=new o.ShapeFactory,l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Graph),n(e,[{key:"destroy",value:function(){this.setting=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"initBaseParameter",value:function(){if(!this.setting)return!1;var t=this.setting;t.XOffset&&(this.XOffset=t.XOffset),t.YOffset&&(this.YOffset=t.YOffset),this.XOffset=t.XOffset?t.XOffset:0,this.YOffset=t.YOffset?t.YOffset:0,this.origonPoint=[],this.chartBox=[],this.dataViewBox=[],this.DVBParameter=t.dataViewBoxParameter?t.dataViewBoxParameter:[0,0,0,0],this.DVBOrigonPoint=[],this.DVBCenterPoint=[],this.origonPointOffset=[],this.resetLocation();var e=this.width,i=this.height,n=this.location;this.origonPoint=[n[0]-e/2,n[1]-i/2];var r=this.origonPoint;this.chartBox=[r[0],r[1]+i,r[0]+e,r[1]];var o=this.chartBox,a=this.DVBParameter;this.dataViewBox=[o[0]+a[0],o[1]-a[1],o[2]-a[2],o[3]+a[3]];var s=this.dataViewBox;return!(s[0]>=s[2]||s[1]<=s[3])&&(this.DVBOrigonPoint=[s[0],s[3]],this.DVBWidth=Math.abs(s[2]-s[0]),this.DVBHeight=Math.abs(s[1]-s[3]),this.DVBCenterPoint=[this.DVBOrigonPoint[0]+this.DVBWidth/2,this.DVBOrigonPoint[1]+this.DVBHeight/2],this.origonPointOffset=[this.DVBOrigonPoint[0]-r[0],this.DVBOrigonPoint[1]-r[1]],!0)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeLayer=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n},a=i(4),s=i(36),l=i(39);i(60);var h=i(0);e.ThemeLayer=o.default.Layer.extend({options:{name:null,opacity:1,TFEvents:null},initialize:function(t,e){o.default.Util.setOptions(this,e),this.options.name=t,this.features=[],this.TFEvents=[],this.levelRenderer=new l.LevelRenderer,this.movingOffset=[0,0]},getEvents:function(){var t={zoomend:this._reset,moveend:this._reset,resize:this._resize};return this._map._zoomAnimated&&(t.zoomanim=this._zoomAnim),t},onRemove:function(t){o.default.DomUtil.remove(this.container),t.off("mousemove",this.mouseMoveHandler)},onAdd:function(t){var e=this;if(e._initContainer(),e.levelRenderer){e.map=t;var i=t.getSize();e.container.style.width=i.x+"px",e.container.style.height=i.y+"px",e._updateOpacity(),e.renderer=e.levelRenderer.init(e.container),e.renderer.clear(),e.features.length>0&&(e._reset(),e.redrawThematicFeatures(e.map.getBounds())),e.addTFEvents(),e.mouseMoveHandler=function(t){var i=t.layerPoint;e.currentMousePosition=o.default.point(i.x+e.movingOffset[0],i.y+e.movingOffset[1])},t.on("mousemove",e.mouseMoveHandler),e.update()}else t.removeLayer(e)},addFeatures:function(t){},redrawThematicFeatures:function(t){},destroyFeatures:function(t){if(void 0===t&&(t=this.features),t){this.removeFeatures(t);for(var e=t.length-1;e>=0;e--)t[e].destroy()}},removeFeatures:function(t){var e=this;if(t&&0!==t.length){if(t===e.features)return e.removeAllFeatures();o.default.Util.isArray(t)||(t=[t]);for(var i=[],n=t.length-1;n>=0;n--){var r=t[n],a=o.default.Util.indexOf(e.features,r);-1!==a?e.features.splice(a,1):i.push(r)}for(var s=[],l=0,h=e.features.length;l<h;l++)r=e.features[l],s.push(r);e.features=[],e.addFeatures(s),e.renderer&&(e._map?e.redrawThematicFeatures(e._map.getBounds()):e.redrawThematicFeatures());var u=0==i.length;e.fire("featuresremoved",{features:i,succeed:u})}},removeAllFeatures:function(){this.renderer&&this.renderer.clear(),this.features=[],this.fire("featuresremoved",{features:[],succeed:!0})},getFeatures:function(){for(var t=this.features.length,e=new Array(t),i=0;i<t;++i)e[i]=this.features[i];return e},getFeatureBy:function(t,e){var i=null;for(var n in this.features)if(this.features[n][t]===e){i=this.features[n];break}return i},getFeatureById:function(t){return this.getFeatureBy("id",t)},getFeaturesByAttribute:function(t,e){var i,n=[];for(var r in this.features)(i=this.features[r])&&i.attributes&&i.attributes[t]===e&&n.push(i);return n},update:function(t){var e=this,i=parseInt(e._map.getContainer().style.left,10);i=-Math.round(i);var n=parseInt(e._map.getContainer().style.top,10);n=-Math.round(n),e.container.style.left=i+"px",e.container.style.top=n+"px",e.renderer&&e.redrawThematicFeatures(t),e.currentMousePosition&&(e.currentMousePosition=o.default.point(e.currentMousePosition.x-e.movingOffset[0],e.currentMousePosition.y-e.movingOffset[1])),e.movingOffset=[0,0],e._zoom=e._map.getZoom(),e._center=e._map.getCenter()},setOpacity:function(t){t!==this.options.opacity&&(t&&(this.options.opacity=t),this._updateOpacity())},redraw:function(){return!!this.renderer&&(this._map?this.redrawThematicFeatures(this._map.getBounds()):this.redrawThematicFeatures(),!0)},on:function(t,e,i){return this.renderer?this.renderer.on(t,e):o.default.Layer.prototype.on.call(this,t,e),this},off:function(t,e,i){return this.renderer?this.renderer.un(t,e):o.default.Layer.prototype.off.call(this,t,e),this},addTFEvents:function(){for(var t=this.TFEvents,e=t.length,i=0;i<e;i++)this.renderer.on(t[i][0],t[i][1])},getLocalXY:function(t){if(!this._map)return t;var e=t;o.default.Util.isArray(t)?e=o.default.point(t[0],t[1]):t instanceof o.default.Point||(e=t instanceof a.Point||t instanceof s.GeoText?o.default.point(t.x,t.y):o.default.point(t.lon,t.lat));var i=this._map.latLngToContainerPoint(this._map.options.crs.unproject(e));return[i.x,i.y]},_initContainer:function(){var t=this.getPane();this.container=o.default.DomUtil.create("div","themeLayer",t),this.container.style.zIndex=100},_zoomAnim:function(t){var e=t.zoom,i=t.center,n=this._map.getZoomScale(e),r=this._map._getCenterOffset(i)._multiplyBy(-n).subtract(this._map._getMapPanePos());o.default.DomUtil.setTransform?o.default.DomUtil.setTransform(this.container,r,n):o.default.DomUtil.setPosition(this.container,r)},_updateOpacity:function(){(0,h.modifyDOMElement)(this.container,null,null,null,null,null,null,this.options.opacity),null!==this._map&&this._map.fire("changelayer",{layer:this,property:"opacity"})},_reset:function(){var t=this._map.getBounds();this.update(t);var e=new o.default.Bounds(this._map.latLngToLayerPoint(t.getNorthWest()),this._map.latLngToLayerPoint(t.getSouthEast())),i=e.getSize();o.default.DomUtil.setPosition(this.container,e.min),this.container.style.width=i.x+"px",this.container.style.height=i.y+"px"},_resize:function(){var t=this._map.getSize();this.container.style.width=t.x+"px",this.container.style.height=t.y+"px",this.renderer.resize()}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServerFeature=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(13),o=i(175),a=i(0);e.ServerFeature=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fieldNames=null,this.fieldValues=null,this.geometry=null,e&&(0,a.extend)(this,e)}return n(t,[{key:"destroy",value:function(){this.fieldNames=null,this.fieldValues=null,this.geometry&&(this.geometry.destroy(),this.geometry=null)}},{key:"toFeature",value:function(){var t,e,i,n,o={};for(var a in t=this.fieldNames,e=this.fieldValues,t)o[t[a]]=e[a];return this.geometry&&(i=this.geometry.toGeometry()),n=new r.Vector(i,o),this.geometry&&this.geometry.id&&(n.fid=this.geometry.id),n}}],[{key:"fromJson",value:function(e){var i=null;if(e)return(i=e.geometry)&&(i=o.ServerGeometry.fromJson(i)),new t({fieldNames:e.fieldNames,fieldValues:e.fieldValues,geometry:i})}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toBounds=function(t){if(t instanceof o.default.LatLngBounds)return new a.Bounds(t.getSouthWest().lng,t.getSouthWest().lat,t.getNorthEast().lng,t.getNorthEast().lat);if(t instanceof o.default.Bounds)return new a.Bounds(t.min.x,t.min.y,t.max.x,t.max.y);if("[object Array]"==Object.prototype.toString.call(t))return new a.Bounds(t[0],t[1],t[2],t[3]);return null};var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n},a=i(6)},function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHZpZXdCb3g9IjAgMCA2MDAgNjAiCiAgIGhlaWdodD0iNjAiCiAgIHdpZHRoPSI2MDAiCiAgIGlkPSJzdmc0MjI1IgogICB2ZXJzaW9uPSIxLjEiCiAgIGlua3NjYXBlOnZlcnNpb249IjAuOTEgcjEzNzI1IgogICBzb2RpcG9kaTpkb2NuYW1lPSJzcHJpdGVzaGVldC5zdmciCiAgIGlua3NjYXBlOmV4cG9ydC1maWxlbmFtZT0iL2hvbWUvZnB1Z2EvZGV2ZWxvcG1lbnQvdXBzdHJlYW0vaWNhcnRvLkxlYWZsZXQuZHJhdy9zcmMvaW1hZ2VzL3Nwcml0ZXNoZWV0LTJ4LnBuZyIKICAgaW5rc2NhcGU6ZXhwb3J0LXhkcGk9IjkwIgogICBpbmtzY2FwZTpleHBvcnQteWRwaT0iOTAiPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQyNTgiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0MjU2IiAvPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTkyMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSIxMDU2IgogICAgIGlkPSJuYW1lZHZpZXc0MjU0IgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTp6b29tPSIxLjMxMDE4NTIiCiAgICAgaW5rc2NhcGU6Y3g9IjIzNy41NjkyOCIKICAgICBpbmtzY2FwZTpjeT0iNy4yNDE5NjIxIgogICAgIGlua3NjYXBlOndpbmRvdy14PSIxOTIwIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyNCIKICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPSIxIgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9InN2ZzQyMjUiIC8+CiAgPGcKICAgICBpZD0iZW5hYmxlZCIKICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIj4KICAgIDxnCiAgICAgICBpZD0icG9seWxpbmUiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIj4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAxOCwzNiAwLDYgNiwwIDAsLTYgLTYsMCB6IG0gNCw0IC0yLDAgMCwtMiAyLDAgMCwyIHoiCiAgICAgICAgIGlkPSJwYXRoNDIyOSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzNiwxOCAwLDYgNiwwIDAsLTYgLTYsMCB6IG0gNCw0IC0yLDAgMCwtMiAyLDAgMCwyIHoiCiAgICAgICAgIGlkPSJwYXRoNDIzMSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAyMy4xNDIsMzkuMTQ1IC0yLjI4NSwtMi4yOSAxNiwtMTUuOTk4IDIuMjg1LDIuMjg1IHoiCiAgICAgICAgIGlkPSJwYXRoNDIzMyIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBpZD0icG9seWdvbiIKICAgICAgIGQ9Ik0gMTAwLDI0LjU2NSA5Ny45MDQsMzkuMzk1IDgzLjA3LDQyIDc2LDI4Ljc3MyA4Ni40NjMsMTggWiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJyZWN0YW5nbGUiCiAgICAgICBkPSJtIDE0MCwyMCAyMCwwIDAsMjAgLTIwLDAgeiIKICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIiAvPgogICAgPHBhdGgKICAgICAgIGlkPSJjaXJjbGUiCiAgICAgICBkPSJtIDIyMSwzMCBjIDAsNi4wNzggLTQuOTI2LDExIC0xMSwxMSAtNi4wNzQsMCAtMTEsLTQuOTIyIC0xMSwtMTEgMCwtNi4wNzQgNC45MjYsLTExIDExLC0xMSA2LjA3NCwwIDExLDQuOTI2IDExLDExIHoiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDxwYXRoCiAgICAgICBpZD0ibWFya2VyIgogICAgICAgZD0ibSAyNzAsMTkgYyAtNC45NzEsMCAtOSw0LjAyOSAtOSw5IDAsNC45NzEgNS4wMDEsMTIgOSwxNCA0LjAwMSwtMiA5LC05LjAyOSA5LC0xNCAwLC00Ljk3MSAtNC4wMjksLTkgLTksLTkgeiBtIDAsMTIuNSBjIC0yLjQ4NCwwIC00LjUsLTIuMDE0IC00LjUsLTQuNSAwLC0yLjQ4NCAyLjAxNiwtNC41IDQuNSwtNC41IDIuNDg1LDAgNC41LDIuMDE2IDQuNSw0LjUgMCwyLjQ4NiAtMi4wMTUsNC41IC00LjUsNC41IHoiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDxnCiAgICAgICBpZD0iZWRpdCIKICAgICAgIHN0eWxlPSJmaWxsOiM0NjQ2NDY7ZmlsbC1vcGFjaXR5OjEiPgogICAgICA8cGF0aAogICAgICAgICBkPSJtIDMzNywzMC4xNTYgMCwwLjQwNyAwLDUuNjA0IGMgMCwxLjY1OCAtMS4zNDQsMyAtMywzIGwgLTEwLDAgYyAtMS42NTUsMCAtMywtMS4zNDIgLTMsLTMgbCAwLC0xMCBjIDAsLTEuNjU3IDEuMzQ1LC0zIDMsLTMgbCA2LjM0NSwwIDMuMTksLTMuMTcgLTkuNTM1LDAgYyAtMy4zMTMsMCAtNiwyLjY4NyAtNiw2IGwgMCwxMCBjIDAsMy4zMTMgMi42ODcsNiA2LDYgbCAxMCwwIGMgMy4zMTQsMCA2LC0yLjY4NyA2LC02IGwgMCwtOC44MDkgLTMsMi45NjgiCiAgICAgICAgIGlkPSJwYXRoNDI0MCIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzMzguNzIsMjQuNjM3IC04Ljg5Miw4Ljg5MiAtMi44MjgsMCAwLC0yLjgyOSA4Ljg5LC04Ljg5IHoiCiAgICAgICAgIGlkPSJwYXRoNDI0MiIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzMzguNjk3LDE3LjgyNiA0LDAgMCw0IC00LDAgeiIKICAgICAgICAgdHJhbnNmb3JtPSJtYXRyaXgoLTAuNzA2OTgzMzYsLTAuNzA3MjMwMTgsMC43MDcyMzAxOCwtMC43MDY5ODMzNiw1NjcuNTU5MTcsMjc0Ljc4MjczKSIKICAgICAgICAgaWQ9InBhdGg0MjQ0IgogICAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIiAvPgogICAgPC9nPgogICAgPGcKICAgICAgIGlkPSJyZW1vdmUiCiAgICAgICBzdHlsZT0iZmlsbDojNDY0NjQ2O2ZpbGwtb3BhY2l0eToxIj4KICAgICAgPHBhdGgKICAgICAgICAgZD0ibSAzODEsNDIgMTgsMCAwLC0xOCAtMTgsMCAwLDE4IHogbSAxNCwtMTYgMiwwIDAsMTQgLTIsMCAwLC0xNCB6IG0gLTQsMCAyLDAgMCwxNCAtMiwwIDAsLTE0IHogbSAtNCwwIDIsMCAwLDE0IC0yLDAgMCwtMTQgeiBtIC00LDAgMiwwIDAsMTQgLTIsMCAwLC0xNCB6IgogICAgICAgICBpZD0icGF0aDQyNDciCiAgICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiCiAgICAgICAgIHN0eWxlPSJmaWxsOiM0NjQ2NDY7ZmlsbC1vcGFjaXR5OjEiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIGQ9Im0gMzk1LDIwIDAsLTQgLTEwLDAgMCw0IC02LDAgMCwyIDIyLDAgMCwtMiAtNiwwIHogbSAtMiwwIC02LDAgMCwtMiA2LDAgMCwyIHoiCiAgICAgICAgIGlkPSJwYXRoNDI0OSIKICAgICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIKICAgICAgICAgc3R5bGU9ImZpbGw6IzQ2NDY0NjtmaWxsLW9wYWNpdHk6MSIgLz4KICAgIDwvZz4KICA8L2c+CiAgPGcKICAgICBpZD0iZGlzYWJsZWQiCiAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIwLDApIgogICAgIHN0eWxlPSJmaWxsOiNiYmJiYmIiPgogICAgPHVzZQogICAgICAgeGxpbms6aHJlZj0iI2VkaXQiCiAgICAgICBpZD0iZWRpdC1kaXNhYmxlZCIKICAgICAgIHg9IjAiCiAgICAgICB5PSIwIgogICAgICAgd2lkdGg9IjEwMCUiCiAgICAgICBoZWlnaHQ9IjEwMCUiIC8+CiAgICA8dXNlCiAgICAgICB4bGluazpocmVmPSIjcmVtb3ZlIgogICAgICAgaWQ9InJlbW92ZS1kaXNhYmxlZCIKICAgICAgIHg9IjAiCiAgICAgICB5PSIwIgogICAgICAgd2lkdGg9IjEwMCUiCiAgICAgICBoZWlnaHQ9IjEwMCUiIC8+CiAgPC9nPgogIDxwYXRoCiAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgIGlkPSJjaXJjbGUtMyIKICAgICBkPSJtIDU4MS42NTcyNSwzMCBjIDAsNi4wNzggLTQuOTI2LDExIC0xMSwxMSAtNi4wNzQsMCAtMTEsLTQuOTIyIC0xMSwtMTEgMCwtNi4wNzQgNC45MjYsLTExIDExLC0xMSA2LjA3NCwwIDExLDQuOTI2IDExLDExIHoiCiAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT0iMCIgLz4KPC9zdmc+Cg=="},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TianDiTu_WGS84CRS=e.TianDiTu_MercatorCRS=e.BaiduCRS=e.crs=e.CRS=void 0;var n=i(88);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var r=i(63);Object.defineProperty(e,"CRS",{enumerable:!0,get:function(){return r.CRS}}),Object.defineProperty(e,"crs",{enumerable:!0,get:function(){return r.crs}});var o=i(150);Object.defineProperty(e,"BaiduCRS",{enumerable:!0,get:function(){return o.BaiduCRS}}),Object.defineProperty(e,"TianDiTu_MercatorCRS",{enumerable:!0,get:function(){return o.TianDiTu_MercatorCRS}}),Object.defineProperty(e,"TianDiTu_WGS84CRS",{enumerable:!0,get:function(){return o.TianDiTu_WGS84CRS}});var a=i(151);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var s=i(153);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}),i(195),i(200),i(201),i(202),i(204),i(206),i(208),i(209),i(211),i(212),i(213),i(218),i(222);var l=u(i(223)),h=u(i(224));function u(t){return t&&t.__esModule?t:{default:t}}window.L.arctiler=e,window.coordtransform=l.default,window.OSMBuildings=h.default.OSMBuildings},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(89);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var r=i(31);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(90);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})});var r=i(43);Object.defineProperty(e,"ThemeStyle",{enumerable:!0,get:function(){return r.ThemeStyle}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Area=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(17),o=i(37);e.Area=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.util=null,this.curve=null,this._ctx=null,this._textWidthCache=null,this._textHeightCache=null,this._textWidthCacheCounter=null,this._textHeightCacheCounter=null,this.TEXT_CACHE_MAX=null,this.PI2=null,this.roots=null,this.extrema=null,this.util=new r.Util,this.curve=new o.Curve,this._textWidthCache={},this._textHeightCache={},this._textWidthCacheCounter=0,this._textHeightCacheCounter=0,this.TEXT_CACHE_MAX=5e3,this.PI2=2*Math.PI,this.roots=[-1,-1,-1],this.extrema=[-1,-1]}return n(t,[{key:"normalizeRadian",value:function(t){return(t%=this.PI2)<0&&(t+=this.PI2),t}},{key:"isInside",value:function(t,e,i,n){if(!e||!t)return!1;var r=t.type;this._ctx=this._ctx||this.util.getContext();var o=this._mathMethod(t,e,i,n);if(void 0!==o)return o;if(t.buildPath&&this._ctx.isPointInPath)return this._buildPathMethod(t,this._ctx,e,i,n);switch(r){case"ellipse":case"smicellipse":return!0;case"trochoid":var a="out"==e.location?e.r1+e.r2+e.d:e.r1-e.r2+e.d;return this.isInsideCircle(e,i,n,a);case"rose":return this.isInsideCircle(e,i,n,e.maxr);default:return!1}}},{key:"_mathMethod",value:function(t,e,i,n){switch(t.type){case"bezier-curve":return void 0===e.cpX2?this.isInsideQuadraticStroke(e.xStart,e.yStart,e.cpX1,e.cpY1,e.xEnd,e.yEnd,e.lineWidth,i,n):this.isInsideCubicStroke(e.xStart,e.yStart,e.cpX1,e.cpY1,e.cpX2,e.cpY2,e.xEnd,e.yEnd,e.lineWidth,i,n);case"line":return this.isInsideLine(e.xStart,e.yStart,e.xEnd,e.yEnd,e.lineWidth,i,n);case"broken-line":return this.isInsideBrokenLine(e.pointList,e.lineWidth,i,n);case"smicbroken-line":var r=i,o=n;return t.refOriginalPosition&&(r=i-t.refOriginalPosition[0],o=n-t.refOriginalPosition[1]),this.isInsideBrokenLine(e.pointList,e.lineWidth,r,o);case"ring":return this.isInsideRing(e.x,e.y,e.r0,e.r,i,n);case"smicring":var a=e.x,s=e.y;return t.refOriginalPosition&&(a=e.x+t.refOriginalPosition[0],s=e.y+t.refOriginalPosition[1]),this.isInsideRing(a,s,e.r0,e.r,i,n);case"circle":return this.isInsideCircle(e.x,e.y,e.r,i,n);case"smicpoint":var l=i,h=n;return t.refOriginalPosition&&(l=i-t.refOriginalPosition[0],h=n-t.refOriginalPosition[1]),this.isInsideCircle(e.x,e.y,e.r,l,h);case"sector":var u=e.startAngle*Math.PI/180,c=e.endAngle*Math.PI/180;return e.clockWise||(u=-u,c=-c),this.isInsideSector(e.x,e.y,e.r0,e.r,u,c,!e.clockWise,i,n);case"smicsector":var f=e.startAngle*Math.PI/180,d=e.endAngle*Math.PI/180;e.clockWise||(f=-f,d=-d);var p=e.x,g=e.y;return t.refOriginalPosition&&(p=e.x+t.refOriginalPosition[0],g=e.y+t.refOriginalPosition[1]),this.isInsideSector(p,g,e.r0,e.r,f,d,!e.clockWise,i,n);case"path":return this.isInsidePath(e.pathArray,Math.max(e.lineWidth,5),e.brushType,i,n);case"polygon":case"star":case"smicstar":case"isogon":case"smicisogon":return this.isInsidePolygon(e.pointList,i,n);case"smicpolygon":var _=i,m=n;if(t.refOriginalPosition&&(_=i-t.refOriginalPosition[0],m=n-t.refOriginalPosition[1]),t.holePolygonPointLists&&t.holePolygonPointLists.length>0){for(var y=this.isInsidePolygon(e.pointList,_,m),v=t.holePolygonPointLists,b=!1,x=0,L=v.length;x<L;x++){var w=v[x];!0===this.isInsidePolygon(w,_,m)&&(b=!0)}return!0===y&&!1===b}return this.isInsidePolygon(e.pointList,_,m);case"text":var C=e.__rect||t.getRect(e);return this.isInsideRect(C.x,C.y,C.width,C.height,i,n);case"smictext":var I=t.getTextBackground(e);return this.isInsidePolygon(I,i,n);case"rectangle":case"image":return this.isInsideRect(e.x,e.y,e.width,e.height,i,n);case"smicimage":var M=e.x,E=e.y;return t.refOriginalPosition&&(M=e.x+t.refOriginalPosition[0],E=e.y+t.refOriginalPosition[1]),this.isInsideRect(M,E,e.width,e.height,i,n)}}},{key:"_buildPathMethod",value:function(t,e,i,n,r){return e.beginPath(),t.buildPath(e,i),e.closePath(),e.isPointInPath(n,r)}},{key:"isOutside",value:function(t,e,i,n){return!this.isInside(t,e,i,n)}},{key:"isInsideLine",value:function(t,e,i,n,r,o,a){if(0===r)return!1;var s=Math.max(r,5),l=0;if(a>e+s&&a>n+s||a<e-s&&a<n-s||o>t+s&&o>i+s||o<t-s&&o<i-s)return!1;if(t===i)return Math.abs(o-t)<=s/2;var h=(l=(e-n)/(t-i))*o-a+(t*n-i*e)/(t-i);return h*h/(l*l+1)<=s/2*s/2}},{key:"isInsideCubicStroke",value:function(t,e,i,n,r,o,a,s,l,h,u){if(0===l)return!1;var c=Math.max(l,5);return!(u>e+c&&u>n+c&&u>o+c&&u>s+c||u<e-c&&u<n-c&&u<o-c&&u<s-c||h>t+c&&h>i+c&&h>r+c&&h>a+c||h<t-c&&h<i-c&&h<r-c&&h<a-c)&&this.curve.cubicProjectPoint(t,e,i,n,r,o,a,s,h,u,null)<=c/2}},{key:"isInsideQuadraticStroke",value:function(t,e,i,n,r,o,a,s,l){if(0===a)return!1;var h=Math.max(a,5);return!(l>e+h&&l>n+h&&l>o+h||l<e-h&&l<n-h&&l<o-h||s>t+h&&s>i+h&&s>r+h||s<t-h&&s<i-h&&s<r-h)&&this.curve.quadraticProjectPoint(t,e,i,n,r,o,s,l,null)<=h/2}},{key:"isInsideArcStroke",value:function(t,e,i,n,r,o,a,s,l){var h=this.PI2;if(0===a)return!1;var u=Math.max(a,5);s-=t,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>i||c+u<i)return!1;if(Math.abs(n-r)>=h)return!0;if(o){var f=n;n=this.normalizeRadian(r),r=this.normalizeRadian(f)}else n=this.normalizeRadian(n),r=this.normalizeRadian(r);n>r&&(r+=h);var d=Math.atan2(l,s);return d<0&&(d+=h),d>=n&&d<=r||d+h>=n&&d+h<=r}},{key:"isInsideBrokenLine",value:function(t,e,i,n){for(var r=Math.max(e,10),o=0,a=t.length-1;o<a;o++){var s=t[o][0],l=t[o][1],h=t[o+1][0],u=t[o+1][1];if(this.isInsideLine(s,l,h,u,r,i,n))return!0}return!1}},{key:"isInsideRing",value:function(t,e,i,n,r,o){var a=(r-t)*(r-t)+(o-e)*(o-e);return a<n*n&&a>i*i}},{key:"isInsideRect",value:function(t,e,i,n,r,o){return r>=t&&r<=t+i&&o>=e&&o<=e+n}},{key:"isInsideCircle",value:function(t,e,i,n,r){return(n-t)*(n-t)+(r-e)*(r-e)<i*i}},{key:"isInsideSector",value:function(t,e,i,n,r,o,a,s,l){return this.isInsideArcStroke(t,e,(i+n)/2,r,o,a,n-i,s,l)}},{key:"isInsidePolygon",value:function(t,e,i){for(var n=t.length,r=0,o=0,a=n-1;o<n;o++){var s=t[a][0],l=t[a][1],h=t[o][0],u=t[o][1];r+=this.windingLine(s,l,h,u,e,i),a=o}return 0!==r}},{key:"windingLine",value:function(t,e,i,n,r,o){return o>e&&o>n||o<e&&o<n?0:n==e?0:(o-e)/(n-e)*(i-t)+t>r?n<e?1:-1:0}},{key:"swapExtrema",value:function(){var t=this.extrema[0];this.extrema[0]=this.extrema[1],this.extrema[1]=t}},{key:"windingCubic",value:function(t,e,i,n,r,o,a,s,l,h){var u=this.curve,c=this.roots,f=this.extrema;if(h>e&&h>n&&h>o&&h>s||h<e&&h<n&&h<o&&h<s)return 0;var d=u.cubicRootAt(e,n,o,s,h,c);if(0===d)return 0;for(var p,g,_=0,m=-1,y=0;y<d;y++){var v=c[y];u.cubicAt(t,i,r,a,v)<l||(m<0&&(m=u.cubicExtrema(e,n,o,s,f),f[1]<f[0]&&m>1&&this.swapExtrema(),p=u.cubicAt(e,n,o,s,f[0]),m>1&&(g=u.cubicAt(e,n,o,s,f[1]))),2==m?v<f[0]?_+=p<e?1:-1:v<f[1]?_+=g<p?1:-1:_+=s<g?1:-1:v<f[0]?_+=p<e?1:-1:_+=s<p?1:-1)}return _}},{key:"windingQuadratic",value:function(t,e,i,n,r,o,a,s){var l=this.curve,h=this.roots;if(s>e&&s>n&&s>o||s<e&&s<n&&s<o)return 0;var u=l.quadraticRootAt(e,n,o,s,h);if(0===u)return 0;var c=l.quadraticExtremum(e,n,o);if(c>=0&&c<=1){for(var f=0,d=l.quadraticAt(e,n,o,c),p=0;p<u;p++){l.quadraticAt(t,i,r,h[p])>a||(h[p]<c?f+=d<e?1:-1:f+=o<d?1:-1)}return f}return l.quadraticAt(t,i,r,h[0])>a?0:o<e?1:-1}},{key:"windingArc",value:function(t,e,i,n,r,o,a,s){var l=this.roots,h=this.PI2;if((s-=e)>i||s<-i)return 0;var u=Math.sqrt(i*i-s*s);if(l[0]=-u,l[1]=u,Math.abs(n-r)>=h){n=0,r=h;var c=o?1:-1;return a>=l[0]+t&&a<=l[1]+t?c:0}if(o){var f=n;n=this.normalizeRadian(r),r=this.normalizeRadian(f)}else n=this.normalizeRadian(n),r=this.normalizeRadian(r);n>r&&(r+=h);for(var d=0,p=0;p<2;p++){var g=l[p];if(g+t>a){var _=Math.atan2(s,g),m=o?1:-1;_<0&&(_=h+_),(_>=n&&_<=r||_+h>=n&&_+h<=r)&&(_>Math.PI/2&&_<1.5*Math.PI&&(m=-m),d+=m)}}return d}},{key:"isInsidePath",value:function(t,e,i,n,r){for(var o=0,a=0,s=0,l=0,h=0,u=!0,c=!0,f="stroke"===(i=i||"fill")||"both"===i,d="fill"===i||"both"===i,p=0;p<t.length;p++){var g=t[p],_=g.points;if(u||"M"===g.command){if(p>0&&(d&&(o+=this.windingLine(a,s,l,h,n,r)),0!==o))return!0;l=_[_.length-2],h=_[_.length-1],u=!1,c&&"A"!==g.command&&(c=!1,a=l,s=h)}switch(g.command){case"M":a=_[0],s=_[1];break;case"L":if(f&&this.isInsideLine(a,s,_[0],_[1],e,n,r))return!0;d&&(o+=this.windingLine(a,s,_[0],_[1],n,r)),a=_[0],s=_[1];break;case"C":if(f&&this.isInsideCubicStroke(a,s,_[0],_[1],_[2],_[3],_[4],_[5],e,n,r))return!0;d&&(o+=this.windingCubic(a,s,_[0],_[1],_[2],_[3],_[4],_[5],n,r)),a=_[4],s=_[5];break;case"Q":if(f&&this.isInsideQuadraticStroke(a,s,_[0],_[1],_[2],_[3],e,n,r))return!0;d&&(o+=this.windingQuadratic(a,s,_[0],_[1],_[2],_[3],n,r)),a=_[2],s=_[3];break;case"A":var m=_[0],y=_[1],v=_[2],b=_[3],x=_[4],L=_[5],w=Math.cos(x)*v+m,C=Math.sin(x)*b+y;c?(c=!1,l=w,h=C):o+=this.windingLine(a,s,w,C);var I=(n-m)*b/v+m;if(f&&this.isInsideArcStroke(m,y,b,x,x+L,1-_[7],e,I,r))return!0;d&&(o+=this.windingArc(m,y,b,x,x+L,1-_[7],I,r)),a=Math.cos(x+L)*v+m,s=Math.sin(x+L)*b+y;break;case"z":if(f&&this.isInsideLine(a,s,l,h,e,n,r))return!0;u=!0}}return d&&(o+=this.windingLine(a,s,l,h,n,r)),0!==o}},{key:"getTextWidth",value:function(t,e){var i=t+":"+e;if(this._textWidthCache[i])return this._textWidthCache[i];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),e&&(this._ctx.font=e);for(var n=0,r=0,o=(t=(t+"").split("\n")).length;r<o;r++)n=Math.max(this._ctx.measureText(t[r]).width,n);return this._ctx.restore(),this._textWidthCache[i]=n,++this._textWidthCacheCounter>this.TEXT_CACHE_MAX&&(this._textWidthCacheCounter=0,this._textWidthCache={}),n}},{key:"getTextHeight",value:function(t,e){var i=t+":"+e;if(this._textHeightCache[i])return this._textHeightCache[i];this._ctx=this._ctx||this.util.getContext(),this._ctx.save(),e&&(this._ctx.font=e),t=(t+"").split("\n");var n=(this._ctx.measureText("ZH").width+2)*t.length;return this._ctx.restore(),this._textHeightCache[i]=n,++this._textHeightCacheCounter>this.TEXT_CACHE_MAX&&(this._textHeightCacheCounter=0,this._textHeightCache={}),n}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Size=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.w=0,this.h=0,this.w=e?parseFloat(e):this.w,this.h=e?parseFloat(i):this.h}return n(t,[{key:"toString",value:function(){return"w="+this.w+",h="+this.h}},{key:"clone",value:function(){return new t(this.w,this.h)}},{key:"equals",value:function(t){var e=!1;return null!=t&&(e=this.w===t.w&&this.h===t.h||isNaN(this.w)&&isNaN(this.h)&&isNaN(t.w)&&isNaN(t.h)),e}},{key:"destroy",value:function(){this.w=null,this.h=null}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(94);e.Storage=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._elements=null,this._hoverElements=null,this._roots=null,this._shapeList=null,this._shapeListOffset=0,this._elements={},this._hoverElements=[],this._roots=[],this._shapeList=[],this._shapeListOffset=0}return n(t,[{key:"destroy",value:function(){this.dispose(),this._shapeList=null,this._shapeListOffset=null}},{key:"iterShape",value:function(t,e){if(!e){e={hover:!1,normal:"down",update:!1}}if(e.hover)for(var i=0,n=this._hoverElements.length;i<n;i++){var r=this._hoverElements[i];if(r.updateTransform(),t(r))return this}switch(e.update&&this.updateShapeList(),e.normal){case"down":for(var o=this._shapeList.length;o--;)if(t(this._shapeList[o]))return this;break;default:for(var a=0,s=this._shapeList.length;a<s;a++)if(t(this._shapeList[a]))return this}return this}},{key:"getHoverShapes",value:function(e){for(var i=[],n=this._hoverElements.length,r=0;r<n;r++){i.push(this._hoverElements[r]);var o=this._hoverElements[r].hoverConnect;if(o)for(var a,s=0,l=(o=o instanceof Array?o:[o]).length;s<l;s++)(a=o[s].id?o[s]:this.get(o[s]))&&i.push(a)}if(i.sort(t.shapeCompareFunc),e)for(var h=0,u=i.length;h<u;h++)i[h].updateTransform();return i}},{key:"getShapeList",value:function(t){return t&&this.updateShapeList(),this._shapeList}},{key:"updateShapeList",value:function(){this._shapeListOffset=0;for(var e=this._roots.length,i=0;i<e;i++){var n=this._roots[i];this._updateAndAddShape(n)}this._shapeList.length=this._shapeListOffset;for(var r=this._shapeList.length,o=0;o<r;o++)this._shapeList[o].__renderidx=o;this._shapeList.sort(t.shapeCompareFunc)}},{key:"_updateAndAddShape",value:function(t,e){if(!t.ignore)if(t.updateTransform(),"group"==t.type){t.clipShape&&(t.clipShape.parent=t,t.clipShape.updateTransform(),e?(e=e.slice()).push(t.clipShape):e=[t.clipShape]);for(var i=0;i<t._children.length;i++){var n=t._children[i];n.__dirty=t.__dirty||n.__dirty,this._updateAndAddShape(n,e)}t.__dirty=!1}else t.__clipShapes=e,this._shapeList[this._shapeListOffset++]=t}},{key:"mod",value:function(t,e){var i=this._elements[t];if(i&&(i.modSelf(),e))if(e.parent||e._storage||e.__startClip){var n={};for(var r in e)"parent"!=r&&"_storage"!=r&&"__startClip"!=r&&e.hasOwnProperty(r)&&(n[r]=e[r]);Util.merge(i,n,!0)}else Util.merge(i,e,!0);return this}},{key:"drift",value:function(t,e,i){var n=this._elements[t];return n&&(n.needTransform=!0,"horizontal"===n.draggable?i=0:"vertical"===n.draggable&&(e=0),(!n.ondrift||n.ondrift&&!n.ondrift(e,i))&&n.drift(e,i)),this}},{key:"addHover",value:function(t){return t.updateNeedTransform(),this._hoverElements.push(t),this}},{key:"delHover",value:function(){return this._hoverElements=[],this}},{key:"hasHoverShape",value:function(){return this._hoverElements.length>0}},{key:"addRoot",value:function(t){t instanceof r.Group&&t.addChildrenToStorage(this),this.addToMap(t),this._roots.push(t)}},{key:"delRoot",value:function(t){if(void 0===t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof r.Group&&i.delChildrenFromStorage(this)}return this._elements={},this._hoverElements=[],void(this._roots=[])}if(t instanceof Array)for(var n=t.length,o=0;o<n;o++)this.delRoot(t[o]);else{var a;a="string"==typeof t?this._elements[t]:t;var s=Util.indexOf(this._roots,a);s>=0&&(this.delFromMap(a.id),this._roots.splice(s,1),a instanceof r.Group&&a.delChildrenFromStorage(this))}}},{key:"addToMap",value:function(t){return t instanceof r.Group&&(t._storage=this),t.modSelf(),this._elements[t.id]=t,this}},{key:"get",value:function(t){return this._elements[t]}},{key:"delFromMap",value:function(t){var e=this._elements[t];return e&&(delete this._elements[t],e instanceof r.Group&&(e._storage=null)),this}},{key:"dispose",value:function(){this._elements=null,this._roots=null,this._hoverElements=null}}],[{key:"shapeCompareFunc",value:function(t,e){return t.zlevel==e.zlevel?t.z==e.z?t.__renderidx-e.__renderidx:t.z-e.z:t.zlevel-e.zlevel}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Group=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(30),o=i(41),a=i(61),s=i(0);i(17);e.Group=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));for(var n in i.id=null,i.type=null,i.clipShape=null,i._children=null,i._storage=null,i.__dirty=!0,i.ignore=!1,t=t||{},i.id=t.id||(0,s.createUniqueID)("smShapeGroup_"),t)i[n]=t[n];return i.type="group",i.clipShape=null,i._children=[],i._storage=null,i.__dirty=!0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,(0,a.mixin)(r.Eventful,o.Transformable)),n(e,[{key:"destroy",value:function(){this.id=null,this.type=null,this.clipShape=null,this._children=null,this._storage=null,this.__dirty=null,this.ignore=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"children",value:function(){return this._children.slice()}},{key:"childAt",value:function(t){return this._children[t]}},{key:"addChild",value:function(t){t!=this&&t.parent!=this&&(t.parent&&t.parent.removeChild(t),this._children.push(t),t.parent=this,this._storage&&this._storage!==t._storage&&(this._storage.addToMap(t),t instanceof e&&t.addChildrenToStorage(this._storage)))}},{key:"removeChild",value:function(t){var i=Util.indexOf(this._children,t);this._children.splice(i,1),t.parent=null,this._storage&&(this._storage.delFromMap(t.id),t instanceof e&&t.delChildrenFromStorage(this._storage))}},{key:"eachChild",value:function(t,e){for(var i=!!e,n=0;n<this._children.length;n++){var r=this._children[n];i?t.call(e,r):t(r)}}},{key:"traverse",value:function(t,e){for(var i=!!e,n=0;n<this._children.length;n++){var r=this._children[n];i?t.call(e,r):t(r),"group"===r.type&&r.traverse(t,e)}}},{key:"addChildrenToStorage",value:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToMap(i),"group"===i.type&&i.addChildrenToStorage(t)}}},{key:"delChildrenFromStorage",value:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromMap(i.id),"group"===i.type&&i.delChildrenFromStorage(t)}}},{key:"modSelf",value:function(){this.__dirty=!0}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Painter=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(41),o=i(17),a=i(62),s=i(0);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=e.Painter=function(){function t(e,i){l(this,t),this.root=null,this.storage=null,this._domRoot=null,this._layers=null,this._zlevelList=null,this._layerConfig=null,this._bgDom=null,this.shapeToImage=null,this.root=e,this.storage=i,e.innerHTML="",this._width=this._getWidth(),this._height=this._getHeight();var n=document.createElement("div");this._domRoot=n,n.style.position="relative",n.style.overflow="hidden",n.style.width=this._width+"px",n.style.height=this._height+"px",e.appendChild(n),this._layers={},this._zlevelList=[],this._layerConfig={},this.shapeToImage=this._createShapeToImageProcessor(),this._bgDom=t.createDom((0,s.createUniqueID)("Theme_background_"),"div",this),n.appendChild(this._bgDom),this._bgDom.onselectstart=a,this._bgDom.style["-webkit-user-select"]="none",this._bgDom.style["user-select"]="none",this._bgDom.style["-webkit-touch-callout"]="none";var r=new u((0,s.createUniqueID)("_highLightLayer_"),this);this._layers.hover=r,n.appendChild(r.dom),r.initContext(),r.dom.onselectstart=a,r.dom.style["-webkit-user-select"]="none",r.dom.style["user-select"]="none",r.dom.style["-webkit-touch-callout"]="none";var o=this;function a(){return!1}this.updatePainter=function(t,e){o.refreshShapes(t,e)}}return n(t,[{key:"destroy",value:function(){this.dispose(),this._zlevelList=null,this._layerConfig=null,this._bgDom=null,this.shapeToImage=null}},{key:"render",value:function(t){return this.refresh(t,!0),this}},{key:"refresh",value:function(t,e){var i=this.storage.getShapeList(!0);return this._paintList(i,e),"function"==typeof t&&t(),this}},{key:"_paintList",value:function(t,e){var i,n,r;for(var o in void 0===e&&(e=!1),this._updateLayerStatus(t),this._layers)"hover"!==o&&(this._layers[o].unusedCount++,this._layers[o].updateTransform());for(var s=[],l=0,h=t.length;l<h;l++){var u=t[l];if(n!==u.zlevel&&(i&&i.needTransform&&r.restore(),r=(i=this.getLayer(u.zlevel)).ctx,n=u.zlevel,i.unusedCount=0,(i.dirty||e)&&i.clear(),i.needTransform&&(r.save(),i.setTransform(r))),r&&u.__startClip){var c=u.__startClip;if(r.save(),c.needTransform){var f=c.transform;Util_matrix.invert(s,f),r.transform(f[0],f[1],f[2],f[3],f[4],f[5])}if(r.beginPath(),c.buildPath(r,c.style),r.clip(),c.needTransform){var d=s;r.transform(d[0],d[1],d[2],d[3],d[4],d[5])}}if((i&&i.dirty||e)&&!u.invisible&&(!u.onbrush||u.onbrush&&!u.onbrush(r,!1)))if(a.Config.catchBrushException)try{u.brush(r,!1,this.updatePainter)}catch(t){Util_log(t,"brush error of "+u.type,u)}else u.brush(r,!1,this.updatePainter);r&&u.__stopClip&&r.restore(),u.__dirty=!1}for(var p in r&&i&&i.needTransform&&r.restore(),this._layers)if("hover"!==p){var g=this._layers[p];g.dirty=!1,1==g.unusedCount&&g.clear()}}},{key:"getLayer",value:function(t){var e=this._layers[t];if(!e){var i=this._zlevelList.length,n=null,r=-1;if(i>0&&t>this._zlevelList[0]){for(r=0;r<i-1&&!(this._zlevelList[r]<t&&this._zlevelList[r+1]>t);r++);n=this._layers[this._zlevelList[r]]}this._zlevelList.splice(r+1,0,t),e=new u((0,s.createUniqueID)("_levelLayer_"+t),this);var a=n?n.dom:this._bgDom;a.nextSibling?a.parentNode.insertBefore(e.dom,a.nextSibling):a.parentNode.appendChild(e.dom),e.initContext(),this._layers[t]=e,this._layerConfig[t]&&o.Util.merge(e,this._layerConfig[t],!0),e.updateTransform()}return e}},{key:"getLayers",value:function(){return this._layers}},{key:"_updateLayerStatus",value:function(t){var e=this._layers,i={};for(var n in e)"hover"!==n&&(i[n]=e[n].elCount,e[n].elCount=0);for(var r=0;r<t.length;r++){var o=t[r],a=e[o.zlevel];if(a){if(a.elCount++,a.dirty)continue;a.dirty=o.__dirty}}for(var s in e)"hover"!==s&&i[s]!==e[s].elCount&&(e[s].dirty=!0)}},{key:"refreshShapes",value:function(t,e){for(var i=0,n=t.length;i<n;i++){var r=t[i];this.storage.mod(r.id)}return this.refresh(e),this}},{key:"clear",value:function(){for(var t in this._layers)"hover"!=t&&this._layers[t].clear();return this}},{key:"modLayer",value:function(t,e){if(e){this._layerConfig[t]?o.Util.merge(this._layerConfig[t],e,!0):this._layerConfig[t]=e;var i=this._layers[t];i&&o.Util.merge(i,this._layerConfig[t],!0)}}},{key:"delLayer",value:function(t){var e=this._layers[t];e&&(this.modLayer(t,{position:e.position,rotation:e.rotation,scale:e.scale}),e.dom.parentNode.removeChild(e.dom),delete this._layers[t],this._zlevelList.splice(o.Util.indexOf(this._zlevelList,t),1))}},{key:"refreshHover",value:function(){this.clearHover();for(var t=this.storage.getHoverShapes(!0),e=0,i=t.length;e<i;e++)this._brushHover(t[e]);return this.storage.delHover(),this}},{key:"clearHover",value:function(){var t=this._layers.hover;return t&&t.clear(),this}},{key:"resize",value:function(){var t=this._domRoot;t.style.display="none";var e=this._getWidth(),i=this._getHeight();if(t.style.display="",this._width!=e||i!=this._height){for(var n in this._width=e,this._height=i,t.style.width=e+"px",t.style.height=i+"px",this._layers)this._layers[n].resize(e,i);this.refresh(null,!0)}return this}},{key:"clearLayer",value:function(t){var e=this._layers[t];e&&e.clear()}},{key:"dispose",value:function(){this.root.innerHTML="",this.root=null,this.storage=null,this._domRoot=null,this._layers=null}},{key:"getDomHover",value:function(){return this._layers.hover.dom}},{key:"toDataURL",value:function(e,i,n){var r=t.createDom((0,s.createUniqueID)("Theme.image_"),"canvas",this);this._bgDom.appendChild(r);var o=r.getContext("2d");1!=t.devicePixelRatio&&o.scale(t.devicePixelRatio,t.devicePixelRatio),o.fillStyle=i||"#fff",o.rect(0,0,this._width*t.devicePixelRatio,this._height*t.devicePixelRatio),o.fill();var l=this;this.storage.iterShape(function(t){if(!t.invisible&&(!t.onbrush||t.onbrush&&!t.onbrush(o,!1)))if(a.Config.catchBrushException)try{t.brush(o,!1,l.updatePainter)}catch(e){Util_log(e,"brush error of "+t.type,t)}else t.brush(o,!1,l.updatePainter)},{normal:"up",update:!0});var h=r.toDataURL(e,n);return o=null,this._bgDom.removeChild(r),h}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"_getWidth",value:function(){var t=this.root,e=t.currentStyle||document.defaultView.getComputedStyle(t);return((t.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10)).toFixed(0)-0}},{key:"_getHeight",value:function(){var t=this.root,e=t.currentStyle||document.defaultView.getComputedStyle(t);return((t.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)).toFixed(0)-0}},{key:"_brushHover",value:function(t){var e=this._layers.hover.ctx;if(!t.onbrush||t.onbrush&&!t.onbrush(e,!0)){var i=this.getLayer(t.zlevel);if(i.needTransform&&(e.save(),i.setTransform(e)),a.Config.catchBrushException)try{t.brush(e,!0,this.updatePainter)}catch(e){Util_log(e,"hoverBrush error of "+t.type,t)}else t.brush(e,!0,this.updatePainter);i.needTransform&&e.restore()}}},{key:"_shapeToImage",value:function(t,e,i,n,r){var o=document.createElement("canvas"),a=o.getContext("2d"),s=r||window.devicePixelRatio||1;o.style.width=i+"px",o.style.height=n+"px",o.setAttribute("width",i*s),o.setAttribute("height",n*s),a.clearRect(0,0,i*s,n*s);var l={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[0,0,0],e.rotation=0,e.scale=[1,1],e&&e.brush(a,!1);var h=new Shape.SmicImage({id:t,style:{x:0,y:0,image:o}});return null!=l.position&&(h.position=e.position=l.position),null!=l.rotation&&(h.rotation=e.rotation=l.rotation),null!=l.scale&&(h.scale=e.scale=l.scale),h}},{key:"_createShapeToImageProcessor",value:function(){var e=this;return function(i,n,r,o){return e._shapeToImage(i,n,r,o,t.devicePixelRatio)}}},{key:"updateHoverLayer",value:function(t){if(!(t instanceof Array))return this;this.clearHover(),this.storage.delHover();for(var e=0;e<t.length;e++)this.storage.addHover(t[e]),this._brushHover(t[e])}}],[{key:"createDom",value:function(e,i,n){var r=document.createElement(i),o=n._width,a=n._height;return r.style.position="absolute",r.style.left=0,r.style.top=0,r.style.width=o+"px",r.style.height=a+"px",r.setAttribute("width",o*t.devicePixelRatio),r.setAttribute("height",a*t.devicePixelRatio),r.setAttribute("id",e),r}}]),t}();h.devicePixelRatio=Math.max(window.devicePixelRatio||1,1),e.Painter=h=h;var u=function(t){function e(t,i){l(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i));return n.dom=null,n.domBack=null,n.ctxBack=null,n.painter=null,n.unusedCount=null,n.config=null,n.dirty=null,n.elCount=null,n.clearColor=0,n.motionBlur=!1,n.lastFrameAlpha=.7,n.zoomable=!1,n.panable=!1,n.maxZoom=1/0,n.minZoom=0,n.ctx=null,n.dom=h.createDom((0,s.createUniqueID)("Theme"+t),"canvas",i),n.dom.onselectstart=function(){return!1},n.dom.style["-webkit-user-select"]="none",n.dom.style["user-select"]="none",n.dom.style["-webkit-touch-callout"]="none",n.domBack=null,n.ctxBack=null,n.painter=i,n.unusedCount=0,n.config=null,n.dirty=!0,n.elCount=0,n.clearColor=0,n.motionBlur=!1,n.lastFrameAlpha=.7,n.zoomable=!1,n.panable=!1,n.maxZoom=1/0,n.minZoom=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Transformable),n(e,[{key:"destroy",value:function(){this.dom=null,this.domBack=null,this.ctxBack=null,this.painter=null,this.unusedCount=null,this.config=null,this.dirty=null,this.elCount=null,this.clearColor=null,this.motionBlur=null,this.lastFrameAlpha=null,this.zoomable=null,this.panable=null,this.maxZoom=null,this.minZoom=null,this.ctx=null,r.Transformable.destroy.apply(this,arguments)}},{key:"initContext",value:function(){this.ctx=this.dom.getContext("2d"),1!=h.devicePixelRatio&&this.ctx.scale(h.devicePixelRatio,h.devicePixelRatio)}},{key:"createBackBuffer",value:function(){this.domBack=h.createDom((0,s.createUniqueID)("Theme.back-"+this.id),"canvas",this.painter),this.ctxBack=this.domBack.getContext("2d"),1!=h.devicePixelRatio&&this.ctxBack.scale(h.devicePixelRatio,h.devicePixelRatio)}},{key:"resize",value:function(t,e){this.dom.style.width=t+"px",this.dom.style.height=e+"px",this.dom.setAttribute("width",t*h.devicePixelRatio),this.dom.setAttribute("height",e*h.devicePixelRatio),1!=h.devicePixelRatio&&this.ctx.scale(h.devicePixelRatio,h.devicePixelRatio),this.domBack&&(this.domBack.setAttribute("width",t*h.devicePixelRatio),this.domBack.setAttribute("height",e*h.devicePixelRatio),1!=h.devicePixelRatio&&this.ctxBack.scale(h.devicePixelRatio,h.devicePixelRatio))}},{key:"clear",value:function(){var t=this.dom,e=this.ctx,i=t.width,n=t.height,r=this.clearColor,o=this.motionBlur,a=this.lastFrameAlpha;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(t,0,0,i/h.devicePixelRatio,n/h.devicePixelRatio)),r?(e.save(),e.fillStyle=this.config.clearColor,e.fillRect(0,0,i/h.devicePixelRatio,n/h.devicePixelRatio),e.restore()):e.clearRect(0,0,i/h.devicePixelRatio,n/h.devicePixelRatio),o){var s=this.domBack;e.save(),e.globalAlpha=a,e.drawImage(s,0,0,i/h.devicePixelRatio,n/h.devicePixelRatio),e.restore()}}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Handler=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(30),o=i(7),a=i(62);e.Handler=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,s,l=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));l.root=null,l.storage=null,l.painter=null,l._lastX=0,l._lastY=0,l._mouseX=0,l._mouseY=0,l._findHover=null,l._domHover=null,l.root=t,l.storage=i,l.painter=n,l._lastX=0,l._lastY=0,l._mouseX=0,l._mouseY=0,l._findHover=(r=function(t,e,i){var n=this;if(n._draggingTarget&&n._draggingTarget.id==t.id||t.isSilent())return!1;var r=n._event;if(t.isCover(e,i)){if(t.hoverable)if(t.isHoverByRefDataID&&!0===t.isHoverByRefDataID){if(t.refDataID){var o=t.refDataID,a=null;t.refDataHoverGroup&&(a=t.refDataHoverGroup);for(var s=n.storage._shapeList,l=0,h=s.length;l<h;l++){var u=s[l];u.refDataID&&o===u.refDataID&&(a?u.refDataHoverGroup&&a===u.refDataHoverGroup&&n.storage.addHover(u):n.storage.addHover(u))}}}else n.storage.addHover(t);for(var c=t.parent;c;){if(c.clipShape&&!c.clipShape.isCover(n._mouseX,n._mouseY))return!1;c=c.parent}return n._lastHover!=t&&(n._processOutShape(r),n._processDragLeave(r),n._lastHover=t,n._processDragEnter(r)),n._processOverShape(r),n._processDragOver(r),n._hasfound=1,!0}return!1},s=l,function(t,e,i){return r.call(s,t,e,i)}),l._domHover=n.getDomHover();var h={resize:function(t){t=t||window.event,this._lastHover=null,this._isMouseDown=0,this.dispatch(a.Config.EVENT.RESIZE,t)},click:function(t){t=this._zrenderEventFixed(t);var e=this._lastHover;(e&&e.clickable||!e)&&this._clickThreshold<10&&this._dispatchAgency(e,a.Config.EVENT.CLICK,t),this._mousemoveHandler(t)},dblclick:function(t){t=t||window.event,t=this._zrenderEventFixed(t);var e=this._lastHover;(e&&e.clickable||!e)&&this._clickThreshold<5&&this._dispatchAgency(e,a.Config.EVENT.DBLCLICK,t),this._mousemoveHandler(t)},mousewheel:function(t){var e=((t=this._zrenderEventFixed(t)).wheelDelta||-t.detail)>0?1.1:1/1.1,i=this.painter.getLayers(),n=!1;for(var r in i)if("hover"!==r){var o=i[r],s=o.position;if(o.zoomable){o.__zoom=o.__zoom||1;var l=o.__zoom;l*=e,e=(l=Math.max(Math.min(o.maxZoom,l),o.minZoom))/o.__zoom,o.__zoom=l,s[0]-=(this._mouseX-s[0])*(e-1),s[1]-=(this._mouseY-s[1])*(e-1),o.scale[0]*=e,o.scale[1]*=e,o.dirty=!0,n=!0}}n&&this.painter.refresh(),this._dispatchAgency(this._lastHover,a.Config.EVENT.MOUSEWHEEL,t),this._mousemoveHandler(t)},mousemove:function(t){this._clickThreshold++,t=this._zrenderEventFixed(t),this._lastX=this._mouseX,this._lastY=this._mouseY,this._mouseX=o.Util_event.getX(t),this._mouseY=o.Util_event.getY(t);var e=this._mouseX-this._lastX,i=this._mouseY-this._lastY;this._processDragStart(t),this._hasfound=0,this._event=t,this._iterateAndFindHover(),this._hasfound||((!this._draggingTarget||this._lastHover&&this._lastHover!=this._draggingTarget)&&(this._processOutShape(t),this._processDragLeave(t)),this._lastHover=null,this.storage.delHover(),this.painter.clearHover());var n="";if(this._draggingTarget)this.storage.drift(this._draggingTarget.id,e,i),this._draggingTarget.modSelf(),this.storage.addHover(this._draggingTarget);else if(this._isMouseDown){var r=this.painter.getLayers(),s=!1;for(var l in r)if("hover"!==l){var h=r[l];h.panable&&(n="move",h.position[0]+=e,h.position[1]+=i,s=!0,h.dirty=!0)}s&&this.painter.refresh()}this._draggingTarget||this._hasfound&&this._lastHover.draggable?n="move":this._hasfound&&this._lastHover.clickable&&(n="pointer"),this.root.style.cursor=n,this._dispatchAgency(this._lastHover,a.Config.EVENT.MOUSEMOVE,t),(this._draggingTarget||this._hasfound||this.storage.hasHoverShape())&&this.painter.refreshHover()},mouseout:function(t){var e=(t=this._zrenderEventFixed(t)).toElement||t.relatedTarget;if(e!=this.root)for(;e&&9!=e.nodeType;){if(e==this.root)return void this._mousemoveHandler(t);e=e.parentNode}t.zrenderX=this._lastX,t.zrenderY=this._lastY,this.root.style.cursor="",this._isMouseDown=0,this._processOutShape(t),this._processDrop(t),this._processDragEnd(t),this.painter.refreshHover(),this.dispatch(a.Config.EVENT.GLOBALOUT,t)},mousedown:function(t){if(this._clickThreshold=0,2==this._lastDownButton)return this._lastDownButton=t.button,void(this._mouseDownTarget=null);this._lastMouseDownMoment=new Date,t=this._zrenderEventFixed(t),this._isMouseDown=1,this._mouseDownTarget=this._lastHover,this._dispatchAgency(this._lastHover,a.Config.EVENT.MOUSEDOWN,t),this._lastDownButton=t.button},mouseup:function(t){t=this._zrenderEventFixed(t),this.root.style.cursor="",this._isMouseDown=0,this._mouseDownTarget=null,this._dispatchAgency(this._lastHover,a.Config.EVENT.MOUSEUP,t),this._processDrop(t),this._processDragEnd(t)},touchstart:function(t){t=this._zrenderEventFixed(t,!0),this._lastTouchMoment=new Date,this._mobildFindFixed(t),this._mousedownHandler(t)},touchmove:function(t){t=this._zrenderEventFixed(t,!0),this._mousemoveHandler(t),this._isDragging&&o.Util_event.stop(t)},touchend:function(t){t=this._zrenderEventFixed(t,!0),this._mouseupHandler(t);var e=new Date;e-this._lastTouchMoment<a.Config.EVENT.touchClickDelay&&(this._mobildFindFixed(t),this._clickHandler(t),e-this._lastClickMoment<a.Config.EVENT.touchClickDelay/2&&(this._dblclickHandler(t),this._lastHover&&this._lastHover.clickable&&o.Util_event.stop(t)),this._lastClickMoment=e),this.painter.clearHover()}};function u(t,e){return function(i){return t.call(e,i)}}return function(t){var e=["resize","click","dblclick","mousewheel","mousemove","mouseout","mouseup","mousedown","touchstart","touchend","touchmove"],i=e.length;for(;i--;){var n=e[i];t["_"+n+"Handler"]=u(h[n],t)}}(l),window.addEventListener?(window.addEventListener("resize",l._resizeHandler),o.Util_env.os.tablet||o.Util_env.os.phone?(t.addEventListener("touchstart",l._touchstartHandler),t.addEventListener("touchmove",l._touchmoveHandler),t.addEventListener("touchend",l._touchendHandler)):(t.addEventListener("click",l._clickHandler),t.addEventListener("dblclick",l._dblclickHandler),t.addEventListener("mousewheel",l._mousewheelHandler),t.addEventListener("mousemove",l._mousemoveHandler),t.addEventListener("mousedown",l._mousedownHandler),t.addEventListener("mouseup",l._mouseupHandler)),t.addEventListener("DOMMouseScroll",l._mousewheelHandler),t.addEventListener("mouseout",l._mouseoutHandler)):(window.attachEvent("onresize",l._resizeHandler),t.attachEvent("onclick",l._clickHandler),t.ondblclick=l._dblclickHandler,t.attachEvent("onmousewheel",l._mousewheelHandler),t.attachEvent("onmousemove",l._mousemoveHandler),t.attachEvent("onmouseout",l._mouseoutHandler),t.attachEvent("onmousedown",l._mousedownHandler),t.attachEvent("onmouseup",l._mouseupHandler)),l}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Eventful),n(e,[{key:"destroy",value:function(){this.dispose(),this._lastX=null,this._lastY=null,this._mouseX=null,this._mouseY=null,this._findHover=null,r.Eventful.prototype.destroy.apply(this,arguments)}},{key:"on",value:function(t,e){return this.bind(t,e),this}},{key:"un",value:function(t,e){return this.unbind(t,e),this}},{key:"trigger",value:function(t,e){var i=a.Config.EVENT;switch(t){case i.RESIZE:case i.CLICK:case i.DBLCLICK:case i.MOUSEWHEEL:case i.MOUSEMOVE:case i.MOUSEDOWN:case i.MOUSEUP:case i.MOUSEOUT:this["_"+t+"Handler"](e)}}},{key:"dispose",value:function(){var t=this.root;window.removeEventListener?(window.removeEventListener("resize",this._resizeHandler),o.Util_env.os.tablet||o.Util_env.os.phone?(t.removeEventListener("touchstart",this._touchstartHandler),t.removeEventListener("touchmove",this._touchmoveHandler),t.removeEventListener("touchend",this._touchendHandler)):(t.removeEventListener("click",this._clickHandler),t.removeEventListener("dblclick",this._dblclickHandler),t.removeEventListener("mousewheel",this._mousewheelHandler),t.removeEventListener("mousemove",this._mousemoveHandler),t.removeEventListener("mousedown",this._mousedownHandler),t.removeEventListener("mouseup",this._mouseupHandler)),t.removeEventListener("DOMMouseScroll",this._mousewheelHandler),t.removeEventListener("mouseout",this._mouseoutHandler)):(window.detachEvent("onresize",this._resizeHandler),t.detachEvent("onclick",this._clickHandler),t.detachEvent("dblclick",this._dblclickHandler),t.detachEvent("onmousewheel",this._mousewheelHandler),t.detachEvent("onmousemove",this._mousemoveHandler),t.detachEvent("onmouseout",this._mouseoutHandler),t.detachEvent("onmousedown",this._mousedownHandler),t.detachEvent("onmouseup",this._mouseupHandler)),this.root=null,this._domHover=null,this.storage=null,this.painter=null,this.un()}},{key:"_processDragStart",value:function(t){var e=this._lastHover;if(this._isMouseDown&&e&&e.draggable&&!this._draggingTarget&&this._mouseDownTarget==e){if(e.dragEnableTime&&new Date-this._lastMouseDownMoment<e.dragEnableTime)return;var i=e;this._draggingTarget=i,this._isDragging=1,i.invisible=!0,this.storage.mod(i.id),this._dispatchAgency(i,a.Config.EVENT.DRAGSTART,t),this.painter.refresh()}}},{key:"_processDragEnter",value:function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,a.Config.EVENT.DRAGENTER,t,this._draggingTarget)}},{key:"_processDragOver",value:function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,a.Config.EVENT.DRAGOVER,t,this._draggingTarget)}},{key:"_processDragLeave",value:function(t){this._draggingTarget&&this._dispatchAgency(this._lastHover,a.Config.EVENT.DRAGLEAVE,t,this._draggingTarget)}},{key:"_processDrop",value:function(t){this._draggingTarget&&(this._draggingTarget.invisible=!1,this.storage.mod(this._draggingTarget.id),this.painter.refresh(),this._dispatchAgency(this._lastHover,a.Config.EVENT.DROP,t,this._draggingTarget))}},{key:"_processDragEnd",value:function(t){this._draggingTarget&&(this._dispatchAgency(this._draggingTarget,a.Config.EVENT.DRAGEND,t),this._lastHover=null),this._isDragging=0,this._draggingTarget=null}},{key:"_processOverShape",value:function(t){this._dispatchAgency(this._lastHover,a.Config.EVENT.MOUSEOVER,t)}},{key:"_processOutShape",value:function(t){this._dispatchAgency(this._lastHover,a.Config.EVENT.MOUSEOUT,t)}},{key:"_dispatchAgency",value:function(t,e,i,n){var r="on"+e,o={type:e,event:i,target:t,cancelBubble:!1},a=t;for(n&&(o.dragged=n);a&&(a[r]&&(o.cancelBubble=a[r](o)),a.dispatch(e,o),a=a.parent,!o.cancelBubble););t?o.cancelBubble||this.dispatch(e,o):n||this.dispatch(e,{type:e,event:i})}},{key:"_iterateAndFindHover",value:function(){for(var t,e=o.Util_matrix.create(),i=this.storage.getShapeList(),n=[0,0],r=i.length-1;r>=0;r--){var a=i[r];if(void 0!==a.zlevel&&(t=this.painter.getLayer(a.zlevel,t),n[0]=this._mouseX,n[1]=this._mouseY,t.needTransform&&(o.Util_matrix.invert(e,t.transform),o.Util_vector.applyTransform(n,n,e))),this._findHover(a,n[0],n[1]))break}}},{key:"_mobildFindFixed",value:function(t){var e=[{x:10},{x:-20},{x:10,y:10},{y:-20}];this._lastHover=null,this._mouseX=t.zrenderX,this._mouseY=t.zrenderY,this._event=t,this._iterateAndFindHover();for(var i=0;!this._lastHover&&i<e.length;i++){var n=e[i];n.x&&(this._mouseX+=n.x),n.y&&(this._mouseX+=n.y),this._iterateAndFindHover()}this._lastHover&&(t.zrenderX=this._mouseX,t.zrenderY=this._mouseY)}},{key:"_zrenderEventFixed",value:function(t,e){if(t.zrenderFixed)return t;if(e){var i="touchend"!=t.type?t.targetTouches[0]:t.changedTouches[0];if(i){var n=this.root.getBoundingClientRect();t.zrenderX=i.clientX-n.left,t.zrenderY=i.clientY-n.top}}else{var r=(t=t||window.event).toElement||t.relatedTarget||t.srcElement||t.target;r&&r!=this._domHover&&(t.zrenderX=(void 0!==t.offsetX?t.offsetX:t.layerX)+r.offsetLeft,t.zrenderY=(void 0!==t.offsetY?t.offsetY:t.layerY)+r.offsetTop)}return t.zrenderFixed=1,t}},{key:"getLastHoverOne",value:function(){return this._lastHover?this._lastHover:null}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easing=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i(42);e.Easing=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,[{key:"destroy",value:function(){}},{key:"Linear",value:function(t){return t}},{key:"QuadraticIn",value:function(t){return t*t}},{key:"QuadraticOut",value:function(t){return t*(2-t)}},{key:"QuadraticInOut",value:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},{key:"CubicIn",value:function(t){return t*t*t}},{key:"CubicOut",value:function(t){return--t*t*t+1}},{key:"CubicInOut",value:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},{key:"QuarticIn",value:function(t){return t*t*t*t}},{key:"QuarticOut",value:function(t){return 1- --t*t*t*t}},{key:"QuarticInOut",value:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},{key:"QuinticIn",value:function(t){return t*t*t*t*t}},{key:"QuinticOut",value:function(t){return--t*t*t*t*t+1}},{key:"QuinticInOut",value:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},{key:"SinusoidalIn",value:function(t){return 1-Math.cos(t*Math.PI/2)}},{key:"SinusoidalOut",value:function(t){return Math.sin(t*Math.PI/2)}},{key:"SinusoidalInOut",value:function(t){return.5*(1-Math.cos(Math.PI*t))}},{key:"ExponentialIn",value:function(t){return 0===t?0:Math.pow(1024,t-1)}},{key:"ExponentialOut",value:function(t){return 1===t?1:1-Math.pow(2,-10*t)}},{key:"ExponentialInOut",value:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},{key:"CircularIn",value:function(t){return 1-Math.sqrt(1-t*t)}},{key:"CircularOut",value:function(t){return Math.sqrt(1- --t*t)}},{key:"CircularInOut",value:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},{key:"ElasticIn",value:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))}},{key:"ElasticOut",value:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)}},{key:"ElasticInOut",value:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)}},{key:"BackIn",value:function(t){return t*t*(2.70158*t-1.70158)}},{key:"BackOut",value:function(t){return--t*t*(2.70158*t+1.70158)+1}},{key:"BackInOut",value:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},{key:"BounceIn",value:function(t){return 1-this.BounceOut(1-t)}},{key:"BounceOut",value:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},{key:"BounceInOut",value:function(t){return t<.5?.5*this.BounceIn(2*t):.5*this.BounceOut(2*t-1)+.5}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Clip=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i(42);e.Clip=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._targetPool=e.target||{},this._targetPool instanceof Array||(this._targetPool=[this._targetPool]),this._life=e.life||1e3,this._delay=e.delay||0,this._startTime=(new Date).getTime()+this._delay,this._endTime=this._startTime+1e3*this._life,this.loop=void 0!==e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart}return n(t,[{key:"destroy",value:function(){}},{key:"step",value:function(t){var e=new Animation.easing,i=(t-this._startTime)/this._life;if(!(i<0)){i=Math.min(i,1);var n="string"==typeof this.easing?e[this.easing]:this.easing,r="function"==typeof n?n(i):i;return this.fire("frame",r),1==i?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}}},{key:"restart",value:function(){var t=((new Date).getTime()-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap}},{key:"fire",value:function(t,e){for(var i=0,n=this._targetPool.length;i<n;i++)this["on"+t]&&this["on"+t](this._targetPool[i],e)}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputeBoundingBox=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(37),o=i(38);i(39);e.ComputeBoundingBox=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),3===arguments.length&&this.computeBoundingBox(arguments)}return n(t,[{key:"computeBoundingBox",value:function(t,e,i){if(0!==t.length){for(var n=t[0][0],r=t[0][0],o=t[0][1],a=t[0][1],s=1;s<t.length;s++){var l=t[s];l[0]<n&&(n=l[0]),l[0]>r&&(r=l[0]),l[1]<o&&(o=l[1]),l[1]>a&&(a=l[1])}e[0]=n,e[1]=o,i[0]=r,i[1]=a}}},{key:"cubeBezier",value:function(t,e,i,n,o,a){var s=new r.Curve,l=[];s.cubicExtrema(t[0],e[0],i[0],n[0],l);for(var h=0;h<l.length;h++)l[h]=s.cubicAt(t[0],e[0],i[0],n[0],l[h]);var u=[];s.cubicExtrema(t[1],e[1],i[1],n[1],u);for(var c=0;c<u.length;c++)u[c]=s.cubicAt(t[1],e[1],i[1],n[1],u[c]);l.push(t[0],n[0]),u.push(t[1],n[1]);var f=Math.min.apply(null,l),d=Math.max.apply(null,l),p=Math.min.apply(null,u),g=Math.max.apply(null,u);o[0]=f,o[1]=p,a[0]=d,a[1]=g}},{key:"quadraticBezier",value:function(t,e,i,n,r){var o=new Tool.Curve,a=o.quadraticExtremum(t[0],e[0],i[0]),s=o.quadraticExtremum(t[1],e[1],i[1]),l=1-(a=Math.max(Math.min(a,1),0)),h=1-(s=Math.max(Math.min(s,1),0)),u=l*l*t[0]+2*l*a*e[0]+a*a*i[0],c=l*l*t[1]+2*l*a*e[1]+a*a*i[1],f=h*h*t[0]+2*h*s*e[0]+s*s*i[0],d=h*h*t[1]+2*h*s*e[1]+s*s*i[1];n[0]=Math.min(t[0],i[0],u,f),n[1]=Math.min(t[1],i[1],c,d),r[0]=Math.max(t[0],i[0],u,f),r[1]=Math.max(t[1],i[1],c,d)}},{key:"arc",value:function(t,e,i,n,r,a,s,l){var h=new o.Vector,u=h.create(),c=h.create(),f=h.create();if(u[0]=Math.cos(n)*i+t,u[1]=Math.sin(n)*i+e,c[0]=Math.cos(r)*i+t,c[1]=Math.sin(r)*i+e,h.min(s,u,c),h.max(l,u,c),(n%=2*Math.PI)<0&&(n+=2*Math.PI),(r%=2*Math.PI)<0&&(r+=2*Math.PI),n>r&&!a?r+=2*Math.PI:n<r&&a&&(n+=2*Math.PI),a){var d=r;r=n,n=d}for(var p=0;p<r;p+=Math.PI/2)p>n&&(f[0]=Math.cos(p)*i+t,f[1]=Math.sin(p)*i+e,h.min(s,f,s),h.max(l,f,l))}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Env=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e,i,n,r,o,a,s,l,h,u,c,f,d,p,g,_,m,y,v,b,x,L=this;return e=navigator.userAgent,i=L.os={},n=L.browser={},r=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),o=e.match(/(Android);?[\s\/]+([\d.]+)?/),a=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&e.match(/(iPhone\sOS)\s([\d_]+)/),h=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),u=h&&e.match(/TouchPad/),c=e.match(/Kindle\/([\d.]+)/),f=e.match(/Silk\/([\d._]+)/),d=e.match(/(BlackBerry).*Version\/([\d.]+)/),p=e.match(/(BB10).*Version\/([\d.]+)/),g=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),_=e.match(/PlayBook/),m=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),y=e.match(/Firefox\/([\d.]+)/),v=e.match(/MSIE ([\d.]+)/),b=r&&e.match(/Mobile\//)&&!m,x=e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!m,(n.webkit=!!r)&&(n.version=r[1]),o&&(i.android=!0,i.version=o[2]),l&&!s&&(i.ios=i.iphone=!0,i.version=l[2].replace(/_/g,".")),a&&(i.ios=i.ipad=!0,i.version=a[2].replace(/_/g,".")),s&&(i.ios=i.ipod=!0,i.version=s[3]?s[3].replace(/_/g,"."):null),h&&(i.webos=!0,i.version=h[2]),u&&(i.touchpad=!0),d&&(i.blackberry=!0,i.version=d[2]),p&&(i.bb10=!0,i.version=p[2]),g&&(i.rimtabletos=!0,i.version=g[2]),_&&(n.playbook=!0),c&&(i.kindle=!0,i.version=c[1]),f&&(n.silk=!0,n.version=f[1]),!f&&i.android&&e.match(/Kindle Fire/)&&(n.silk=!0),m&&(n.chrome=!0,n.version=m[1]),y&&(n.firefox=!0,n.version=y[1]),v&&(n.ie=!0,n.version=v[1]),b&&(e.match(/Safari/)||i.ios)&&(n.safari=!0),x&&(n.webview=!0),v&&(n.ie=!0,n.version=v[1]),i.tablet=!!(a||_||o&&!e.match(/Mobile/)||y&&e.match(/Tablet/)||v&&!e.match(/Phone/)&&e.match(/Touch/)),i.phone=!(i.tablet||i.ipod||!(o||l||h||d||p||m&&e.match(/Android/)||m&&e.match(/CriOS\/([\d.]+)/)||y&&e.match(/Mobile/)||v&&e.match(/Touch/))),{browser:n,os:i,canvasSupported:!!document.createElement("canvas").getContext}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Event=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stop=null,this.stop="function"==typeof window.addEventListener?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0}}return n(t,[{key:"getX",value:function(t){return void 0!==t.zrenderX&&t.zrenderX||void 0!==t.offsetX&&t.offsetX||void 0!==t.layerX&&t.layerX||void 0!==t.clientX&&t.clientX}},{key:"getY",value:function(t){return void 0!==t.zrenderY&&t.zrenderY||void 0!==t.offsetY&&t.offsetY||void 0!==t.layerY&&t.layerY||void 0!==t.clientY&&t.clientY}},{key:"getDelta",value:function(t){return void 0!==t.zrenderDelta&&t.zrenderDelta||void 0!==t.wheelDelta&&t.wheelDelta||void 0!==t.detail&&-t.detail}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Http=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,[{key:"get",value:function(t,e,i,r){if("object"===(void 0===t?"undefined":n(t))){var o=t;t=o.url,e=o.onsuccess,i=o.onerror,o}else"object"===(void 0===i?"undefined":n(i))&&i;var a=window.XMLHttpRequest?new XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");a.open("GET",t,!0),a.onreadystatechange=function(){4==a.readyState&&(a.status>=200&&a.status<300||304===a.status?e&&e(a.responseText):i&&i(),a.onreadystatechange=new Function,a=null)},a.send(null)}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Log=function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(){if(0!==Config.debugMode)if(1==Config.debugMode)for(var t in arguments)throw new Error(arguments[t]);else if(Config.debugMode>1)for(var e in arguments)console.log(arguments[e])}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Math=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._radians=null,this._radians=window.Math.PI/180}return n(t,[{key:"sin",value:function(t,e){return window.Math.sin(e?t*this._radians:t)}},{key:"cos",value:function(t,e){return window.Math.cos(e?t*this._radians:t)}},{key:"degreeToRadian",value:function(t){return t*this._radians}},{key:"radianToDegree",value:function(t){return t/this._radians}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Matrix=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ArrayCtor=null,this.ArrayCtor="undefined"==typeof Float32Array?Array:Float32Array}return n(t,[{key:"create",value:function(){var t=new(0,this.ArrayCtor)(6);return this.identity(t),t}},{key:"identity",value:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}},{key:"copy",value:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}},{key:"mul",value:function(t,e,i){return t[0]=e[0]*i[0]+e[2]*i[1],t[1]=e[1]*i[0]+e[3]*i[1],t[2]=e[0]*i[2]+e[2]*i[3],t[3]=e[1]*i[2]+e[3]*i[3],t[4]=e[0]*i[4]+e[2]*i[5]+e[4],t[5]=e[1]*i[4]+e[3]*i[5]+e[5],t}},{key:"translate",value:function(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}},{key:"rotate",value:function(t,e,i){var n=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],h=Math.sin(i),u=Math.cos(i);return t[0]=n*u+a*h,t[1]=-n*h+a*u,t[2]=r*u+s*h,t[3]=-r*h+u*s,t[4]=u*o+h*l,t[5]=u*l-h*o,t}},{key:"scale",value:function(t,e,i){var n=i[0],r=i[1];return t[0]=e[0]*n,t[1]=e[1]*r,t[2]=e[2]*n,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*r,t}},{key:"invert",value:function(t,e){var i=e[0],n=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=i*a-o*n;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-a*r)*l,t[5]=(o*r-i*s)*l,t):null}},{key:"mulVector",value:function(t,e,i){var n=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5];return t[0]=i[0]*n+i[1]*r+o,t[1]=i[0]*a+i[1]*s+l,t}}]),t}()},function(t,e,i){var n=i(107);n.defaultDatum="WGS84",n.Proj=i(44),n.WGS84=new n.Proj("WGS84"),n.Point=i(121),n.toPoint=i(68),n.defs=i(64),n.transform=i(67),n.mgrs=i(69),n.version=i(122).version,i(123)(n),t.exports=n},function(t,e,i){var n=i(44),r=i(67),o=n("WGS84");function a(t,e,i){var n;return Array.isArray(i)?(n=r(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):r(t,e,i)}function s(t){return t instanceof n?t:t.oProj?t.oProj:n(t)}t.exports=function(t,e,i){t=s(t);var n,r=!1;return void 0===e?(e=t,t=o,r=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=o,r=!0),e=s(e),i?a(t,e,i):(n={forward:function(i){return a(t,e,i)},inverse:function(i){return a(e,t,i)}},r&&(n.oProj=e),n)}},function(t,e,i){var n=i(64),r=i(66),o=i(65);t.exports=function(t){return"string"!=typeof t?t:t in n?n[t]:(e=t,["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"].reduce(function(t,i){return t+1+e.indexOf(i)},0)?r(t):"+"===t[0]?o(t):void 0);var e}},function(t,e){t.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},function(t,e){e.greenwich=0,e.lisbon=-9.131906111111,e.paris=2.337229166667,e.bogota=-74.080916666667,e.madrid=-3.687938888889,e.rome=12.452333333333,e.bern=7.439583333333,e.jakarta=106.807719444444,e.ferro=-17.666666666667,e.brussels=4.367975,e.stockholm=18.058277777778,e.athens=23.7163375,e.oslo=10.722916666667},function(t,e){e.ft={to_meter:.3048},e["us-ft"]={to_meter:1200/3937}},function(t,e,i){var n=[i(113),i(114)],r={},o=[];function a(t,e){var i=o.length;return t.names?(o[i]=t,t.names.forEach(function(t){r[t.toLowerCase()]=i}),this):(console.log(e),!0)}e.add=a,e.get=function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==r[e]&&o[r[e]]?o[r[e]]:void 0},e.start=function(){n.forEach(a)}},function(t,e,i){var n=i(15),r=Math.PI/2,o=57.29577951308232,a=i(2),s=Math.PI/4,l=i(32),h=i(33);e.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},e.forward=function(t){var e,i,n=t.x,h=t.y;if(h*o>90&&h*o<-90&&n*o>180&&n*o<-180)return null;if(Math.abs(Math.abs(h)-r)<=1e-10)return null;if(this.sphere)e=this.x0+this.a*this.k0*a(n-this.long0),i=this.y0+this.a*this.k0*Math.log(Math.tan(s+.5*h));else{var u=Math.sin(h),c=l(this.e,h,u);e=this.x0+this.a*this.k0*a(n-this.long0),i=this.y0-this.a*this.k0*Math.log(c)}return t.x=e,t.y=i,t},e.inverse=function(t){var e,i,n=t.x-this.x0,o=t.y-this.y0;if(this.sphere)i=r-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var s=Math.exp(-o/(this.a*this.k0));if(-9999===(i=h(this.e,s)))return null}return e=a(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},e.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},function(t,e){function i(t){return t}e.init=function(){},e.forward=i,e.inverse=i,e.names=["longlat","identity"]},function(t,e,i){var n=i(116),r=i(117),o=i(45),a=i(118);t.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=r[t.ellps]?r[t.ellps]:r.WGS84;o(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<1e-10)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(.16666666666666666+t.es*(.04722222222222222+.022156084656084655*t.es)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=a(t)),t}},function(t,e){e.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},e.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},e.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},e.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},e.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},e.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},e.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},e.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},e.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},e.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},e.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},e.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},e.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},e.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},e.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},e.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},function(t,e){e.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},e.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},e.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},e.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},e.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},e.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},e.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},e.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},e.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},e.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},e.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},e.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},e.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},e.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},e.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},e.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},e.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},e.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},e.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},e.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},e.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},e.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},e.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},e.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},e.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},e.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},e.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},e.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},e.hough={a:6378270,rf:297,ellipseName:"Hough"},e.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},e.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},e.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},e.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},e.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},e.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},e.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},e.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},e.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},e.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},e.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},e.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},e.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},e.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},function(t,e){var i=Math.PI/2,n=484813681109536e-20,r=.3826834323650898,o=function(t){if(!(this instanceof o))return new o(t);this.datum_type=4,t&&(t.datumCode&&"none"===t.datumCode&&(this.datum_type=5),t.datum_params&&(this.datum_params=t.datum_params.map(parseFloat),0===this.datum_params[0]&&0===this.datum_params[1]&&0===this.datum_params[2]||(this.datum_type=1),this.datum_params.length>3&&(0===this.datum_params[3]&&0===this.datum_params[4]&&0===this.datum_params[5]&&0===this.datum_params[6]||(this.datum_type=2,this.datum_params[3]*=n,this.datum_params[4]*=n,this.datum_params[5]*=n,this.datum_params[6]=this.datum_params[6]/1e6+1))),this.datum_type=t.grids?3:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,3===this.datum_type&&(this.grids=t.grids))};o.prototype={compare_datums:function(t){return this.datum_type===t.datum_type&&(!(this.a!==t.a||Math.abs(this.es-t.es)>5e-11)&&(1===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:2===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:3!==this.datum_type&&3!==t.datum_type||this.nadgrids===t.nadgrids))},geodetic_to_geocentric:function(t){var e,n,r,o,a,s,l,h=t.x,u=t.y,c=t.z?t.z:0;if(u<-i&&u>-1.001*i)u=-i;else if(u>i&&u<1.001*i)u=i;else if(u<-i||u>i)return null;return h>Math.PI&&(h-=2*Math.PI),a=Math.sin(u),l=Math.cos(u),s=a*a,e=((o=this.a/Math.sqrt(1-this.es*s))+c)*l*Math.cos(h),n=(o+c)*l*Math.sin(h),r=(o*(1-this.es)+c)*a,t.x=e,t.y=n,t.z=r,0},geocentric_to_geodetic:function(t){var e,n,r,o,a,s,l,h,u,c,f,d,p,g,_,m,y=t.x,v=t.y,b=t.z?t.z:0;if(!1,e=Math.sqrt(y*y+v*v),n=Math.sqrt(y*y+v*v+b*b),e/this.a<1e-12){if(!0,g=0,n/this.a<1e-12)return _=i,void(m=-this.b)}else g=Math.atan2(v,y);r=b/n,o=e/n,a=1/Math.sqrt(1-this.es*(2-this.es)*o*o),h=o*(1-this.es)*a,u=r*a,p=0;do{p++,m=e*h+b*u-(l=this.a/Math.sqrt(1-this.es*u*u))*(1-this.es*u*u),s=this.es*l/(l+m),d=(f=r*(a=1/Math.sqrt(1-s*(2-s)*o*o)))*h-(c=o*(1-s)*a)*u,h=c,u=f}while(d*d>1e-24&&p<30);return _=Math.atan(f/Math.abs(c)),t.x=g,t.y=_,t.z=m,t},geocentric_to_geodetic_noniter:function(t){var e,n,o,a,s,l,h,u,c,f,d,p,g,_,m,y,v,b=t.x,x=t.y,L=t.z?t.z:0;if(b=parseFloat(b),x=parseFloat(x),L=parseFloat(L),v=!1,0!==b)e=Math.atan2(x,b);else if(x>0)e=i;else if(x<0)e=-i;else if(v=!0,e=0,L>0)n=i;else{if(!(L<0))return n=i,void(o=-this.b);n=-i}return s=b*b+x*x,l=1.0026*L,p=(a=Math.sqrt(s))/(u=Math.sqrt(l*l+s)),d=(f=l/u)*f*f,h=L+this.b*this.ep2*d,y=a-this.a*this.es*p*p*p,g=h/(c=Math.sqrt(h*h+y*y)),_=y/c,m=this.a/Math.sqrt(1-this.es*g*g),o=_>=r?a/_-m:_<=-r?a/-_-m:L/g+m*(this.es-1),!1===v&&(n=Math.atan(g/_)),t.x=e,t.y=n,t.z=o,t},geocentric_to_wgs84:function(t){if(1===this.datum_type)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],r=this.datum_params[3],o=this.datum_params[4],a=this.datum_params[5],s=this.datum_params[6],l=s*(t.x-a*t.y+o*t.z)+e,h=s*(a*t.x+t.y-r*t.z)+i,u=s*(-o*t.x+r*t.y+t.z)+n;t.x=l,t.y=h,t.z=u}},geocentric_from_wgs84:function(t){if(1===this.datum_type)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],r=this.datum_params[3],o=this.datum_params[4],a=this.datum_params[5],s=this.datum_params[6],l=(t.x-e)/s,h=(t.y-i)/s,u=(t.z-n)/s;t.x=l+a*h-o*u,t.y=-a*l+h+r*u,t.z=o*l-r*h+u}}},t.exports=o},function(t,e){var i=1,n=2,r=.006694379990141316;t.exports=function(t,e,o){var a,s,l;function h(t){return t===i||t===n}if(t.compare_datums(e))return o;if(5===t.datum_type||5===e.datum_type)return o;var u=t.a,c=t.es,f=e.a,d=e.es,p=t.datum_type;if(3===p)if(0===this.apply_gridshift(t,0,o))t.a=6378137,t.es=r;else{if(!t.datum_params)return t.a=u,t.es=t.es,o;for(a=1,s=0,l=t.datum_params.length;s<l;s++)a*=t.datum_params[s];if(0===a)return t.a=u,t.es=t.es,o;p=t.datum_params.length>3?n:i}return 3===e.datum_type&&(e.a=6378137,e.es=r),(t.es!==e.es||t.a!==e.a||h(p)||h(e.datum_type))&&(t.geodetic_to_geocentric(o),h(t.datum_type)&&t.geocentric_to_wgs84(o),h(e.datum_type)&&e.geocentric_from_wgs84(o),e.geocentric_to_geodetic(o)),3===e.datum_type&&this.apply_gridshift(e,1,o),t.a=u,t.es=c,e.a=f,e.es=d,o}},function(t,e){t.exports=function(t,e,i){var n,r,o,a=i.x,s=i.y,l=i.z||0;for(o=0;o<3;o++)if(!e||2!==o||void 0!==i.z)switch(0===o?(n=a,r="x"):1===o?(n=s,r="y"):(n=l,r="z"),t.axis[o]){case"e":i[r]=n;break;case"w":i[r]=-n;break;case"n":i[r]=n;break;case"s":i[r]=-n;break;case"u":void 0!==i[r]&&(i.z=n);break;case"d":void 0!==i[r]&&(i.z=-n);break;default:return null}return i}},function(t,e,i){var n=i(69);function r(t,e,i){if(!(this instanceof r))return new r(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var n=t.split(",");this.x=parseFloat(n[0],10),this.y=parseFloat(n[1],10),this.z=parseFloat(n[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}r.fromMGRS=function(t){return new r(n.toPoint(t))},r.prototype.toMGRS=function(t){return n.forward([this.x,this.y],t)},t.exports=r},function(t,e){t.exports={_args:[["proj4@2.3.15","E:\\A\\A"]],_cnpm_publish_time:1471808264503,_from:"proj4@2.3.15",_hasShrinkwrap:!1,_id:"proj4@2.3.15",_inCache:!0,_installable:!0,_location:"/proj4",_nodeVersion:"6.1.0",_npmOperationalInternal:{host:"packages-12-west.internal.npmjs.com",tmp:"tmp/proj4-2.3.15.tgz_1471808262546_0.6752060337457806"},_npmUser:{email:"andreas.hocevar@gmail.com",name:"ahocevar"},_npmVersion:"3.8.6",_phantomChildren:{},_requested:{name:"proj4",raw:"proj4@2.3.15",rawSpec:"2.3.15",scope:null,spec:"2.3.15",type:"version"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.15.tgz",_shasum:"5ad06e8bca30be0ffa389a49e4565f51f06d089e",_shrinkwrap:null,_spec:"proj4@2.3.15",_where:"E:\\A\\A",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},contributors:[{email:"madair@dmsolutions.ca",name:"Mike Adair"},{email:"rich@greenwoodmap.com",name:"Richard Greenwood"},{email:"calvin.metcalf@gmail.com",name:"Calvin Metcalf"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"~0.0.2"},description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{browserify:"~12.0.1",chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"~0.4.2","grunt-browserify":"~4.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0",istanbul:"~0.2.4",mocha:"~1.17.1",tin:"~0.4.0"},directories:{doc:"docs",test:"test"},dist:{noattachment:!1,shasum:"5ad06e8bca30be0ffa389a49e4565f51f06d089e",size:114708,tarball:"http://registry.npm.taobao.org/proj4/download/proj4-2.3.15.tgz"},gitHead:"9fa5249c1f4183d5ddee3c4793dfd7b9f29f1886",homepage:"https://github.com/proj4js/proj4js#readme",jam:{include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"],main:"dist/proj4.js"},license:"MIT",main:"lib/index.js",maintainers:[{email:"andreas.hocevar@gmail.com",name:"ahocevar"},{email:"calvin.metcalf@gmail.com",name:"cwmma"}],name:"proj4",optionalDependencies:{},publish_time:1471808264503,readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},version:"2.3.15"}},function(t,e,i){var n=[i(70),i(124),i(125),i(128),i(129),i(130),i(131),i(132),i(133),i(134),i(135),i(136),i(137),i(139),i(140),i(141),i(142),i(143),i(146),i(147),i(148),i(149)];t.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},function(t,e,i){var n=i(70);e.dependsOn="tmerc",e.init=function(){this.zone&&(this.lat0=0,this.long0=.017453292519943295*(6*Math.abs(this.zone)-183),this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,n.init.apply(this),this.forward=n.forward,this.inverse=n.inverse)},e.names=["Universal Transverse Mercator System","utm"]},function(t,e,i){var n=i(126),r=i(2);e.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},e.forward=function(t){var e,i,o,a;return t.x=r(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),o=Math.cos(t.x),a=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*o),t.x=a*i*Math.sin(t.x),t.y=a*(this.cosc0*e-this.sinc0*i*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},e.inverse=function(t){var e,i,o,a,s;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,s=Math.sqrt(t.x*t.x+t.y*t.y)){var l=2*Math.atan2(s,this.R2);e=Math.sin(l),i=Math.cos(l),a=Math.asin(i*this.sinc0+t.y*e*this.cosc0/s),o=Math.atan2(t.x*e,s*this.cosc0*i-t.y*this.sinc0*e)}else a=this.phic0,o=0;return t.x=o,t.y=a,n.inverse.apply(this,[t]),t.x=r(t.x+this.long0),t},e.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},function(t,e,i){var n=Math.PI/4,r=i(127),o=Math.PI/2;e.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*r(this.e*t,this.ratexp))},e.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*r(this.e*Math.sin(i),this.ratexp))-o,t.x=this.C*e,t},e.inverse=function(t){for(var e=t.x/this.C,i=t.y,a=Math.pow(Math.tan(.5*i+n)/this.K,1/this.C),s=20;s>0&&(i=2*Math.atan(a*r(this.e*Math.sin(t.y),-.5*this.e))-o,!(Math.abs(i-t.y)<1e-14));--s)t.y=i;return s?(t.x=e,t.y=i,t):null},e.names=["gauss"]},function(t,e){t.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},function(t,e,i){var n=Math.PI/2,r=1e-10,o=i(22),a=i(15),s=i(32),l=i(33),h=i(2);e.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*i)},e.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r&&(this.k0=.5*(1+o(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=r&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r&&(this.k0=.5*this.cons*a(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/s(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=a(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},e.forward=function(t){var e,i,o,a,l,u,c=t.x,f=t.y,d=Math.sin(f),p=Math.cos(f),g=h(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=r&&Math.abs(f+this.lat0)<=r?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*d+this.coslat0*p*Math.cos(g)),t.x=this.a*e*p*Math.sin(g)+this.x0,t.y=this.a*e*(this.coslat0*d-this.sinlat0*p*Math.cos(g))+this.y0,t):(i=2*Math.atan(this.ssfn_(f,d,this.e))-n,a=Math.cos(i),o=Math.sin(i),Math.abs(this.coslat0)<=r?(l=s(this.e,f*this.con,this.con*d),u=2*this.a*this.k0*l/this.cons,t.x=this.x0+u*Math.sin(c-this.long0),t.y=this.y0-this.con*u*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<r?(e=2*this.a*this.k0/(1+a*Math.cos(g)),t.y=e*o):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*a*Math.cos(g))),t.y=e*(this.cosX0*o-this.sinX0*a*Math.cos(g))+this.y0),t.x=e*a*Math.sin(g)+this.x0,t))},e.inverse=function(t){var e,i,o,a,s;t.x-=this.x0,t.y-=this.y0;var u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(u/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,u<=r?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/u),e=Math.abs(this.coslat0)<r?this.lat0>0?h(this.long0+Math.atan2(t.x,-1*t.y)):h(this.long0+Math.atan2(t.x,t.y)):h(this.long0+Math.atan2(t.x*Math.sin(c),u*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=r){if(u<=r)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,o=u*this.cons/(2*this.a*this.k0),i=this.con*l(this.e,o),e=this.con*h(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else a=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,u<=r?s=this.X0:(s=Math.asin(Math.cos(a)*this.sinX0+t.y*Math.sin(a)*this.cosX0/u),e=h(this.long0+Math.atan2(t.x*Math.sin(a),u*this.cosX0*Math.cos(a)-t.y*this.sinX0*Math.sin(a)))),i=-1*l(this.e,Math.tan(.5*(n+s)));return t.x=e,t.y=i,t},e.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},function(t,e){e.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=1/this.rf,r=2*n-Math.pow(n,2),o=this.e=Math.sqrt(r);this.R=this.k0*i*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*s+this.alpha*o/2*l},e.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,r=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),a=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),s=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*a+this.x0,t},e.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),a=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),s=this.lambda0+a/this.alpha,l=0,h=o,u=-1e3,c=0;Math.abs(h-u)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),u=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=h,t},e.names=["somerc"]},function(t,e,i){var n=i(32),r=i(2),o=i(33),a=Math.PI/2,s=Math.PI/4;e.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var o,a,s=n(this.e,this.lat0,t),l=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));if(l*l<1&&(l=1),isNaN(this.longc)){var h=n(this.e,this.lat1,Math.sin(this.lat1)),u=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(l+Math.sqrt(l*l-1))*Math.pow(s,this.bl):this.el=(l-Math.sqrt(l*l-1))*Math.pow(s,this.bl);var c=Math.pow(h,this.bl),f=Math.pow(u,this.bl);a=.5*((o=this.el/c)-1/o);var d=(this.el*this.el-f*c)/(this.el*this.el+f*c),p=(f-c)/(f+c),g=r(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*g)/p)/this.bl,this.long0=r(this.long0);var _=r(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*_)/a),this.alpha=Math.asin(l*Math.sin(this.gamma0))}else o=this.lat0>=0?l+Math.sqrt(l*l-1):l-Math.sqrt(l*l-1),this.el=o*Math.pow(s,this.bl),a=.5*(o-1/o),this.gamma0=Math.asin(Math.sin(this.alpha)/l),this.long0=this.longc-Math.asin(a*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(l*l-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(l*l-1),Math.cos(this.alpha))},e.forward=function(t){var e,i,o,l=t.x,h=t.y,u=r(l-this.long0);if(Math.abs(Math.abs(h)-a)<=1e-10)o=h>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(s+o*this.gamma0*.5)),e=-1*o*a*this.al/this.bl;else{var c=n(this.e,h,Math.sin(h)),f=this.el/Math.pow(c,this.bl),d=.5*(f-1/f),p=.5*(f+1/f),g=Math.sin(this.bl*u),_=(d*Math.sin(this.gamma0)-g*Math.cos(this.gamma0))/p;i=Math.abs(Math.abs(_)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-_)/(1+_))/this.bl,e=Math.abs(Math.cos(this.bl*u))<=1e-10?this.al*this.bl*u:this.al*Math.atan2(d*Math.cos(this.gamma0)+g*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},e.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),s=.5*(n-1/n),l=.5*(n+1/n),h=Math.sin(this.bl*e/this.al),u=(h*Math.cos(this.gamma0)+s*Math.sin(this.gamma0))/l,c=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<1e-10?(t.x=this.long0,t.y=a):Math.abs(u+1)<1e-10?(t.x=this.long0,t.y=-1*a):(t.y=o(this.e,c),t.x=r(this.long0-Math.atan2(s*Math.cos(this.gamma0)-h*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},e.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},function(t,e,i){var n=i(15),r=i(32),o=Math.PI/2,a=i(22),s=i(2),l=i(33);e.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),o=n(this.e,e,i),a=r(this.e,this.lat1,e),s=Math.sin(this.lat2),l=Math.cos(this.lat2),h=n(this.e,s,l),u=r(this.e,this.lat2,s),c=r(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(o/h)/Math.log(a/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},e.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=1e-10&&(i=a(i)*(o-2e-10));var n,l,h=Math.abs(Math.abs(i)-o);if(h>1e-10)n=r(this.e,i,Math.sin(i)),l=this.a*this.f0*Math.pow(n,this.ns);else{if((h=i*this.ns)<=0)return null;l=0}var u=this.ns*s(e-this.long0);return t.x=this.k0*(l*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-l*Math.cos(u))+this.y0,t},e.inverse=function(t){var e,i,n,r,a,h=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(h*h+u*u),i=1):(e=-Math.sqrt(h*h+u*u),i=-1);var c=0;if(0!==e&&(c=Math.atan2(i*h,i*u)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(r=l(this.e,n)))return null}else r=-o;return a=s(c/this.ns+this.long0),t.x=a,t.y=r,t},e.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},function(t,e,i){var n=i(2);e.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},e.forward=function(t){var e,i,r,o,a,s,l,h=t.x,u=t.y,c=n(h-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-c*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),a=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(o)),s=this.n*a,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=l*Math.cos(s)/1,t.x=l*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},e.inverse=function(t){var e,i,n,r,o,a,s,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,a=e,s=0;var h=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(s=1),a=t.y,h+=1}while(0===s&&h<15);return h>=15?null:t},e.names=["Krovak","krovak"]},function(t,e,i){var n=i(27),r=i(23),o=i(24),a=i(25),s=i(26),l=i(46),h=i(2),u=i(28),c=i(47),f=Math.PI/2;e.init=function(){this.sphere||(this.e0=r(this.es),this.e1=o(this.es),this.e2=a(this.es),this.e3=s(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},e.forward=function(t){var e,i,r=t.x,o=t.y;if(r=h(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(o),Math.cos(r))-this.lat0);else{var a=Math.sin(o),s=Math.cos(o),u=l(this.a,this.e,a),c=Math.tan(o)*Math.tan(o),f=r*Math.cos(o),d=f*f,p=this.es*s*s/(1-this.es);e=u*f*(1-d*c*(1/6-(8-c+8*p)*d/120)),i=this.a*n(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+u*a/s*d*(.5+(5-c+6*p)*d/24)}return t.x=e+this.x0,t.y=i+this.y0,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(o))}else{var a=this.ml0/this.a+r,s=c(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-f)<=1e-10)return t.x=this.long0,t.y=f,r<0&&(t.y*=-1),t;var d=l(this.a,this.e,Math.sin(s)),p=d*d*d/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(s),2),_=n*this.a/d,m=_*_;e=s-d*Math.tan(s)/p*_*_*(.5-(1+3*g)*_*_/24),i=_*(1-m*(g/3+(1+3*g)*g*m/15))/Math.cos(s)}return t.x=h(i+this.long0),t.y=u(e),t},e.names=["Cassini","Cassini_Soldner","cass"]},function(t,e,i){var n=Math.PI/2,r=Math.PI/4,o=1e-10,a=i(48),s=i(2);e.S_POLE=1,e.N_POLE=2,e.EQUIT=3,e.OBLIQ=4,e.init=function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-n)<o?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<o?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=a(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=a(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},e.forward=function(t){var e,i,l,h,u,c,f,d,p,g,_=t.x,m=t.y;if(_=s(_-this.long0),this.sphere){if(u=Math.sin(m),g=Math.cos(m),l=Math.cos(_),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+g*l:1+this.sinph0*u+this.cosph0*g*l)<=o)return null;e=(i=Math.sqrt(2/i))*g*Math.sin(_),i*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*g*l}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),Math.abs(m+this.phi0)<o)return null;i=r-.5*m,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(_),i*=l}}else{switch(f=0,d=0,p=0,l=Math.cos(_),h=Math.sin(_),u=Math.sin(m),c=a(this.e,u),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(f=c/this.qp,d=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:p=1+this.sinb1*f+this.cosb1*d*l;break;case this.EQUIT:p=1+d*l;break;case this.N_POLE:p=n+m,c=this.qp-c;break;case this.S_POLE:p=m-n,c=this.qp+c}if(Math.abs(p)<o)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),i=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*f-this.sinb1*d*l):(p=Math.sqrt(2/(1+d*l)))*f*this.ymf,e=this.xmf*p*d*h;break;case this.N_POLE:case this.S_POLE:c>=0?(e=(p=Math.sqrt(c))*h,i=l*(this.mode===this.S_POLE?p:-p)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,r,a,l,h,u,c=t.x/this.a,f=t.y/this.a;if(this.sphere){var d,p=0,g=0;if((i=.5*(d=Math.sqrt(c*c+f*f)))>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(g=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(d)<=o?0:Math.asin(f*g/d),c*=g,f=p*d;break;case this.OBLIQ:i=Math.abs(d)<=o?this.phi0:Math.asin(p*this.sinph0+f*g*this.cosph0/d),c*=g*this.cosph0,f=(p-Math.sin(i)*this.sinph0)*d;break;case this.N_POLE:f=-f,i=n-i;break;case this.S_POLE:i-=n}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,f):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,f*=this.dd,(h=Math.sqrt(c*c+f*f))<o)return t.x=0,t.y=this.phi0,t;a=2*Math.asin(.5*h/this.rq),r=Math.cos(a),c*=a=Math.sin(a),this.mode===this.OBLIQ?(u=r*this.sinb1+f*a*this.cosb1/h,l=this.qp*u,f=h*this.cosb1*r-f*this.sinb1*a):(u=f*a/h,l=this.qp*u,f=h*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(l=c*c+f*f))return t.x=0,t.y=this.phi0,t;u=1-l/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(c,f),i=this.authlat(Math.asin(u),this.apa)}return t.x=s(this.long0+e),t.y=i,t},e.P00=.3333333333333333,e.P01=.17222222222222222,e.P02=.10257936507936508,e.P10=.06388888888888888,e.P11=.0664021164021164,e.P20=.016415012942191543,e.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},e.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},e.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},function(t,e,i){var n=i(15),r=i(48),o=i(2),a=i(16);e.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=n(this.e3,this.sin_po,this.cos_po),this.qs1=r(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=n(this.e3,this.sin_po,this.cos_po),this.qs2=r(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=r(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},e.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=r(this.e3,this.sin_phi,this.cos_phi),a=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,s=this.ns0*o(e-this.long0),l=a*Math.sin(s)+this.x0,h=this.rh-a*Math.cos(s)+this.y0;return t.x=l,t.y=h,t},e.inverse=function(t){var e,i,n,r,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,s=this.phi1z(this.e3,i)),a=o(r/this.ns0+this.long0),t.x=a,t.y=s,t},e.phi1z=function(t,e){var i,n,r,o,s,l=a(.5*e);if(t<1e-10)return l;for(var h=t*t,u=1;u<=25;u++)if(i=Math.sin(l),n=Math.cos(l),l+=s=.5*(o=1-(r=t*i)*r)*o/n*(e/(1-h)-i/o+.5/t*Math.log((1-r)/(1+r))),Math.abs(s)<=1e-7)return l;return null},e.names=["Albers_Conic_Equal_Area","Albers","aea"]},function(t,e,i){var n=i(2),r=i(16);e.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},e.forward=function(t){var e,i,r,o,a,s,l,h=t.x,u=t.y;return r=n(h-this.long0),e=Math.sin(u),i=Math.cos(u),o=Math.cos(r),1,(a=this.sin_p14*e+this.cos_p14*i*o)>0||Math.abs(a)<=1e-10?(s=this.x0+1*this.a*i*Math.sin(r)/a,l=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*o)/a):(s=this.x0+this.infinity_dist*i*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*o)),t.x=s,t.y=l,t},e.inverse=function(t){var e,i,o,a,s,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(a=Math.atan2(e,this.rc),i=Math.sin(a),o=Math.cos(a),l=r(o*this.sin_p14+t.y*i*this.cos_p14/e),s=Math.atan2(t.x*i,e*this.cos_p14*o-t.y*this.sin_p14*i),s=n(this.long0+s)):(l=this.phic0,s=0),t.x=s,t.y=l,t},e.names=["gnom"]},function(t,e,i){var n=i(2),r=i(48),o=i(15),a=i(138);e.init=function(){this.sphere||(this.k0=o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},e.forward=function(t){var e,i,o=t.x,a=t.y,s=n(o-this.long0);if(this.sphere)e=this.x0+this.a*s*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(a)/Math.cos(this.lat_ts);else{var l=r(this.e,Math.sin(a));e=this.x0+this.a*this.k0*s,i=this.y0+this.a*l*.5/this.k0}return t.x=e,t.y=i,t},e.inverse=function(t){var e,i;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=a(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},e.names=["cea"]},function(t,e){var i=Math.PI/2;t.exports=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*i:i;for(var r,o,a,s,l=Math.asin(.5*e),h=0;h<30;h++)if(o=Math.sin(l),a=Math.cos(l),s=t*o,l+=r=Math.pow(1-s*s,2)/(2*a)*(e/(1-t*t)-o/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(r)<=1e-10)return l;return NaN}},function(t,e,i){var n=i(2),r=i(28);e.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},e.forward=function(t){var e=t.x,i=t.y,o=n(e-this.long0),a=r(i-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*a,t},e.inverse=function(t){var e=t.x,i=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=r(this.lat0+(i-this.y0)/this.a),t},e.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},function(t,e,i){var n=i(23),r=i(24),o=i(25),a=i(26),s=i(2),l=i(28),h=i(27),u=1e-10,c=i(46);e.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},e.forward=function(t){var e,i,n,r=t.x,o=t.y,a=s(r-this.long0);if(n=a*Math.sin(o),this.sphere)Math.abs(o)<=u?(e=this.a*a,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(o),i=this.a*(l(o-this.lat0)+(1-Math.cos(n))/Math.tan(o)));else if(Math.abs(o)<=u)e=this.a*a,i=-1*this.ml0;else{var f=c(this.a,this.e,Math.sin(o))/Math.tan(o);e=f*Math.sin(n),i=this.a*h(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+f*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},e.inverse=function(t){var e,i,n,r,o,a,l,c,f;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=u)e=s(n/this.a+this.long0),i=0;else{var d;for(a=this.lat0+r/this.a,l=n*n/this.a/this.a+a*a,c=a,o=20;o;--o)if(c+=f=-1*(a*(c*(d=Math.tan(c))+1)-c-.5*(c*c+l)*d)/((c-a)/d-1),Math.abs(f)<=u){i=c;break}e=s(this.long0+Math.asin(n*Math.tan(c)/this.a)/Math.sin(i))}else if(Math.abs(r+this.ml0)<=u)i=0,e=s(this.long0+n/this.a);else{var p,g,_,m,y;for(a=(this.ml0+r)/this.a,l=n*n/this.a/this.a+a*a,c=a,o=20;o;--o)if(y=this.e*Math.sin(c),p=Math.sqrt(1-y*y)*Math.tan(c),g=this.a*h(this.e0,this.e1,this.e2,this.e3,c),_=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),c-=f=(a*(p*(m=g/this.a)+1)-m-.5*p*(m*m+l))/(this.es*Math.sin(2*c)*(m*m+l-2*a*m)/(4*p)+(a-m)*(p*_-2/Math.sin(2*c))-_),Math.abs(f)<=u){i=c;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=s(this.long0+Math.asin(n*p/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},e.names=["Polyconic","poly"]},function(t,e){var i=484813681109536e-20;e.iterations=1,e.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},e.forward=function(t){var e,n=t.x,r=t.y-this.lat0,o=n-this.long0,a=r/i*1e-5,s=o,l=1,h=0;for(e=1;e<=10;e++)l*=a,h+=this.A[e]*l;var u,c=h,f=s,d=1,p=0,g=0,_=0;for(e=1;e<=6;e++)u=p*c+d*f,d=d*c-p*f,p=u,g=g+this.B_re[e]*d-this.B_im[e]*p,_=_+this.B_im[e]*d+this.B_re[e]*p;return t.x=_*this.a+this.x0,t.y=g*this.a+this.y0,t},e.inverse=function(t){var e,n,r=t.x,o=t.y,a=r-this.x0,s=(o-this.y0)/this.a,l=a/this.a,h=1,u=0,c=0,f=0;for(e=1;e<=6;e++)n=u*s+h*l,h=h*s-u*l,u=n,c=c+this.C_re[e]*h-this.C_im[e]*u,f=f+this.C_im[e]*h+this.C_re[e]*u;for(var d=0;d<this.iterations;d++){var p,g=c,_=f,m=s,y=l;for(e=2;e<=6;e++)p=_*c+g*f,g=g*c-_*f,_=p,m+=(e-1)*(this.B_re[e]*g-this.B_im[e]*_),y+=(e-1)*(this.B_im[e]*g+this.B_re[e]*_);g=1,_=0;var v=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)p=_*c+g*f,g=g*c-_*f,_=p,v+=e*(this.B_re[e]*g-this.B_im[e]*_),b+=e*(this.B_im[e]*g+this.B_re[e]*_);var x=v*v+b*b;c=(m*v+y*b)/x,f=(y*v-m*b)/x}var L=c,w=f,C=1,I=0;for(e=1;e<=9;e++)C*=L,I+=this.D[e]*C;var M=this.lat0+I*i*1e5,E=this.long0+w;return t.x=E,t.y=M,t},e.names=["New_Zealand_Map_Grid","nzmg"]},function(t,e,i){var n=i(2);e.init=function(){},e.forward=function(t){var e=t.x,i=t.y,r=n(e-this.long0),o=this.x0+this.a*r,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=o,t.y=a,t},e.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},e.names=["Miller_Cylindrical","mill"]},function(t,e,i){var n=i(2),r=i(28),o=i(144),a=i(71),s=i(145),l=Math.PI/2,h=i(16);e.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=o(this.es)},e.forward=function(t){var e,i,r=t.x,o=t.y;if(r=n(r-this.long0),this.sphere){if(this.m)for(var s=this.n*Math.sin(o),l=20;l;--l){var h=(this.m*o+Math.sin(o)-s)/(this.m+Math.cos(o));if(o-=h,Math.abs(h)<1e-10)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*r*(this.m+Math.cos(o)),i=this.a*this.C_y*o}else{var u=Math.sin(o),c=Math.cos(o);i=this.a*a(o,u,c,this.en),e=this.a*r*c/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=i,t},e.inverse=function(t){var e,i,o,a;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=h((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=h(Math.sin(e)/this.n)),o=n(o+this.long0),e=r(e)):(e=s(t.y/this.a,this.es,this.en),(a=Math.abs(e))<l?(a=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(e)),o=n(i)):a-1e-10<l&&(o=this.long0)),t.x=o,t.y=e,t},e.names=["Sinusoidal","sinu"]},function(t,e){var i=.01068115234375;t.exports=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*i))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*i)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e}},function(t,e,i){var n=i(71);t.exports=function(t,e,i){for(var r=1/(1-e),o=t,a=20;a;--a){var s=Math.sin(o),l=1-e*s*s;if(o-=l=(n(o,s,Math.cos(o),i)-t)*(l*Math.sqrt(l))*r,Math.abs(l)<1e-10)return o}return o}},function(t,e,i){var n=i(2);e.init=function(){},e.forward=function(t){for(var e=t.x,i=t.y,r=n(e-this.long0),o=i,a=Math.PI*Math.sin(i),s=0;;s++){var l=-(o+Math.sin(o)-a)/(1+Math.cos(o));if(o+=l,Math.abs(l)<1e-10)break}o/=2,Math.PI/2-Math.abs(i)<1e-10&&(r=0);var h=.900316316158*this.a*r*Math.cos(o)+this.x0,u=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=h,t.y=u,t},e.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var r=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var o=Math.asin(i);return t.x=r,t.y=o,t},e.names=["Mollweide","moll"]},function(t,e,i){var n=i(23),r=i(24),o=i(25),a=i(26),s=i(15),l=i(27),h=i(2),u=i(28),c=i(47);e.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=a(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=s(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=s(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},e.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=l(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var o=this.ns*h(i-this.long0),a=this.x0+e*Math.sin(o),s=this.y0+this.rh-e*Math.cos(o);return t.x=a,t.y=s,t},e.inverse=function(t){var e,i,n,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==i&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=h(this.long0+o/this.ns),n=u(this.g-i/this.a),t.x=r,t.y=n,t;var a=this.g-i/this.a;return n=c(a,this.e0,this.e1,this.e2,this.e3),r=h(this.long0+o/this.ns),t.x=r,t.y=n,t},e.names=["Equidistant_Conic","eqdc"]},function(t,e,i){var n=i(2),r=Math.PI/2,o=i(16);e.init=function(){this.R=this.a},e.forward=function(t){var e,i,a=t.x,s=t.y,l=n(a-this.long0);Math.abs(s)<=1e-10&&(e=this.x0+this.R*l,i=this.y0);var h=o(2*Math.abs(s/Math.PI));(Math.abs(l)<=1e-10||Math.abs(Math.abs(s)-r)<=1e-10)&&(e=this.x0,i=s>=0?this.y0+Math.PI*this.R*Math.tan(.5*h):this.y0+Math.PI*this.R*-Math.tan(.5*h));var u=.5*Math.abs(Math.PI/l-l/Math.PI),c=u*u,f=Math.sin(h),d=Math.cos(h),p=d/(f+d-1),g=p*p,_=p*(2/f-1),m=_*_,y=Math.PI*this.R*(u*(p-m)+Math.sqrt(c*(p-m)*(p-m)-(m+c)*(g-m)))/(m+c);l<0&&(y=-y),e=this.x0+y;var v=c+p;return y=Math.PI*this.R*(_*v-u*Math.sqrt((m+c)*(c+1)-v*v))/(m+c),i=s>=0?this.y0+y:this.y0-y,t.x=e,t.y=i,t},e.inverse=function(t){var e,i,r,o,a,s,l,h,u,c,f,d;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,a=(r=t.x/f)*r+(o=t.y/f)*o,f=3*(o*o/(h=-2*(s=-Math.abs(o)*(1+a))+1+2*o*o+a*a)+(2*(l=s-2*o*o+r*r)*l*l/h/h/h-9*s*l/h/h)/27)/(u=(s-l*l/3/h)/h)/(c=2*Math.sqrt(-u/3)),Math.abs(f)>1&&(f=f>=0?1:-1),d=Math.acos(f)/3,i=t.y>=0?(-c*Math.cos(d+Math.PI/3)-l/3/h)*Math.PI:-(-c*Math.cos(d+Math.PI/3)-l/3/h)*Math.PI,e=Math.abs(r)<1e-10?this.long0:n(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-o*o)+a*a))/2/r),t.x=e,t.y=i,t},e.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},function(t,e,i){var n=i(2),r=Math.PI/2,o=1e-10,a=i(27),s=i(23),l=i(24),h=i(25),u=i(26),c=i(46),f=i(16),d=i(47);e.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},e.forward=function(t){var e,i,f,d,p,g,_,m,y,v,b,x,L,w,C,I,M,E,O,S,P,k,N=t.x,T=t.y,A=Math.sin(t.y),R=Math.cos(t.y),D=n(N-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=o?(t.x=this.x0+this.a*(r-T)*Math.sin(D),t.y=this.y0-this.a*(r-T)*Math.cos(D),t):Math.abs(this.sin_p12+1)<=o?(t.x=this.x0+this.a*(r+T)*Math.sin(D),t.y=this.y0+this.a*(r+T)*Math.cos(D),t):(E=this.sin_p12*A+this.cos_p12*R*Math.cos(D),M=(I=Math.acos(E))/Math.sin(I),t.x=this.x0+this.a*M*R*Math.sin(D),t.y=this.y0+this.a*M*(this.cos_p12*A-this.sin_p12*R*Math.cos(D)),t):(e=s(this.es),i=l(this.es),f=h(this.es),d=u(this.es),Math.abs(this.sin_p12-1)<=o?(p=this.a*a(e,i,f,d,r),g=this.a*a(e,i,f,d,T),t.x=this.x0+(p-g)*Math.sin(D),t.y=this.y0-(p-g)*Math.cos(D),t):Math.abs(this.sin_p12+1)<=o?(p=this.a*a(e,i,f,d,r),g=this.a*a(e,i,f,d,T),t.x=this.x0+(p+g)*Math.sin(D),t.y=this.y0+(p+g)*Math.cos(D),t):(_=A/R,m=c(this.a,this.e,this.sin_p12),y=c(this.a,this.e,A),v=Math.atan((1-this.es)*_+this.es*m*this.sin_p12/(y*R)),O=0===(b=Math.atan2(Math.sin(D),this.cos_p12*Math.tan(v)-this.sin_p12*Math.cos(D)))?Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):Math.abs(Math.abs(b)-Math.PI)<=o?-Math.asin(this.cos_p12*Math.sin(v)-this.sin_p12*Math.cos(v)):Math.asin(Math.sin(D)*Math.cos(v)/Math.sin(b)),x=this.e*this.sin_p12/Math.sqrt(1-this.es),I=m*O*(1-(S=O*O)*(C=(L=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es))*L)*(1-C)/6+(P=S*O)/8*(w=x*L)*(1-2*C)+(k=P*O)/120*(C*(4-7*C)-3*x*x*(1-7*C))-k*O/48*w),t.x=this.x0+I*Math.sin(b),t.y=this.y0+I*Math.cos(b),t))},e.inverse=function(t){var e,i,p,g,_,m,y,v,b,x,L,w,C,I,M,E,O,S,P,k,N,T;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*r*this.a)return;return i=e/this.a,p=Math.sin(i),g=Math.cos(i),_=this.long0,Math.abs(e)<=o?m=this.lat0:(m=f(g*this.sin_p12+t.y*p*this.cos_p12/e),y=Math.abs(this.lat0)-r,_=Math.abs(y)<=o?this.lat0>=0?n(this.long0+Math.atan2(t.x,-t.y)):n(this.long0-Math.atan2(-t.x,t.y)):n(this.long0+Math.atan2(t.x*p,e*this.cos_p12*g-t.y*this.sin_p12*p))),t.x=_,t.y=m,t}return v=s(this.es),b=l(this.es),x=h(this.es),L=u(this.es),Math.abs(this.sin_p12-1)<=o?(w=this.a*a(v,b,x,L,r),e=Math.sqrt(t.x*t.x+t.y*t.y),m=d((w-e)/this.a,v,b,x,L),_=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=_,t.y=m,t):Math.abs(this.sin_p12+1)<=o?(w=this.a*a(v,b,x,L,r),e=Math.sqrt(t.x*t.x+t.y*t.y),m=d((e-w)/this.a,v,b,x,L),_=n(this.long0+Math.atan2(t.x,t.y)),t.x=_,t.y=m,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),M=Math.atan2(t.x,t.y),C=c(this.a,this.e,this.sin_p12),E=Math.cos(M),S=-(O=this.e*this.cos_p12*E)*O/(1-this.es),P=3*this.es*(1-S)*this.sin_p12*this.cos_p12*E/(1-this.es),T=1-S*(N=(k=e/C)-S*(1+S)*Math.pow(k,3)/6-P*(1+3*S)*Math.pow(k,4)/24)*N/2-k*N*N*N/6,I=Math.asin(this.sin_p12*Math.cos(N)+this.cos_p12*Math.sin(N)*E),_=n(this.long0+Math.asin(Math.sin(M)*Math.sin(N)/Math.cos(I))),m=Math.atan((1-this.es*T*this.sin_p12/Math.sin(I))*Math.tan(I)/(1-this.es)),t.x=_,t.y=m,t)},e.names=["Azimuthal_Equidistant","aeqd"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TianDiTu_MercatorCRS=e.TianDiTu_WGS84CRS=e.BaiduCRS=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n},a=i(63);e.BaiduCRS=o.default.extend({},o.default.CRS.EPSG3857,{code:"Baidu",scale:function(t){return 6378137*Math.PI*2/Math.pow(2,18-t)},transformation:(s=.5/(6378137*Math.PI),new o.default.Transformation(s,0,-s,0))});for(var s,l=[],h=1;h<19;h++)l.push(1.40625/Math.pow(2,h));e.TianDiTu_WGS84CRS=new a.CRS("EPSG:4326",{origin:[-180,90],resolutions:l,bounds:o.default.bounds([-180,-90],[180,90])});for(var u=[],c=1;c<19;c++)u.push(156543.03392804062/Math.pow(2,c));e.TianDiTu_MercatorCRS=new a.CRS("EPSG:3857",{origin:[-20037508.3427892,20037508.3427892],resolutions:u,bounds:o.default.bounds([-20037508.3427892,-20037508.3427892],[20037508.3427892,20037508.3427892])})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(152);Object.defineProperty(e,"WMTSLayer",{enumerable:!0,get:function(){return n.WMTSLayer}}),Object.defineProperty(e,"wmtsLayer",{enumerable:!0,get:function(){return n.wmtsLayer}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wmtsLayer=e.WMTSLayer=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n};var a=e.WMTSLayer=o.default.TileLayer.extend({options:{version:"1.0.0",style:"",tilematrixSet:"",format:"image/png",tileSize:256,matrixIds:null,layer:""},initialize:function(t,e){this._url=t,o.default.setOptions(this,e)},getTileUrl:function(t){var e=this._getZoomForUrl(),i=this.options.matrixIds?this.options.matrixIds[e].identifier:e,n=o.default.Util.template(this._url,{s:this._getSubdomain(t)}),r={service:"WMTS",request:"GetTile",version:this.options.version,style:this.options.style,tilematrixSet:this.options.tilematrixSet,format:this.options.format,width:this.options.tileSize,height:this.options.tileSize,layer:this.options.layer,tilematrix:i,tilerow:t.y,tilecol:t.x};return n+o.default.Util.getParamString(r,n)}});e.wmtsLayer=function(t,e){return new a(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(154);Object.defineProperty(e,"D3Layer",{enumerable:!0,get:function(){return n.D3Layer}}),Object.defineProperty(e,"d3Layer",{enumerable:!0,get:function(){return n.d3Layer}});var r=i(156);Object.defineProperty(e,"EChartsLayer",{enumerable:!0,get:function(){return r.EChartsLayer}}),Object.defineProperty(e,"echartsLayer",{enumerable:!0,get:function(){return r.echartsLayer}});var o=i(72);Object.defineProperty(e,"GraphThemeLayer",{enumerable:!0,get:function(){return o.GraphThemeLayer}}),Object.defineProperty(e,"graphThemeLayer",{enumerable:!0,get:function(){return o.graphThemeLayer}});var a=i(178);Object.defineProperty(e,"LabelThemeLayer",{enumerable:!0,get:function(){return a.LabelThemeLayer}}),Object.defineProperty(e,"labelThemeLayer",{enumerable:!0,get:function(){return a.labelThemeLayer}});var s=i(182);Object.defineProperty(e,"MapVLayer",{enumerable:!0,get:function(){return s.MapVLayer}}),Object.defineProperty(e,"mapVLayer",{enumerable:!0,get:function(){return s.mapVLayer}});var l=i(185);Object.defineProperty(e,"RangeThemeLayer",{enumerable:!0,get:function(){return l.RangeThemeLayer}}),Object.defineProperty(e,"rangeThemeLayer",{enumerable:!0,get:function(){return l.rangeThemeLayer}});var h=i(186);Object.defineProperty(e,"RankSymbolThemeLayer",{enumerable:!0,get:function(){return h.RankSymbolThemeLayer}}),Object.defineProperty(e,"rankSymbolThemeLayer",{enumerable:!0,get:function(){return h.rankSymbolThemeLayer}});var u=i(187);Object.defineProperty(e,"TurfLayer",{enumerable:!0,get:function(){return u.TurfLayer}}),Object.defineProperty(e,"turfLayer",{enumerable:!0,get:function(){return u.turfLayer}});var c=i(189);Object.defineProperty(e,"UniqueThemeLayer",{enumerable:!0,get:function(){return c.UniqueThemeLayer}}),Object.defineProperty(e,"uniqueThemeLayer",{enumerable:!0,get:function(){return c.uniqueThemeLayer}});var f=i(190);Object.defineProperty(e,"GraphicLayer",{enumerable:!0,get:function(){return f.GraphicLayer}}),Object.defineProperty(e,"graphicLayer",{enumerable:!0,get:function(){return f.graphicLayer}});var d=i(191);Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}})});var p=i(192);Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.d3Layer=e.D3Layer=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n},a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i(155));var s=e.D3Layer=o.default.Layer.extend({includes:[],_undef:function(t){return void 0===t},_options:function(t){return this._undef(t)?this.options:(t.zoomHide=!this._undef(t.zoomHide)&&t.zoomHide,t.zoomDraw=!!this._undef(t.zoomDraw)||t.zoomDraw,this.options=t)},_disableLeafletRounding:function(){this._leaflet_round=o.default.Point.prototype._round,o.default.Point.prototype._round=function(){return this}},_enableLeafletRounding:function(){o.default.Point.prototype._round=this._leaflet_round},draw:function(){this._disableLeafletRounding(),this._drawCallback(this.selection,this.projection,this.map.getZoom()),this._enableLeafletRounding()},initialize:function(t,e){this._options(e||{}),this._drawCallback=t},_zoomChange:function(t){this._disableLeafletRounding();var e=this._undef(t.zoom)?this.map._zoom:t.zoom;this._zoomDiff=e-this._zoom,this._scale=Math.pow(2,this._zoomDiff),this.projection.scale=this._scale,this._shift=this.map.latLngToLayerPoint(this._wgsOrigin)._subtract(this._wgsInitialShift.multiplyBy(this._scale));var i=["translate(",this._shift.x,",",this._shift.y,") "],n=["scale(",this._scale,",",this._scale,") "];this._rootGroup.attr("transform",i.concat(n).join("")),this.options.zoomDraw&&this.draw(),this._enableLeafletRounding()},onAdd:function(t){this.map=t;var e=this;a.select("head").append("style").attr("type","text/css").text("g.d3-overlay *{pointer-events:visiblePainted;}"),this._svg=o.default.svg(),t.addLayer(this._svg),this._rootGroup=a.select(this._svg._rootGroup).classed("d3-overlay",!0),this._rootGroup.classed("leaflet-zoom-hide",this.options.zoomHide),this.selection=this._rootGroup;var i=this,n=a.selection.prototype.on;a.selection.prototype.on=function(t,e,r){n.apply(i.selection,[t,e,r]),i.map.on(t,function(){i.selection.dispatch(t,{detail:r.originalEvent})})},this._pixelOrigin=t.getPixelOrigin(),this._wgsOrigin=o.default.latLng([0,0]),this._wgsInitialShift=this.map.latLngToLayerPoint(this._wgsOrigin),this._zoom=this.map.getZoom(),this._shift=o.default.point(0,0),this._scale=1,this.projection={latLngToLayerPoint:function(t,i){return i=e._undef(i)?e._zoom:i,e.map.project(o.default.latLng(t),i)._round()._subtract(e._pixelOrigin)},layerPointToLatLng:function(t,i){i=e._undef(i)?e._zoom:i;var n=o.default.point(t).add(e._pixelOrigin);return e.map.unproject(n,i)},unitsPerMeter:256*Math.pow(2,e._zoom)/40075017,map:e.map,layer:e,scale:1},this.projection._projectPoint=function(t,i){var n=e.projection.latLngToLayerPoint(new o.default.LatLng(i,t));this.stream.point(n.x,n.y)},this.projection.pathFromGeojson=a.geoPath().projection(a.geoTransform({point:this.projection._projectPoint})),this.projection.latLngToLayerFloatPoint=this.projection.latLngToLayerPoint,this.projection.getZoom=this.map.getZoom.bind(this.map),this.projection.getBounds=this.map.getBounds.bind(this.map),this.selection=this._rootGroup,o.default.version<"1.0"&&t.on("viewreset",this._zoomChange,this),this.draw()},getEvents:function(){return{zoomend:this._zoomChange}},onRemove:function(t){o.default.version<"1.0"?(t.off("viewreset",this._zoomChange,this),this._rootGroup.remove()):this._svg.remove()},addTo:function(t){return t.addLayer(this),this}});e.d3Layer=function(t,e){return new s(t,e)}},function(t,e){t.exports=function(){try{return d3}catch(t){return{}}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.echartsLayer=e.EchartsLayer=void 0;var n=o(i(1)),r=o(i(157));function o(t){return t&&t.__esModule?t:{default:t}}var a=e.EchartsLayer=n.default.Layer.extend({includes:[],_echartsContainer:null,_map:null,_ec:null,_echartsOptions:null,options:{loadWhileAnimating:!0},initialize:function(t,e){t&&(t.LeafletMap={roam:!0}),this._echartsOptions=t,n.default.Util.setOptions(this,e)},setOption:function(t,e,i){t&&(t.LeafletMap={roam:!0}),this._echartsOptions=t,this._ec.setOption(t,e,i)},_disableEchartsContainer:function(){this._echartsContainer.style.visibility="hidden"},_enableEchartsContainer:function(){this._echartsContainer.style.visibility="visible"},onAdd:function(t){this._map=t,this._initEchartsContainer(),this._ec=r.default.init(this._echartsContainer),r.default.leafletMap=t;var e=this;t.on("zoomstart",function(){e._disableEchartsContainer()}),r.default.registerAction({type:"LeafletMapLayout",event:"LeafletMapLayout",update:"updateLayout"},function(t,e){}),r.default.registerCoordinateSystem("leaflet",s),r.default.extendComponentModel({type:"LeafletMap",getBMap:function(){return this.__LeafletMap},defaultOption:{roam:!1}}),r.default.extendComponentView({type:"LeafletMap",render:function(i,n,o){var a=!0,s=r.default.leafletMap,l=o.getZr().painter.getViewportRoot(),h=i.coordinateSystem,u=function(){if(!a){var e=t.getBounds(),n=t.latLngToLayerPoint(e.getNorthWest()),r=[parseInt(n.x,10)||0,parseInt(n.y,10)||0];l.style.left=r[0]+"px",l.style.top=r[1]+"px",h.setMapOffset(r),i.__mapOffset=r,o.dispatchAction({type:"LeafletMapLayout"})}};function c(){a||(o.dispatchAction({type:"LeafletMapLayout"}),e._enableEchartsContainer())}e.options.loadWhileAnimating?s.off("move",this._oldMoveHandler):s.off("moveend",this._oldMoveHandler),s.off("zoomend",this._oldZoomEndHandler),e.options.loadWhileAnimating?s.on("move",u):s.on("moveend",u),s.on("zoomend",c),this._oldMoveHandler=u,this._oldZoomEndHandler=c,a=!1}}),this._ec.setOption(this._echartsOptions)},_initEchartsContainer:function(){var t=this._map.getSize(),e=document.createElement("div");e.style.position="absolute",e.style.height=t.y+"px",e.style.width=t.x+"px",e.style.zIndex=10,this._echartsContainer=e,this._map.getPanes().overlayPane.appendChild(this._echartsContainer);var i=this;this._map.on("resize",function(t){var e=t.newSize;i._echartsContainer.style.width=e.x+"px",i._echartsContainer.style.height=e.y+"px",i._ec.resize()})}});function s(t,e){this._LeafletMap=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e}s.prototype.dimensions=["lng","lat"],s.prototype.setMapOffset=function(t){this._mapOffset=t},s.prototype.getBMap=function(){return this._LeafletMap},s.prototype.dataToPoint=function(t){var e=new n.default.latLng(t[1],t[0]),i=this._LeafletMap.latLngToLayerPoint(e),r=this._mapOffset;return[i.x-r[0],i.y-r[1]]},s.prototype.pointToData=function(t){var e=this._mapOffset,i=this._LeafletMap.layerPointToLatLng([t[0]+e[0],t[1]+e[1]]);return[i.lng,i.lat]},s.prototype.getViewRect=function(){var t=this._api;return new r.default.graphic.BoundingRect(0,0,t.getWidth(),t.getHeight())},s.prototype.getRoamTransform=function(){return r.default.matrix.create()},s.dimensions=s.prototype.dimensions,s.create=function(t,e){var i;t.eachComponent("LeafletMap",function(t){var n=r.default.leafletMap;(i=new s(n,e)).setMapOffset(t.__mapOffset||[0,0]),t.coordinateSystem=i}),t.eachSeries(function(t){"leaflet"===t.get("coordinateSystem")&&(t.coordinateSystem=i)})};e.echartsLayer=function(t,e){return new a(t,e)}},function(t,e){t.exports=function(){try{return echarts}catch(t){return{}}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(10);e.Rectangle=function(t){function e(t,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r));return o.x=null,o.y=null,o.width=null,o.height=null,o.x=isNaN(t)?0:t,o.y=isNaN(t)?0:i,o.width=isNaN(n)?0:n,o.height=isNaN(r)?0:r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.ShapeParameters),n(e,[{key:"destroy",value:function(){this.x=null,this.y=null,this.width=null,this.height=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Label=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(10);e.Label=function(t){function e(t,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n));return r.x=null,r.y=null,r.text=null,r.x=t,r.y=i,r.text=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.ShapeParameters),n(e,[{key:"destroy",value:function(){this.x=null,this.y=null,this.text=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Image=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(10);e.Image=function(t){function e(t,i,n,r,o,a,s,l,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var u=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,o,a,s,l,h));return u.x=null,u.y=null,u.image=null,u.width=null,u.height=null,u.sx=null,u.sy=null,u.sWidth=null,u.sHeight=null,u.x=t,u.y=i,u.image=n,u.width&&(u.width=r),u.height&&(u.height=r),u.sx&&(u.sx=r),u.sy&&(u.sy=r),u.sWidth&&(u.sWidth=r),u.sHeight&&(u.sHeight=r),u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.ShapeParameters),n(e,[{key:"destroy",value:function(){this.x=null,this.y=null,this.image=null,this.width=null,this.height=null,this.sx=null,this.sy=null,this.sWidth=null,this.sHeight=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicCircle=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3);e.SmicCircle=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smiccircle",i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition,n=e.x+i[0],r=e.y+i[1];return t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,2*Math.PI,!0),!0}},{key:"getRect",value:function(t){if(t.__rect)return t.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e,i=this.refOriginalPosition,n=t.x+i[0],r=t.y+i[1],o=t.r;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(n-o-e/2),y:Math.round(r-o-e/2),width:2*o+e,height:2*o+e},t.__rect}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicEllipse=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3);e.SmicEllipse=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smicellipse",i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition,n=e.x+i[0],r=e.y+i[1],o=e.a,a=e.b,s=.5522848*o,l=.5522848*a;t.moveTo(n-o,r),t.bezierCurveTo(n-o,r-l,n-s,r-a,n,r-a),t.bezierCurveTo(n+s,r-a,n+o,r-l,n+o,r),t.bezierCurveTo(n+o,r+l,n+s,r+a,n,r+a),t.bezierCurveTo(n-s,r+a,n-o,r+l,n-o,r),t.closePath()}},{key:"getRect",value:function(t){if(t.__rect)return t.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e,i=this.refOriginalPosition;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x+i[0]-t.a-e/2),y:Math.round(t.x+i[1]-t.b-e/2),width:2*t.a+e,height:2*t.b+e},t.__rect}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicImage=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3);var o=e.SmicImage=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smicimage",i._imageCache=null,i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i._imageCache={},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,this._imageCache=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"brush",value:function(t,e,i){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var n=this.refOriginalPosition,o=this.style||{};e&&(o=this.getHighlightStyle(o,this.highlightStyle||{}));var a=o.image,s=this;if("string"==typeof a){var l=a;this._imageCache[l]?a=this._imageCache[l]:((a=new Image).onload=function(){a.onload=null,clearTimeout(r.Shape.SmicImage._refreshTimeout),r.Shape.SmicImage._needsRefresh.push(s),r.Shape.SmicImage._refreshTimeout=setTimeout(function(){i&&i(r.Shape.SmicImage._needsRefresh),r.Shape.SmicImage._needsRefresh=[]},10)},a.src=l,this._imageCache[l]=a)}if(a){if("IMG"==a.nodeName.toUpperCase())if(window.ActiveXObject){if("complete"!=a.readyState)return}else if(!a.complete)return;var h=o.width||a.width,u=o.height||a.height,c=o.x+n[0],f=o.y+n[1];if(!a.width||!a.height)return;if(t.save(),this.doClip(t),this.setContext(t,o),this.setTransform(t),o.sWidth&&o.sHeight){var d=o.sx+n[0]||0,p=o.sy+n[1]||0;t.drawImage(a,d,p,o.sWidth,o.sHeight,c,f,h,u)}else if(o.sx&&o.sy){var g=o.sx+n[0],_=o.sy+n[1],m=h-g,y=u-_;t.drawImage(a,g,_,m,y,c,f,h,u)}else t.drawImage(a,c,f,h,u);o.width||(o.width=h),o.height||(o.height=u),this.style.width||(this.style.width=h),this.style.height||(this.style.height=u),this.drawText(t,o,this.style),t.restore()}}},{key:"getRect",value:function(t){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e=this.refOriginalPosition;return{x:t.x+e[0],y:t.y+e[1],width:t.width,height:t.height}}},{key:"clearCache",value:function(){this._imageCache={}}}]),e}();r.Shape.SmicImage=o,r.Shape.SmicImage._needsRefresh=[],r.Shape.SmicImage._refreshTimeout=null},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicIsogon=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3);e.SmicIsogon=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smicisogon",i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition,n=Util_math.sin,r=Util_math.cos,o=Math.PI,a=e.n;if(a&&!(a<2)){var s=e.x+i[0],l=e.y+i[1],h=e.r,u=2*o/a,c=-o/2,f=s+h*r(c),d=l+h*n(c);c+=u;var p=e.pointList=[];p.push([f,d]);for(var g=0,_=a-1;g<_;g++)p.push([s+h*r(c),l+h*n(c)]),c+=u;p.push([f,d]),t.moveTo(p[0][0],p[0][1]);for(var m=0;m<p.length;m++)t.lineTo(p[m][0],p[m][1]);t.closePath()}}},{key:"getRect",value:function(t){if(t.__rect)return t.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e,i=this.refOriginalPosition;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x+i[0]-t.r-e/2),y:Math.round(t.y+i[1]-t.r-e/2),width:2*t.r+e,height:2*t.r+e},t.__rect}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicRing=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3);e.SmicRing=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smicring",i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition;t.arc(e.x+i[0],e.y+i[1],e.r,0,2*Math.PI,!1),t.moveTo(e.x+i[0]+e.r0,e.y+i[1]),t.arc(e.x+i[0],e.y+i[1],e.r0,0,2*Math.PI,!0)}},{key:"getRect",value:function(t){if(t.__rect)return t.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e,i=this.refOriginalPosition;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x+i[0]-t.r-e/2),y:Math.round(t.y+i[1]-t.r-e/2),width:2*t.r+e,height:2*t.r+e},t.__rect}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicSector=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3),o=i(7);e.SmicSector=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smicsector",i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition,n=e.x+i[0],r=e.y+i[1],a=e.r0||0,s=e.r,l=e.startAngle,h=e.endAngle,u=e.clockWise||!1;l=o.Util_math.degreeToRadian(l),h=o.Util_math.degreeToRadian(h),u||(l=-l,h=-h);var c=o.Util_math.cos(l),f=o.Util_math.sin(l);t.moveTo(c*a+n,f*a+r),t.lineTo(c*s+n,f*s+r),t.arc(n,r,s,l,h,!u),t.lineTo(o.Util_math.cos(h)*a+n,o.Util_math.sin(h)*a+r),0!==a&&t.arc(n,r,a,h,l,u),t.closePath()}},{key:"getRect",value:function(t){if(t.__rect)return t.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e=this.refOriginalPosition,i=o.Util_vector.create(),n=o.Util_vector.create(),r=o.Util_vector.create(),a=o.Util_vector.create(),s=t.x+e[0],l=t.y+e[1],h=t.r0||0,u=t.r,c=o.Util_math.degreeToRadian(t.startAngle),f=o.Util_math.degreeToRadian(t.endAngle),d=t.clockWise;return d||(c=-c,f=-f),h>1?o.Util_computeBoundingBox.arc(s,l,h,c,f,!d,i,r):(i[0]=r[0]=s,i[1]=r[1]=l),o.Util_computeBoundingBox.arc(s,l,u,c,f,!d,n,a),o.Util_vector.min(i,i,n),o.Util_vector.max(r,r,a),t.__rect={x:i[0],y:i[1],width:r[0]-i[0],height:r[1]-i[1]},t.__rect}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmicStar=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(3);e.SmicStar=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.type="smicstar",i.refOriginalPosition&&2===i.refOriginalPosition.length||(i.refOriginalPosition=[0,0]),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Shape),n(e,[{key:"destroy",value:function(){this.type=null,function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"buildPath",value:function(t,e){this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var i=this.refOriginalPosition,n=e.n;if(n&&!(n<2)){var r=Util_math.sin,o=Util_math.cos,a=Math.PI,s=e.x+i[0],l=e.y+i[1],h=e.r,u=e.r0;null==u&&(u=n>4?h*o(2*a/n)/o(a/n):h/3);var c=a/n,f=-a/2,d=s+h*o(f),p=l+h*r(f);f+=c;var g=e.pointList=[];g.push([d,p]);for(var _,m=0,y=2*n-1;m<y;m++)_=m%2==0?u:h,g.push([s+_*o(f),l+_*r(f)]),f+=c;g.push([d,p]),t.moveTo(g[0][0],g[0][1]);for(var v=0;v<g.length;v++)t.lineTo(g[v][0],g[v][1]);t.closePath()}}},{key:"getRect",value:function(t){if(t.__rect)return t.__rect;this.refOriginalPosition&&2===this.refOriginalPosition.length||(this.refOriginalPosition=[0,0]);var e,i=this.refOriginalPosition;return e="stroke"==t.brushType||"fill"==t.brushType?t.lineWidth||1:0,t.__rect={x:Math.round(t.x+i[0]-t.r-e/2),y:Math.round(t.y+i[1]-t.r-e/2),width:2*t.r+e,height:2*t.r+e},t.__rect}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(18),o=i(6);e.Rectangle=function(t){function e(t,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r));return o.x=null,o.y=null,o.width=null,o.height=null,o.x=t,o.y=i,o.width=n,o.height=r,o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Geometry),n(e,[{key:"calculateBounds",value:function(){this.bounds=new o.Bounds(this.x,this.y,this.x+this.width,this.y+this.height)}},{key:"getArea",value:function(){return this.width*this.height}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeFactory=void 0;var n=i(170),r=i(171),o=i(81),a=i(172),s=i(173),l=i(73),h=i(82),u=i(174);e.ThemeFactory={Bar:n.Bar,Bar3D:r.Bar3D,Circle:o.Circle,Line:a.Line,Pie:s.Pie,Point:l.Point,RankSymbol:h.RankSymbol,Ring:u.Ring}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bar=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(9),o=i(0),a=i(35),s=i(5),l=i(50),h=i(57);e.Bar=function(t){function e(t,i,n,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Graph),n(e,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var t={showShadow:!0,shadowBlur:8,shadowColor:"rgba(100,100,100,0.8)",shadowOffsetX:2,shadowOffsetY:2},e=this.setting;if(void 0!==e.barLinearGradient&&(e.barLinearGradient=[["#00FF00","#00CD00"],["#00CCFF","#5E87A2"],["#00FF66","#669985"],["#CCFF00","#94A25E"],["#FF9900","#A2945E"]]),e.dataViewBoxParameter||(void 0===e.useAxis||e.useAxis?e.dataViewBoxParameter=[45,15,15,15]:e.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var i=this.DVBCodomain;this.DVBUnitValue=(i[1]-i[0])/this.DVBHeight;var n=this.dataViewBox,r=this.dataValues;if(!(r.length<1)){for(var a=0,h=r.length;a<h;a++)if(r[a]<i[0]||r[a]>i[1])return;var u=this.calculateXShapeInfo();if(u){var c=u.xPositions,f=u.width;(void 0===e.useBackground||e.useBackground)&&this.shapes.push(s.ShapeFactory.Background(this.shapeFactory,this.chartBox,e)),(void 0===e.useAxis||e.useAxis)&&(this.shapes=this.shapes.concat(s.ShapeFactory.GraphAxis(this.shapeFactory,n,e,u)));for(var d=0;d<r.length;d++){var p=n[1]-(r[d]-i[0])/this.DVBUnitValue,g=[[c[d]-f/2,n[1]-1],[c[d]+f/2,n[1]-1],[c[d]+f/2,p],[c[d]-f/2,p]],_=new l.Polygon(g);if(void 0===e.showShadow||e.showShadow){if(e.barShadowStyle){var m=e.barShadowStyle;m.shadowBlur&&(t.shadowBlur=m.shadowBlur),m.shadowColor&&(t.shadowColor=m.shadowColor),m.shadowOffsetX&&(t.shadowOffsetX=m.shadowOffsetX),m.shadowOffsetY&&(t.shadowOffsetY=m.shadowOffsetY)}_.style={},(0,o.copyAttributesWithClip)(_.style,t)}_.refDataID=this.data.id,_.dataInfo={field:this.fields[d],value:r[d]},void 0!==e.barHoverAble&&(_.hoverable=e.barHoverAble),void 0!==e.barClickAble&&(_.clickable=e.barClickAble),this.shapes.push(this.shapeFactory.createShape(_))}this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var t,e=this.dataViewBox,i=this.setting,n=this.dataValues.length;if(n<1)return null;var r=[],o=0,a=this.DVBWidth;if(i.xShapeBlank&&i.xShapeBlank.length&&3==i.xShapeBlank.length){var s=a-((t=i.xShapeBlank)[0]+t[2]+(n-1)*t[1]);if(s<=n)return null;o=s/n}else t=[o=a/(2*n+1),o,o];for(var l=0,h=0;h<n;h++)0==h?l=t[0]+o/2:l+=o+t[1],r.push(e[0]+l);return{xPositions:r,width:o}}},{key:"resetLinearGradient",value:function(){if(this.RelativeCoordinate)for(var t=this.shapes.length,e=this.setting.barLinearGradient,i=-1,n=0;n<t;n++){var r=this.shapes[n];if(r instanceof a.SmicPolygon){var o=r.style,s=this.location[0]+o.pointList[0][0],l=this.location[0]+o.pointList[1][0];++i>=e.length&&(i%=e.length);var u=e[i][0],c=e[i][1],f=(new h.Color).getLinearGradient(s,0,l,0,[[0,u],[1,c]]);r.style.color=f}}}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bar3D=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(9),o=i(0),a=i(5),s=i(50);e.Bar3D=function(t){function e(t,i,n,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Graph),n(e,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var t=this.setting;if(t.dataViewBoxParameter||(void 0===t.useAxis||t.useAxis?t.dataViewBoxParameter=[45,25,20,20]:t.dataViewBoxParameter=[5,5,5,5]),t.axisUseArrow=void 0===t.axisUseArrow||t.axisUseArrow,t.axisXLabelsOffset=void 0!==t.axisXLabelsOffset?t.axisXLabelsOffset:[-10,10],this.initBaseParameter()){var e=this.DVBCodomain;this.DVBUnitValue=(e[1]-e[0])/this.DVBHeight;var i=this.dataViewBox,n=this.dataValues;if(!(n.length<1)){for(var r=0,l=n.length;r<l;r++)if(n[r]<e[0]||n[r]>e[1])return;var h=this.calculateXShapeInfo();if(h){var u=h.xPositions,c=h.width;(void 0===t.useBackground||t.useBackground)&&this.shapes.push(a.ShapeFactory.Background(this.shapeFactory,this.chartBox,t)),(!t.axis3DParameter||isNaN(t.axis3DParameter)||t.axis3DParameter<15)&&(t.axis3DParameter=20),(void 0===t.useAxis||t.useAxis)&&(this.shapes=this.shapes.concat(a.ShapeFactory.GraphAxis(this.shapeFactory,i,t,h)));for(var f=t.bar3DParameter&&!isNaN(t.bar3DParameter)?t.bar3DParameter:10,d=0;d<n.length;d++){var p=i[1]-(n[d]-e[0])/this.DVBUnitValue,g=u[d]-c/2,_=u[d]+c/2,m=[[g,p],[_,p],[_-f,p+f],[g-f,p+f]],y=[[_,p],[_-f,p+f],[_-f,i[1]+f],[_,i[1]]],v=[[g-f,i[1]+f],[_-f,i[1]+f],[_-f,p+f],[g-f,p+f]];f<=0&&(v=[[g,i[1]],[_,i[1]],[_,p],[g,p]]);var b=new s.Polygon(m),x=new s.Polygon(y),L=new s.Polygon(v);t.barSideStyle=t.barSideStyle?t.barSideStyle:t.barFaceStyle,t.barSideStyleByFields=t.barSideStyleByFields?t.barSideStyleByFields:t.barFaceStyleByFields,t.barSideStyleByCodomain=t.barSideStyleByCodomain?t.barSideStyleByCodomain:t.barFaceStyleByCodomain,t.barTopStyle=t.barTopStyle?t.barTopStyle:t.barFaceStyle,t.barTopStyleByFields=t.barTopStyleByFields?t.barTopStyleByFields:t.barFaceStyleByFields,t.barTopStyleByCodomain=t.barTopStyleByCodomain?t.barTopStyleByCodomain:t.barFaceStyleByCodomain,L.style=a.ShapeFactory.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},t.barFaceStyle,t.barFaceStyleByFields,t.barFaceStyleByCodomain,d,n[d]),x.style=a.ShapeFactory.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},t.barSideStyle,t.barSideStyleByFields,t.barSideStyleByCodomain,d,n[d]),b.style=a.ShapeFactory.ShapeStyleTool({stroke:!0,strokeColor:"#ffffff",fillColor:"#ee9900"},t.barTopStyle,t.barTopStyleByFields,t.barTopStyleByCodomain,d,n[d]),t.barSideHoverStyle=t.barSideHoverStyle?t.barSideHoverStyle:t.barFaceHoverStyle,t.barTopHoverStyle=t.barTopHoverStyle?t.barTopHoverStyle:t.barFaceHoverStyle,L.highlightStyle=a.ShapeFactory.ShapeStyleTool({stroke:!0},t.barFaceHoverStyle),x.highlightStyle=a.ShapeFactory.ShapeStyleTool({stroke:!0},t.barSideHoverStyle),b.highlightStyle=a.ShapeFactory.ShapeStyleTool({stroke:!0},t.barTopHoverStyle),b.refDataID=x.refDataID=L.refDataID=this.data.id,b.isHoverByRefDataID=x.isHoverByRefDataID=L.isHoverByRefDataID=!0,b.refDataHoverGroup=x.refDataHoverGroup=L.refDataHoverGroup=(0,o.createUniqueID)("lr_shg"),b.dataInfo=x.dataInfo=L.dataInfo={field:this.fields[d],value:n[d]},void 0!==t.barHoverAble&&(b.hoverable=x.hoverable=L.hoverable=t.barHoverAble),void 0!==t.barClickAble&&(b.clickable=x.clickable=L.clickable=t.barClickAble),this.shapes.push(this.shapeFactory.createShape(x)),this.shapes.push(this.shapeFactory.createShape(b)),this.shapes.push(this.shapeFactory.createShape(L))}this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var t,e=this.dataViewBox,i=this.setting,n=this.dataValues.length;if(n<1)return null;var r=[],o=0,a=this.DVBWidth;if(i.xShapeBlank&&i.xShapeBlank.length&&3==i.xShapeBlank.length){var s=a-((t=i.xShapeBlank)[0]+t[2]+(n-1)*t[1]);if(s<=n)return null;o=s/n}else t=[o=a/(2*n+1),o,o];for(var l=0,h=0;h<n;h++)0==h?l=t[0]+o/2:l+=o+t[1],r.push(e[0]+l);return{xPositions:r,width:o}}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(9),o=i(5),a=i(49),s=i(74);e.Line=function(t){function e(t,i,n,r,o,a){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,o,a))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Graph),n(e,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var t=this.setting;if(t.dataViewBoxParameter||(void 0===t.useAxis||t.useAxis?t.dataViewBoxParameter=[45,15,15,15]:t.dataViewBoxParameter=[5,5,5,5]),this.initBaseParameter()){var e=this.dataViewBox,i=this.DVBCodomain;this.DVBUnitValue=(i[1]-i[0])/this.DVBHeight;var n=this.DVBUnitValue,r=this.dataValues;if(!(r.length<1)){var l=this.calculateXShapeInfo();if(l){var h,u,c=l.xPositions;(void 0===t.useBackground||t.useBackground)&&this.shapes.push(o.ShapeFactory.Background(this.shapeFactory,this.chartBox,t)),this.shapes=this.shapes.concat(o.ShapeFactory.GraphAxis(this.shapeFactory,e,t,l));for(var f=[],d=[],p=0,g=r.length;p<g;p++){if(r[p]<i[0]||r[p]>i[1])return null;h=c[p],u=e[1]-(r[p]-i[0])/n;var _=new a.Point(h,u);_.style=o.ShapeFactory.ShapeStyleTool({fillColor:"#ee9900"},t.pointStyle,t.pointStyleByFields,t.pointStyleByCodomain,p,r[p]),_.highlightStyle=o.ShapeFactory.ShapeStyleTool(null,t.pointHoverStyle),void 0!==t.pointHoverAble&&(_.hoverable=t.pointHoverAble),void 0!==t.pointClickAble&&(_.clickable=t.pointClickAble),_.refDataID=this.data.id,_.dataInfo={field:this.fields[p],value:r[p]},d.push(this.shapeFactory.createShape(_));var m=[h,u];f.push(m)}var y=new s.Line(f);y.style=o.ShapeFactory.ShapeStyleTool({strokeColor:"#ee9900"},t.lineStyle),y.clickable=!1,y.hoverable=!1;var v=this.shapeFactory.createShape(y);this.shapes.push(v),this.shapes=this.shapes.concat(d),this.shapesConvertToRelativeCoordinate()}}}}},{key:"calculateXShapeInfo",value:function(){var t,e=this.dataViewBox,i=this.setting,n=this.dataValues.length;if(n<1)return null;var r=[],o=this.DVBWidth,a=0;if(i.xShapeBlank&&i.xShapeBlank.length&&2==i.xShapeBlank.length){var s=o-((t=i.xShapeBlank)[0]+t[1]);if(s<=n)return null;a=s/(n-1)}else t=[a=o/(n+1),a,a];for(var l=0,h=0;h<n;h++)0==h?l=t[0]:l+=a,r.push(e[0]+l);return{xPositions:r,width:0}}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pie=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(9),o=i(51),a=i(5);e.Pie=function(t){function e(t,i,n,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Graph),n(e,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){var t=this.setting,e=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}];if(this.initBaseParameter()){t.useBackground&&this.shapes.push(a.ShapeFactory.Background(this.shapeFactory,this.chartBox,t));var i=this.dataValues;if(!(i.length<1)){for(var n=this.DVBCodomain,r=0;r<i.length;r++)if(i[r]<n[0]||i[r]>n[1])return;for(var s=0,l=0;l<i.length;l++)s+=Math.abs(i[l]);this.DVBUnitValue=360/s;for(var h=this.DVBUnitValue,u=this.DVBCenterPoint,c=0,f=0,d=c,p=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,g=0;g<i.length;g++){var _=Math.abs(i[g]);(f=0===g?c+_*h:g===_.length-1?d:c+_*h)-c>=360&&(f=359.9999999);var m=new o.Sector(u[0],u[1],p,c,f);if(void 0===t.sectorStyleByFields){var y=g%e.length;m.style=a.ShapeFactory.ShapeStyleTool(null,t.sectorStyle,e,null,y)}else m.style=a.ShapeFactory.ShapeStyleTool(null,t.sectorStyle,t.sectorStyleByFields,t.sectorStyleByCodomain,g,i[g]);m.highlightStyle=a.ShapeFactory.ShapeStyleTool(null,t.sectorHoverStyle),void 0!==t.sectorHoverAble&&(m.hoverable=t.sectorHoverAble),void 0!==t.sectorClickAble&&(m.clickable=t.sectorClickAble),m.refDataID=this.data.id,m.dataInfo={field:this.fields[g],value:i[g]},this.shapes.push(this.shapeFactory.createShape(m)),c=f}this.shapesConvertToRelativeCoordinate()}}}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ring=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(9),o=i(51),a=i(5);e.Ring=function(t){function e(t,i,n,r,o){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,i,n,r,o))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.Graph),n(e,[{key:"destroy",value:function(){(function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"assembleShapes",value:function(){if(this.initBaseParameter()){var t=[{fillColor:"#ff9277"},{fillColor:"#dddd00"},{fillColor:"#ffc877"},{fillColor:"#bbe3ff"},{fillColor:"#d5ffbb"},{fillColor:"#bbbbff"},{fillColor:"#ddb000"},{fillColor:"#b0dd00"},{fillColor:"#e2bbff"},{fillColor:"#ffbbe3"},{fillColor:"#ff7777"},{fillColor:"#ff9900"},{fillColor:"#83dd00"},{fillColor:"#77e3ff"},{fillColor:"#778fff"},{fillColor:"#c877ff"},{fillColor:"#ff77ab"},{fillColor:"#ff6600"},{fillColor:"#aa8800"},{fillColor:"#77c7ff"},{fillColor:"#ad77ff"},{fillColor:"#ff77ff"},{fillColor:"#dd0083"},{fillColor:"#777700"},{fillColor:"#00aa00"},{fillColor:"#0088aa"},{fillColor:"#8400dd"},{fillColor:"#aa0088"},{fillColor:"#dd0000"},{fillColor:"#772e00"}],e=this.setting;e.useBackground&&this.shapes.push(a.ShapeFactory.Background(this.shapeFactory,this.chartBox,e));var i=this.dataValues;if(!(i.length<1)){for(var n=this.DVBCodomain,r=0;r<i.length;r++)if(i[r]<n[0]||i[r]>n[1])return;for(var s=0,l=0;l<i.length;l++)s+=Math.abs(i[l]);this.DVBUnitValue=360/s;for(var h=this.DVBUnitValue,u=this.DVBCenterPoint,c=0,f=0,d=c,p=this.DVBHeight<this.DVBWidth?this.DVBHeight/2:this.DVBWidth/2,g=e.innerRingRadius>=0&&e.innerRingRadius<p,_=void 0!==e.innerRingRadius&&!isNaN(e.innerRingRadius)&&g?e.innerRingRadius:0,m=0;m<i.length;m++){var y=Math.abs(i[m]);f=0===m?c+y*h:m===y.length-1?d:c+y*h;var v=new o.Sector(u[0],u[1],p,c,f,_);if(void 0===e.sectorStyleByFields){var b=m%t.length;v.style=a.ShapeFactory.ShapeStyleTool(null,e.sectorStyle,t,null,b)}else v.style=a.ShapeFactory.ShapeStyleTool(null,e.sectorStyle,e.sectorStyleByFields,e.sectorStyleByCodomain,m,i[m]);v.highlightStyle=a.ShapeFactory.ShapeStyleTool(null,e.sectorHoverStyle),void 0!==e.sectorHoverAble&&(v.hoverable=e.sectorHoverAble),void 0!==e.sectorClickAble&&(v.clickable=e.sectorClickAble),v.refDataID=this.data.id,v.dataInfo={field:this.fields[m],value:i[m]},this.shapes.push(this.shapeFactory.createShape(v)),c=f}this.shapesConvertToRelativeCoordinate()}}}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServerGeometry=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(4),o=i(29),a=i(20),s=i(8),l=i(52),h=i(21),u=i(53),c=i(0),f=i(31),d=i(176);e.ServerGeometry=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=0,this.style=null,this.parts=null,this.points=null,this.type=null,this.prjCoordSys=null,e&&(0,c.extend)(this,e)}return n(t,[{key:"destroy",value:function(){this.id=null,this.style=null,this.parts=null,this.partTopo=null,this.points=null,this.type=null,this.prjCoordSys=null}},{key:"toGeometry",value:function(){switch(this.type){case f.GeometryType.POINT:return this.toGeoPoint();case f.GeometryType.LINE:return this.toGeoLine();case f.GeometryType.LINEM:return this.toGeoLinem();case f.GeometryType.REGION:return this.toGeoRegion();case f.GeometryType.POINTEPS:return this.toGeoPoint();case f.GeometryType.LINEEPS:return this.toGeoLineEPS();case f.GeometryType.REGIONEPS:return this.toGeoRegionEPS()}}},{key:"toGeoPoint",value:function(){var t=this.parts||[],e=this.points||[],i=t.length;if(i>0){if(1===i)return new r.Point(e[0].x,e[0].y);for(var n=[],a=0;a<i;a++)n.push(new r.Point(e[a].x,e[a].y));return new o.MultiPoint(n)}return null}},{key:"toGeoLine",value:function(){var t=this.parts||[],e=this.points||[],i=t.length;if(i>0){if(1===i){for(var n=[],o=0;o<t[0];o++)n.push(new r.Point(e[o].x,e[o].y));return n[0].equals(n[t[0]-1])?new a.LinearRing(n):new s.LineString(n)}for(var h=[],u=0;u<i;u++){for(var c=[],f=0;f<t[u];f++)c.push(new r.Point(e[f].x,e[f].y));h.push(new s.LineString(c)),e.splice(0,t[u])}return new l.MultiLineString(h)}return null}},{key:"toGeoLineEPS",value:function(){var t,e,i,n,o,a=this.parts||[],h=this.points||[],u=a.length;if(u>0){if(1===u){for(t=0,i=[];t<a[0];t++)i.push(new r.Point(h[t].x,h[t].y,h[t].type));return i[0].equals(i[a[0]-1])?(o=s.LineString.createLineEPS(i),new Geometry.LineRing(o)):(o=s.LineString.createLineEPS(i),new s.LineString(o))}for(t=0,n=[];t<u;t++){for(e=0,i=[];e<a[t];e++)i.push(new r.Point(h[e].x,h[e].y));o=s.LineString.createLineEPS(i),n.push(new s.LineString(o)),h.splice(0,a[t])}return new l.MultiLineString(n)}return null}},{key:"toGeoLinem",value:function(){return new Route.fromJson(this)}},{key:"toGeoRegion",value:function(){var e=this.parts||[],i=this.partTopo||[],n=this.points||[],o=e.length;if(o<=0)return null;var s=[],l=[];if(1==o){for(var c=0;c<n.length;c++)l.push(new r.Point(n[c].x,n[c].y));return s.push(new h.Polygon([new a.LinearRing(l)])),new u.MultiPolygon(s)}for(var f=[],d=[],p=[],g=[],_=0,m=0;_<o;_++){for(var y=0;y<e[_];y++)l.push(new r.Point(n[m+y].x,n[m+y].y));m+=e[_];var v=new h.Polygon([new a.LinearRing(l)]);l=[],p.push(v),g.push(1),d.push(v.getArea())}if(t.bubbleSort(d,p,i),0===i.length){for(var b=[],x=1;x<p.length;x++)for(var L=x-1;L>=0;L--)if(b[x]=-1,p[L].getBounds().containsBounds(p[x].getBounds())){g[x]=-1*g[L],g[x]<0&&(b[x]=L);break}for(var w=0;w<p.length;w++)g[w]>0?s.push(p[w]):(s[b[w]].components=s[b[w]].components.concat(p[w].components),s.push(""))}else{s=new Array;for(var C=0;C<p.length;C++)if(i[C]&&-1==i[C]?f=f.concat(p[C].components):(f.length>0&&s.length>0&&(s[s.length-1].components=s[s.length-1].components.concat(f),f=[]),s.push(p[C])),C==o-1){var I=s.length;if(I)s[I-1].components=s[I-1].components.concat(f);else for(var M=0,E=f.length;M<E;M++)s.push(new h.Polygon(f))}}return new u.MultiPolygon(s)}},{key:"toGeoRegionEPS",value:function(){var e=this.parts||[],i=this.partTopo||[],n=this.points||[],o=e.length;if(o<=0)return null;var l,c=[],f=[];if(1==o){for(var d=0;d<n.length;d++)f.push(new r.Point(n[d].x,n[d].y));return l=s.LineString.createLineEPS(f),c.push(new h.Polygon([new a.LinearRing(l)])),new u.MultiPolygon(c)}for(var p=[],g=[],_=[],m=[],y=0,v=0;y<o;y++){for(var b=0;b<e[y];b++)f.push(new r.Point(n[v+b].x,n[v+b].y));v+=e[y],l=s.LineString.createLineEPS(f);var x=new h.Polygon([new a.LinearRing(l)]);f=[],_.push(x),m.push(1),g.push(x.getArea())}if(t.bubbleSort(g,_,i),0===i.length){for(var L=[],w=1;w<_.length;w++)for(var C=w-1;C>=0;C--)if(L[w]=-1,_[C].getBounds().containsBounds(_[w].getBounds())){m[w]=-1*m[C],m[w]<0&&(L[w]=C);break}for(var I=0;I<_.length;I++)m[I]>0?c.push(_[I]):(c[L[I]].components=c[L[I]].components.concat(_[I].components),c.push(""))}else{c=new Array;for(var M=0;M<_.length;M++)if(i[M]&&-1==i[M]?p=p.concat(_[M].components):(p.length>0&&c.length>0&&(c[c.length-1].components=c[c.length-1].components.concat(p),p=[]),c.push(_[M])),M==o-1){var E=c.length;if(E)c[E-1].components=c[E-1].components.concat(p);else for(var O=0,S=p.length;O<S;O++)c.push(new h.Polygon(p))}}return new u.MultiPolygon(c)}}],[{key:"fromJson",value:function(e){if(e)return new t({id:e.id,style:d.ServerStyle.fromJson(e.style),parts:e.parts,partTopo:e.partTopo,points:e.points,center:e.center,length:e.length,maxM:e.maxM,minM:e.minM,type:e.type})}},{key:"fromGeometry",value:function(e){if(e){var i=0,n=[],c=[],d=null,p=e.components,g={epsgCode:e.SRID};if(isNaN(e.id)||(i=e.id),e instanceof a.LinearRing||e instanceof s.LineString||!(e instanceof o.MultiPoint||e instanceof l.MultiLineString))if(e instanceof u.MultiPolygon){for(var _=p.length,m=0;m<_;m++)for(var y=p[m].components,v=y.length,b=0;b<v;b++){var x=y[b].getVertices().length+1;n.push(x);for(var L=0;L<x-1;L++)c.push(new r.Point(y[b].getVertices()[L].x,y[b].getVertices()[L].y));c.push(new r.Point(y[b].getVertices()[0].x,y[b].getVertices()[0].y))}d=f.GeometryType.REGION}else if(e instanceof h.Polygon){for(var w=p.length,C=0;C<w;C++){var I=p[C].getVertices().length+1;n.push(I);for(var M=0;M<I-1;M++)c.push(new r.Point(p[C].getVertices()[M].x,p[C].getVertices()[M].y));c.push(new r.Point(p[C].getVertices()[0].x,p[C].getVertices()[0].y))}d=f.GeometryType.REGION}else{for(var E=e.getVertices().length,O=0;O<E;O++)c.push(new r.Point(e.getVertices()[O].x,e.getVertices()[O].y));e instanceof a.LinearRing&&(c.push(new r.Point(e.getVertices()[0].x,e.getVertices()[0].y)),E++),n.push(E),d=e instanceof r.Point?f.GeometryType.POINT:f.GeometryType.LINE}else{for(var S=p.length,P=0;P<S;P++){var k=p[P].getVertices().length;n.push(k);for(var N=0;N<k;N++)c.push(new r.Point(p[P].getVertices()[N].x,p[P].getVertices()[N].y))}d=e instanceof o.MultiPoint?f.GeometryType.POINT:f.GeometryType.LINE}return new t({id:i,style:null,parts:n,points:c,type:d,prjCoordSys:g})}}},{key:"IsClockWise",value:function(t){var e=t.length;if(e<3)return 0;var i=t[0].y*(t[e-1].x-t[1].x);t.push(t[0]);for(var n=1;n<e;n++)i+=t[n].y*(t[n-1].x-t[n+1].x);return.5*i}},{key:"bubbleSort",value:function(t,e,i){for(var n=0;n<t.length;n++)for(var r=0;r<t.length;r++)if(t[n]>t[r]){var o=t[r];t[r]=t[n],t[n]=o;var a=e[r];if(e[r]=e[n],e[n]=a,i&&i.length>0){var s=i[r];i[r]=i[n],i[n]=s}}}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServerStyle=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(177),o=i(0);e.ServerStyle=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fillBackColor=null,this.fillBackOpaque=!1,this.fillForeColor=null,this.fillGradientMode=null,this.fillGradientAngle=0,this.fillGradientOffsetRatioX=0,this.fillGradientOffsetRatioY=0,this.fillOpaqueRate=100,this.fillSymbolID=0,this.lineColor=null,this.lineSymbolID=0,this.lineWidth=1,this.markerAngle=0,this.markerSize=1,this.markerSymbolID=-1;this.fillBackColor=new r.ServerColor(255,255,255),this.fillForeColor=new r.ServerColor(255,0,0),this.lineColor=new r.ServerColor(0,0,0),e&&(0,o.extend)(this,e)}return n(t,[{key:"destroy",value:function(){var t=this;t.fillBackColor&&(t.fillBackColor.destroy(),t.fillBackColor=null),t.fillBackOpaque=null,t.fillForeColor&&(t.fillForeColor.destroy(),t.fillForeColor=null),t.fillGradientMode=null,t.fillGradientAngle=null,t.fillGradientOffsetRatioX=null,t.fillGradientOffsetRatioY=null,t.fillOpaqueRate=null,t.fillSymbolID=null,t.lineColor&&(t.lineColor.destroy(),t.lineColor=null),t.lineSymbolID=null,t.lineWidth=null,t.markerAngle=null,t.markerSize=null,t.markerSymbolID=null}},{key:"toServerJSONObject",value:function(){var t={};return t=Util.copyAttributes(t,this)}}],[{key:"fromJson",value:function(e){if(e)return new t({fillBackColor:r.ServerColor.fromJson(e.fillBackColor),fillBackOpaque:e.fillBackOpaque,fillForeColor:r.ServerColor.fromJson(e.fillForeColor),fillGradientMode:e.fillGradientMode,fillGradientAngle:e.fillGradientAngle,fillGradientOffsetRatioX:e.fillGradientOffsetRatioX,fillGradientOffsetRatioY:e.fillGradientOffsetRatioY,fillOpaqueRate:e.fillOpaqueRate,fillSymbolID:e.fillSymbolID,lineColor:r.ServerColor.fromJson(e.lineColor),lineSymbolID:e.lineSymbolID,lineWidth:e.lineWidth,markerAngle:e.markerAngle,markerSize:e.markerSize,markerSymbolID:e.markerSymbolID})}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.ServerColor=function(){function t(e,i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.red=255,this.green=0,this.blue=0,this.red=e||0==e?e:255,this.green=i||0==i?i:0,this.blue=n||0==n?n:0}return n(t,[{key:"destroy",value:function(){this.red=null,this.green=null,this.blue=null}}],[{key:"fromJson",value:function(e){if(e){var i=new t,n=255;null!==e.red&&(n=Number(e.red)),i.red=n;var r=0;null!==e.green&&(r=Number(e.green)),i.green=r;var o=0;return null!==e.blue&&(o=Number(e.blue)),i.blue=o,i}}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.labelThemeLayer=e.LabelThemeLayer=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n},a=i(13),s=i(36),l=i(4),h=i(6),u=i(0),c=i(55);var f=e.LabelThemeLayer=c.GeoFeatureThemeLayer.extend({options:{isOverLay:!0,isAvoid:!0},initialize:function(t,e){c.GeoFeatureThemeLayer.prototype.initialize.call(this,t,e),o.default.Util.setOptions(this,e),this.style=[],this.themeField=null,this.styleGroups=[],this.defaultStyle={fontColor:"#000000",fontOpacity:1,fontSize:"12px",fontStyle:"normal",fontWeight:"normal",labelAlign:"cm",labelXOffset:0,labelYOffset:0,labelRotation:0,fill:!1,fillColor:"#ee9900",fillOpacity:.4,stroke:!1,strokeColor:"#ee9900",strokeOpacity:1,strokeWidth:1,strokeLinecap:"round",strokeDashstyle:"solid",labelRect:!0,labelSelect:!0,_isGeoTextStrategyStyle:!0},this.getPxBoundsMode=0},redrawThematicFeatures:function(t){if(!this.labelFeatures||0==this.labelFeatures.length){var e=this.setLabelsStyle(this.features);this.labelFeatures=[];for(var i=0,n=e.length;i<n;i++)this.labelFeatures.push(e[i])}this.features=this.getDrawnLabels(this.labelFeatures),c.GeoFeatureThemeLayer.prototype.redrawThematicFeatures.call(this,t)},getDrawnLabels:function(t){for(var e,i,n,r,o=[],l=[],c={labelAlign:"cm",labelXOffset:0,labelYOffset:0},f=this._map,d=f.getSize(),p=f.getZoom(),g=0,_=t.length;g<_;g++){((i=t[g]).isStyleChange||void 0===i.isStyleChange)&&(i=this.setStyle(i));var m=this.getLabelPxLocation(i);if(m.x>=0&&m.x<=d.x&&m.y>=0&&m.y<=d.y){if(i.style.minZoomLevel>-1&&p<=i.style.minZoomLevel)continue;if(i.style.maxZoomLevel>-1&&p>i.style.maxZoomLevel)continue;var y=null;i.isStyleChange?(i.isStyleChange=null,y=this.calculateLabelBounds(i,m)):y=i.geometry.bsInfo.w&&i.geometry.bsInfo.h?this.calculateLabelBounds2(i,m):this.calculateLabelBounds(i,m);var v=new h.Bounds(0,d.y,d.x,0),b=y.length;if(this.options.isAvoid){var x=this.getAvoidInfo(v,y);if(x){if("left"===x.aspectW){i.style.labelXOffset+=x.offsetX;for(var L=0;L<b;L++)y[L].x+=x.offsetX}else if("right"===x.aspectW){i.style.labelXOffset+=-x.offsetX;for(var w=0;w<b;w++)y[w].x+=-x.offsetX}if("top"===x.aspectH){i.style.labelYOffset+=x.offsetY;for(var C=0;C<b;C++)y[C].y+=x.offsetY}else if("bottom"===x.aspectH){i.style.labelYOffset+=-x.offsetY;for(var I=0;I<b;I++)y[I].y+=-x.offsetY}i.isStyleChange=!0}}if(this.options.isOverLay){var M=!1;if(0!=g)for(var E=0;E<l.length;E++)if(this.isQuadrilateralOverLap(y,l[E])){M=!0;break}if(M)continue;l.push(y)}for(var O=[],S=0;S<b-1;S++)O.push(f.containerPointToLatLng(y[S]));var P=f.options.crs.project(O[3]),k=f.options.crs.project(O[1]),N=new h.Bounds(P.x,P.y,k.x,[k.y]).getCenterLonLat(),T=new s.GeoText(N.lon,N.lat,i.attributes[this.themeField]);T.calculateBounds(),n=(0,u.cloneObject)(i.style),r=(0,u.cloneObject)((0,u.copyAttributes)(n,c)),(e=new a.Vector(T,i.attributes,r)).id=i.id,e.fid=i.fid,o.push(e)}}return o},getStyleByData:function(t){var e=t;if(e.style=(0,u.copyAttributes)(e.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),e.style=(0,u.copyAttributes)(e.style,this.style),this.themeField&&this.styleGroups&&e.attributes){var i=this.themeField,n=e.attributes,r=this.styleGroups,o=!1,a=null;for(var s in n)if(i===s){o=!0,a=n[s];break}if(o)for(var l=0,h=r.length;l<h;l++)if(a>=r[l].start&&a<r[l].end){var c=r[l].style;c&&c.fontSize&&parseFloat(c.fontSize)<12&&(c.fontSize="12px"),e.style=(0,u.copyAttributes)(e.style,c)}e.style.label=e.attributes[this.themeField]}return e.style},setLabelsStyle:function(t){for(var e,i=[],n=0,r=t.length;n<r;n++){var o=t[n];if(!(o.geometry instanceof s.GeoText))return t;(o.geometry.bsInfo.w||o.geometry.bsInfo.h)&&(o.geometry.bsInfo.w=null,o.geometry.bsInfo.h=null,o.geometry.labelWTmp=null),(e=this.setStyle(o)).layer=this.layer,i.push(e)}return i},setStyle:function(t){var e=t;if(e.style=(0,u.copyAttributes)(e.style,this.defaultStyle),this.style&&this.style.fontSize&&parseFloat(this.style.fontSize)<12&&(this.style.fontSize="12px"),e.style=(0,u.copyAttributes)(e.style,this.style),this.groupField&&this.styleGroups&&e.attributes){var i=this.groupField,n=e.attributes,r=this.styleGroups,o=!1,a=null;for(var s in n)if(i===s){o=!0,a=n[s];break}if(o)for(var l=0,h=r.length;l<h;l++)if(a>=r[l].start&&a<r[l].end){var c=r[l].style;c&&c.fontSize&&parseFloat(c.fontSize)<12&&(c.fontSize="12px"),e.style=(0,u.copyAttributes)(e.style,c)}}return e.style.label=e.geometry.text,e},getLabelPxLocation:function(t){var e=t.geometry,i=t.style,n=e.getCentroid(),r=this._map.latLngToContainerPoint(this._map.options.crs.unproject(o.default.point(n.x,n.y))),a=o.default.point(r.x,r.y);if(i.labelXOffset||i.labelYOffset){var s=isNaN(i.labelXOffset)?0:i.labelXOffset,l=isNaN(i.labelYOffset)?0:i.labelYOffset;return a.add(s,-l),o.default.point(a.x,a.y)}return o.default.point(a.x,a.y)},calculateLabelBounds:function(t,e){var i=t.geometry,n=null,r=null;if(0==this.getPxBoundsMode)n=i.getLabelPxBoundsByText(e,t.style);else{if(1!==this.getPxBoundsMode)return null;r=this.getLabelInfo(t.geometry.getCentroid(),t.style),n=i.getLabelPxBoundsByLabel(e,r.w,r.h,t.style)}var o=[];return o=t.style.labelRotation%180==0?[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.right,y:n.bottom},{x:n.left,y:n.bottom},{x:n.left,y:n.top}]:this.rotationBounds(n,e,t.style.labelRotation),i.bounds=new h.Bounds(o[1].x,o[3].y,o[2].x,o[4].y),o},calculateLabelBounds2:function(t,e){var i,n,r,o,a,s=t.geometry.bsInfo,l=t.style,c=(0,u.cloneObject)(e);if(l.labelAlign&&"cm"!==l.labelAlign)switch(l.labelAlign){case"lt":c.x+=s.w/2,c.y+=s.h/2;break;case"lm":c.x+=s.w/2;break;case"lb":c.x+=s.w/2,c.y-=s.h/2;break;case"ct":c.y+=s.h/2;break;case"cb":c.y-=s.h/2;break;case"rt":c.x-=s.w/2,c.y+=s.h/2;break;case"rm":c.x-=s.w/2;break;case"rb":c.x-=s.w/2,c.y-=s.h/2}n=c.x-s.w/2,r=c.y+s.h/2,a=l.fontStyle&&"italic"===l.fontStyle?c.x+s.w/2+parseInt(parseFloat(l.fontSize)/2):c.x+s.w/2,o=c.y-s.h/2,i=new h.Bounds(n,r,a,o);var f=[];return f=l.labelRotation%180==0?[{x:i.left,y:i.top},{x:i.right,y:i.top},{x:i.right,y:i.bottom},{x:i.left,y:i.bottom},{x:i.left,y:i.top}]:this.rotationBounds(i,e,l.labelRotation),t.geometry.bounds=new h.Bounds(f[1].x,f[3].y,f[2].x,f[4].y),f},getLabelInfo:function(t,e){var i={l:"left",r:"right",t:"top",b:"bottom"},n={l:0,r:-1,t:0,b:-1};e=(0,u.extend)({fontColor:"#000000",labelAlign:"cm"},e);var r=this.getLocalXY(t),o=0;if(e.labelXOffset||e.labelYOffset){var a=isNaN(e.labelXOffset)?0:e.labelXOffset,s=isNaN(e.labelYOffset)?0:e.labelYOffset;r[0]+=a,r[1]-=s}var l,h=((l=document.createElement("canvas")).globalAlpha=0,void(l.lineWidth=1));h.fillStyle=e.fontColor,h.globalAlpha=e.fontOpacity||1;var c,f,d,p=[e.fontStyle?e.fontStyle:"normal","normal",e.fontWeight?e.fontWeight:"normal",e.fontSize?e.fontSize:"1em",e.fontFamily?e.fontFamily:"sans-serif"].join(" "),g=e.label.split("\n"),_=g.length;if(h.fillText){h.font=p,h.textAlign=i[e.labelAlign[0]]||"center",h.textBaseline=i[e.labelAlign[1]]||"middle",null==(c=n[e.labelAlign[1]])&&(c=-.5),f=h.measureText("Mg").height||h.measureText("xx").width,r[1]+=f*c*(_-1);for(var m=0;m<_;m++)o<(d=h.measureText(g[m]).width)&&(o=d)}else if(h.mozDrawText){h.mozTextStyle=p,null==(c=n[e.labelAlign[1]])&&(c=-.5),f=h.mozMeasureText("xx"),r[1]+=f*(1+c*_);for(var y=0;y<_;y++)o<(d=h.measureText(g[y]).width)&&(o=d)}this.setCanvasStyle("reset");var v={};return o?(v.w=o,v.h=e.fontSize,v.rows=g.length,v):null},rotationBounds:function(t,e,i){var n=o.default.point(t.left,t.top),r=o.default.point(t.right,t.top),a=o.default.point(t.right,t.bottom),s=o.default.point(t.left,t.bottom),l=[];l.push(this.getRotatedLocation(n.x,n.y,e.x,e.y,i)),l.push(this.getRotatedLocation(r.x,r.y,e.x,e.y,i)),l.push(this.getRotatedLocation(a.x,a.y,e.x,e.y,i)),l.push(this.getRotatedLocation(s.x,s.y,e.x,e.y,i));for(var h=[],u=0;u<l.length;u++)h.push({x:l[u].x,y:l[u].y});return h.push({x:l[0].x,y:l[0].y}),h},getRotatedLocation:function(t,e,i,n,r){var o,a,s={};return e=-e,n=-n,r=-r,o=(t-i)*Math.cos(r/180*Math.PI)-(e-n)*Math.sin(r/180*Math.PI)+i,a=(t-i)*Math.sin(r/180*Math.PI)+(e-n)*Math.cos(r/180*Math.PI)+n,s.x=o,s.y=-a,s},getAvoidInfo:function(t,e){if(5!==e.length)return null;for(var i=[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.right,y:t.bottom},{x:t.left,y:t.bottom},{x:t.left,y:t.top}],n=!1,r=i.length,o=e.length,a=0,s=0,h="",c="",f=0;f<r-1;f++)for(var d=0;d<o-1;d++){(0,u.lineIntersection)(i[f],i[f+1],e[d],e[d+1])instanceof l.Point&&(p(e[d]),p(e[d+1]),n=!0)}return n?{aspectW:c,aspectH:h,offsetX:a,offsetY:s}:null;function p(e){if(!t.contains(e.x,e.y)){if(e.y<t.top){var i=Math.abs(t.top-e.y);i>s&&(s=i,h="top")}if(e.y>t.bottom){var n=Math.abs(e.y-t.bottom);n>s&&(s=n,h="bottom")}if(e.x<t.left){var r=Math.abs(t.left-e.x);r>a&&(a=r,c="left")}if(e.x>t.right){var o=Math.abs(e.x-t.right);o>a&&(a=o,c="right")}}}},isQuadrilateralOverLap:function(t,e){var i=t.length,n=e.length;if(5!==i||5!==n)return null;for(var r=!1,o=0;o<i;o++)if(this.isPointInPoly(t[o],e)){r=!0;break}for(var a=0;a<n;a++)if(this.isPointInPoly(e[a],t)){r=!0;break}for(var s=0;s<i-1&&!r;s++)for(var h=0;h<n-1;h++){if((0,u.lineIntersection)(t[s],t[s+1],e[h],e[h+1])instanceof l.Point){r=!0;break}}return r},isPointInPoly:function(t,e){for(var i=!1,n=-1,r=e.length,o=r-1;++n<r;o=n)(e[n].y<=t.y&&t.y<e[o].y||e[o].y<=t.y&&t.y<e[n].y)&&t.x<(e[o].x-e[n].x)*(t.y-e[n].y)/(e[o].y-e[n].y)+e[n].x&&(i=!i);return i}});e.labelThemeLayer=function(t,e){return new f(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeoJSON=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},o=i(180),a=i(4),s=i(29),l=i(8),h=i(52),u=i(20),c=i(21),f=i(53),d=i(31),p=i(13),g=i(6),_=i(14),m=i(0);function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.GeoJSON=function(t){function e(){var t,i,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=Array(r),d=0;d<r;d++)o[d]=arguments[d];return i=n=y(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.ignoreExtraDims=!1,n.parseCoords={point:function(t){if(0==this.ignoreExtraDims&&2!=t.length)throw"Only 2D points are supported: "+t;return new a.Point(t[0],t[1])},multipoint:function(t){for(var e=[],i=null,n=0,r=t.length;n<r;++n){try{i=this.parseCoords.point.apply(this,[t[n]])}catch(t){throw t}e.push(i)}return new s.MultiPoint(e)},linestring:function(t){for(var e=[],i=null,n=0,r=t.length;n<r;++n){try{i=this.parseCoords.point.apply(this,[t[n]])}catch(t){throw t}e.push(i)}return new l.LineString(e)},multilinestring:function(t){for(var e=[],i=null,n=0,r=t.length;n<r;++n){try{i=this.parseCoords.linestring.apply(this,[t[n]])}catch(t){throw t}e.push(i)}return new h.MultiLineString(e)},polygon:function(t){for(var e,i,n=[],r=0,o=t.length;r<o;++r){try{i=this.parseCoords.linestring.apply(this,[t[r]])}catch(t){throw t}e=new u.LinearRing(i.components),n.push(e)}return new c.Polygon(n)},multipolygon:function(t){for(var e=[],i=null,n=0,r=t.length;n<r;++n){try{i=this.parseCoords.polygon.apply(this,[t[n]])}catch(t){throw t}e.push(i)}return new f.MultiPolygon(e)},box:function(t){if(2!=t.length)throw"GeoJSON box coordinates must have 2 elements";return new c.Polygon([new u.LinearRing([new a.Point(t[0][0],t[0][1]),new a.Point(t[1][0],t[0][1]),new a.Point(t[1][0],t[1][1]),new a.Point(t[0][0],t[1][1]),new a.Point(t[0][0],t[0][1])])])}},n.extract={feature:function(t){var e=this.extract.geometry.apply(this,[t.geometry]),i={type:"Feature",properties:this.createAttributes(t),geometry:e};return t.geometry&&"TEXT"===t.geometry.type&&(i.properties.texts=t.geometry.texts,i.properties.textStyle=t.geometry.textStyle),null!==t.fid&&(i.id=t.fid),null!==t.ID&&(i.id=t.ID),i},geometry:function(t){if(null==t)return null;var e=this.toGeometry(t),i=e.type,n=this.extract[i.toLowerCase()].apply(this,[e]);return"Collection"===(i="TEXT"===i?"Point":i)?{type:"GeometryCollection",geometries:n}:{type:i,coordinates:n}},point:function(t){var e=[t.x,t.y];for(var i in t)"x"===i||"y"===i||isNaN(t[i])||e.push(t[i]);return e},text:function(t){return[t.points[0].x,t.points[0].y]},multipoint:function(t){for(var e=[],i=0,n=t.components.length;i<n;++i)e.push(this.extract.point.apply(this,[t.components[i]]));return e},linestring:function(t){for(var e=[],i=0,n=t.components.length;i<n;++i)e.push(this.extract.point.apply(this,[t.components[i]]));return e},multilinestring:function(t){for(var e=[],i=0,n=t.components.length;i<n;++i)e.push(this.extract.linestring.apply(this,[{components:t.components[i]}]));return e},polygon:function(t){for(var e=[],i=0,n=t.components.length;i<n;++i)e.push(this.extract.linestring.apply(this,[{components:t.components[i]}]));return e},multipolygon:function(t){for(var e=[],i=0,n=t.components.length;i<n;++i)e.push(this.extract.polygon.apply(this,[{components:t.components[i]}]));return e},collection:function(t){for(var e=t.components.length,i=new Array(e),n=0;n<e;++n)i[n]=this.extract.geometry.apply(this,[{type:"Collection",components:t.components[n]}]);return i}},y(n,i)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.JSONFormat),n(e,[{key:"read",value:function(t,i,n){i=i||"FeatureCollection";var o=null,a=null;if(a="string"==typeof t?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"read",this).call(this,t,n):t){if("string"!=typeof a.type);else if(this.isValidType(a,i))switch(i){case"Geometry":try{o=this.parseGeometry(a)}catch(t){}break;case"Feature":try{(o=this.parseFeature(a)).type="Feature"}catch(t){}break;case"FeatureCollection":switch(o=[],a.type){case"Feature":try{o.push(this.parseFeature(a))}catch(t){o=null}break;case"FeatureCollection":for(var s=0,l=a.features.length;s<l;++s)try{o.push(this.parseFeature(a.features[s]))}catch(t){o=null}break;default:try{var h=this.parseGeometry(a);o.push(new Feature.Vector(h))}catch(t){o=null}}}}else;return o}},{key:"isValidType",value:function(t,e){var i=!1;switch(e){case"Geometry":-1==Util.indexOf(["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","Box","GeometryCollection"],t.type)||(i=!0);break;case"FeatureCollection":i=!0;break;default:t.type==e&&(i=!0)}return i}},{key:"parseFeature",value:function(t){var e,i,n,r;n=t.properties?t.properties:{},r=t.geometry&&t.geometry.bbox||t.bbox;try{i=this.parseGeometry(t.geometry)}catch(t){throw t}return e=new p.Vector(i,n),r&&(e.bounds=g.Bounds.fromArray(r)),t.id&&(e.fid=t.id),e}},{key:"parseGeometry",value:function(t){if(null==t)return null;var e;if("GeometryCollection"==t.type){if(!(0,m.isArray)(t.geometries))throw"GeometryCollection must have geometries array: "+t;for(var i=t.geometries.length,n=new Array(i),r=0;r<i;++r)n[r]=this.parseGeometry.apply(this,[t.geometries[r]]);e=new _.Collection(n)}else{if(!(0,m.isArray)(t.coordinates))throw"Geometry must have coordinates array: "+t;if(!this.parseCoords[t.type.toLowerCase()])throw"Unsupported geometry type: "+t.type;try{e=this.parseCoords[t.type.toLowerCase()].apply(this,[t.coordinates])}catch(t){throw t}}return e}},{key:"write",value:function(t,i){var n={type:null};if(Util.isArray(t)){n.type="FeatureCollection";var o=t.length;n.features=new Array(o);for(var a=0;a<o;++a){var s=t[a];if(u(s)){var l={};l.geometry=s,n.features[a]=this.extract.feature.apply(this,[l])}else n.features[a]=this.extract.feature.apply(this,[s])}}else if(u(t)){var h={};h.geometry=t,n=this.extract.feature.apply(this,[h])}function u(t){return t.hasOwnProperty("parts")&&t.hasOwnProperty("points")}return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"write",this).call(this,n,i)}},{key:"createCRSObject",value:function(t){var e=t.layer.projection.toString(),i={};if(e.match(/epsg:/i)){var n=parseInt(e.substring(e.indexOf(":")+1));i=4326==n?{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}}:{type:"name",properties:{name:"EPSG:"+n}}}return i}},{key:"createAttributes",value:function(t){if(!t)return null;var e={};!function(t,e){if(!t.hasOwnProperty("fieldNames")||!t.hasOwnProperty("fieldValues"))return;var i=t.fieldNames,n=t.fieldValues;for(var r in i)e[i[r]]=n[r]}(t,e);var i=["fieldNames","fieldValues","geometry"];for(var n in t)i.indexOf(n)>-1||(e[n]=t[n]);return e}},{key:"toGeometry",value:function(t){var e=t.type;switch("polygon"===e&&(e=d.GeometryType.REGION),e.toUpperCase()){case d.GeometryType.POINT:return this.toGeoPoint(t);case d.GeometryType.LINE:return this.toGeoLine(t);case d.GeometryType.LINEM:return this.toGeoLinem(t);case d.GeometryType.REGION:return this.toGeoRegion(t);case d.GeometryType.POINTEPS:return this.toGeoPoint(t);default:return t}}},{key:"toGeoPoint",value:function(t){var e=t.points||[{x:t.x,y:t.y}],i=(t.parts||[e.length]).length;if(i<1)return null;if(1===i)return{type:"Point",x:parseFloat(e[0].x),y:parseFloat(e[0].y)};for(var n=0,r=[];n<i;n++)r.push({x:parseFloat(e[n].x),y:parseFloat(e[n].y)});return{type:"MultiPoint",components:r}}},{key:"toGeoLine",value:function(t){var e=t.points||[],i=t.parts||[e.length],n=i.length;if(n<1)return null;if(1===n){for(var r=0,o=[];r<i[0];r++)o.push({x:parseFloat(e[r].x),y:parseFloat(e[r].y)});return this.isPointsEquals(o[0],o[i[0]-1])&&(o.pop(),o.push(o[0])),{type:"LineString",components:o}}for(var a=0,s=[];a<n;a++){for(var l=0,h=[];l<i[a];l++)h.push({x:parseFloat(e[l].x),y:parseFloat(e[l].y)});s.push(h),e.splice(0,i[a])}return{type:"MultiLineString",components:s}}},{key:"toGeoLinem",value:function(t){var e=t.points||[],i=t.parts||[e.length],n=i.length,r=[];if(n<1)return null;for(var o=0,a=0,s=[];o<n;o++){for(var l=0;l<i[o];l++)s.push({x:parseFloat(e[a+l].x),y:parseFloat(e[a+l].y),measure:parseFloat(e[a+l].measure)});a+=i[o],this.isPointsEquals(s[0],s[i[0]-1])&&(s.pop(),s.push(s[0])),r.push(s),s=[]}return{type:"MultiLineString",components:r}}},{key:"toGeoRegion",value:function(t){var e=[],i=t.points||[],n=t.parts||[i.length],r=n.length;if(r<1)return null;for(var o=new Array,a=0,s=0,l=[];a<r;a++){for(var h=0;h<n[a];h++)l.push({x:parseFloat(i[s+h].x),y:parseFloat(i[s+h].y)});s+=n[a];var u=l.concat();if(u.pop(),u.push(u[0]),this.isClockWise(u)>0?e.push(u):o.push([u]),a===r-1){var c=o.length;if(c)o[c-1]=o[c-1].concat(e);else for(var f=0,d=e.length;f<d;f++)o.push([e[f]].concat())}l=[]}return{type:"MultiPolygon",components:o}}},{key:"isClockWise",value:function(t){var e=t.length;if(e<3)return 0;var i=t[0].y*(t[e-1].x-t[1].x);t.push(t[0]);for(var n=1;n<e;n++)i+=t[n].y*(t[n-1].x-t[n+1].x);return.5*i}},{key:"isPointsEquals",value:function(t,e){return t.x===e.x&&t.y===e.y}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JSONFormat=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(181);function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}e.JSONFormat=function(t){function e(){var t,i,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,o=Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=n=a(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(o))),n.indent="    ",n.space=" ",n.newline="\n",n.level=0,n.pretty=!1,n.nativeJSON=!(!window.JSON||"function"!=typeof JSON.parse||"function"!=typeof JSON.stringify),n.serialize={object:function(t){if(null==t)return"null";if(t.constructor===Date)return this.serialize.date.apply(this,[t]);if(t.constructor===Array)return this.serialize.array.apply(this,[t]);var i,n,r,o=["{"];this.level+=1;var a=!1;for(i in t)t.hasOwnProperty(i)&&(n=e.prototype.write.apply(this,[i,this.pretty]),r=e.prototype.write.apply(this,[t[i],this.pretty]),null!=n&&null!=r&&(a&&o.push(","),o.push(this.writeNewline(),this.writeIndent(),n,":",this.writeSpace(),r),a=!0));return this.level-=1,o.push(this.writeNewline(),this.writeIndent(),"}"),o.join("")},array:function(t){var i,n=["["];this.level+=1;for(var r=0,o=t.length;r<o;++r)null!=(i=e.prototype.write.apply(this,[t[r],this.pretty]))&&(r>0&&n.push(","),n.push(this.writeNewline(),this.writeIndent(),i));return this.level-=1,n.push(this.writeNewline(),this.writeIndent(),"]"),n.join("")},string:function(t){var e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return/["\\\x00-\x1f]/.test(t)?'"'+t.replace(/([\x00-\x1f\\"])/g,function(t,i){var n=e[i];return n||(n=i.charCodeAt(),"\\u00"+Math.floor(n/16).toString(16)+(n%16).toString(16))})+'"':'"'+t+'"'},number:function(t){return isFinite(t)?String(t):"null"},boolean:function(t){return String(t)},date:function(t){function e(t){return t<10?"0"+t:t}return'"'+t.getFullYear()+"-"+e(t.getMonth()+1)+"-"+e(t.getDate())+"T"+e(t.getHours())+":"+e(t.getMinutes())+":"+e(t.getSeconds())+'"'}},a(n,i)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.Format),r(e,[{key:"read",value:function(t,e){var i;if(this.nativeJSON)try{i=JSON.parse(t,e)}catch(t){}return this.keepData&&(this.data=i),i}},{key:"write",value:function(t,e){this.pretty=!!e;var i=null,r=void 0===t?"undefined":n(t);if(this.serialize[r])try{i=!this.pretty&&this.nativeJSON?JSON.stringify(t):this.serialize[r].apply(this,[t])}catch(t){}return i}},{key:"writeIndent",value:function(){var t=[];if(this.pretty)for(var e=0;e<this.level;++e)t.push(this.indent);return t.join("")}},{key:"writeNewline",value:function(){return this.pretty?this.newline:""}},{key:"writeSpace",value:function(){return this.pretty?this.space:""}}]),e}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Format=void 0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=i(0);e.Format=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=null,this.data=null,this.keepData=!1,(0,r.extend)(this,e),this.options=e}return n(t,[{key:"destroy",value:function(){}},{key:"read",value:function(t){}},{key:"write",value:function(t){}}]),t}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mapVLayer=e.MapVLayer=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n},a=i(183);var s=e.MapVLayer=o.default.Layer.extend({options:{attributionPrefix:null},initialize:function(t,e,i){i=i||{},this.dataSet=t||{},this.mapVOptions=e||{},this.render=this.render.bind(this),o.default.Util.setOptions(this,i),this.options.attributionPrefix&&(this.options.attribution=this.options.attributionPrefix+this.options.attribution),this.canvas=this._createCanvas(),o.default.stamp(this)},onAdd:function(t){this._map=t;var e=this.getPane(),i=this.container=o.default.DomUtil.create("div","leaflet-layer leaflet-zoom-animated",e);i.appendChild(this.canvas);var n=t.getSize();i.style.width=n.x+"px",i.style.height=n.y+"px",this.renderer=new a.MapVRenderer(t,this,this.dataSet,this.mapVOptions),this.draw(),this.fire("loaded")},_hide:function(){this.canvas.style.display="none"},_show:function(){this.canvas.style.display="block"},onRemove:function(t){o.default.DomUtil.remove(this.container),t.off({moveend:this.draw,zoomstart:this._hide,zoomend:this._show},this)},addData:function(t,e){this.renderer.addData(t,e)},update:function(t){this.renderer.update(t)},getData:function(){return this.renderer&&(this.dataSet=this.renderer.getData()),this.dataSet},removeData:function(t){this.renderer&&this.renderer.removeData(t)},clearData:function(){this.renderer.clearData()},draw:function(){return this._reset()},setZIndex:function(t){this.canvas.style.zIndex=t},render:function(){this.renderer._canvasUpdate()},getCanvas:function(){return this.canvas},getContainer:function(){return this.container},getTopLeft:function(){var t,e=this._map;e&&(t=e.getBounds().getNorthWest());return t},_createCanvas:function(){var t=document.createElement("canvas");return t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=this.options.zIndex||600,t},_resize:function(){var t=this.canvas;if(t){var e=this._map,i=e.getSize();t.width=i.x,t.height=i.y,t.style.width=i.x+"px",t.style.height=i.y+"px";var n=e.getBounds(),r=e.latLngToLayerPoint(n.getNorthWest());o.default.DomUtil.setPosition(t,r)}},_reset:function(){this._resize(),this._render()},redraw:function(){this._resize(),this._render()},_render:function(){this.render()}});e.mapVLayer=function(t,e,i){return new s(t,e,i)};o.default.Map.include({latLngToAccurateContainerPoint:function(t){var e=this.project(o.default.latLng(t))._subtract(this.getPixelOrigin());return o.default.point(e).add(this._getMapPanePos())}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MapVRenderer=void 0;var n,r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(n):void 0},a=i(1),s=(n=a)&&n.__esModule?n:{default:n},l=i(184);function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=l.baiduMapLayer?l.baiduMapLayer.__proto__:Function;e.MapVRenderer=function(t){function e(t,i,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));if(!u)return h(o);var a=o;return r=r||{},a.init(r),a.argCheck(r),o.canvasLayer=i,o.clickEvent=o.clickEvent.bind(o),o.mousemoveEvent=o.mousemoveEvent.bind(o),o.map.on("movestart",o.moveStartEvent.bind(o)),o.map.on("moveend",o.moveEndEvent.bind(o)),o.map.on("zoomstart",o.zoomStartEvent.bind(o)),o.bindEvent(),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u),r(e,[{key:"clickEvent",value:function(t){var i=t.layerPoint;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clickEvent",this).call(this,i,t)}},{key:"mousemoveEvent",value:function(t){var i=t.layerPoint;o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"mousemoveEvent",this).call(this,i,t)}},{key:"bindEvent",value:function(){var t=this.map;this.options.methods&&(this.options.methods.click&&t.on("click",this.clickEvent),this.options.methods.mousemove&&t.on("mousemove",this.mousemoveEvent))}},{key:"unbindEvent",value:function(){var t=this.map;this.options.methods&&(this.options.methods.click&&t.off("click",this.clickEvent),this.options.methods.mousemove&&t.off("mousemove",this.mousemoveEvent))}},{key:"getContext",value:function(){return this.canvasLayer.getCanvas().getContext(this.context)}},{key:"addData",value:function(t,e){var i=t;t&&t.get&&(i=t.get()),this.dataSet.add(i),this.update({options:e})}},{key:"update",value:function(t){var i=t||{},n=i.data;n&&n.get&&(n=n.get()),void 0!=n&&this.dataSet.set(n),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,{options:i.options})}},{key:"getData",value:function(){return this.dataSet}},{key:"removeData",value:function(t){if(this.dataSet){var e=this.dataSet.get({filter:function(e){return null==t||"function"!=typeof t||!t(e)}});this.dataSet.set(e),this.update({options:null})}}},{key:"clearData",value:function(){this.dataSet&&this.dataSet.clear(),this.update({options:null})}},{key:"_canvasUpdate",value:function(t){if(this.canvasLayer){var e=this,i=e.options.animation,n=this.getContext(),r=this.map;if(e.isEnabledTime()){if(void 0===t)return void this.clear(n);"2d"===this.context&&(n.save(),n.globalCompositeOperation="destination-out",n.fillStyle="rgba(0, 0, 0, .1)",n.fillRect(0,0,n.canvas.width,n.canvas.height),n.restore())}else this.clear(n);if("2d"===this.context)for(var o in e.options)n[o]=e.options[o];else n.clear(n.COLOR_BUFFER_BIT);if(!(e.options.minZoom&&r.getZoom()<e.options.minZoom||e.options.maxZoom&&r.getZoom()>e.options.maxZoom)){var a=r.latLngToAccurateContainerPoint(this.canvasLayer.getTopLeft()),h={transferCoordinate:function(t){var e=r.latLngToAccurateContainerPoint(s.default.latLng(t[1],t[0])),i={x:e.x-a.x,y:e.y-a.y};return[i.x,i.y]}};void 0!==t&&(h.filter=function(e){var n=i.trails||10;return t&&e.time>t-n&&e.time<t});var u=e.dataSet.get(h);this.processData(u),e.options._size=e.options.size;var c=r.latLngToContainerPoint(s.default.latLng(0,0)),f={x:c.x-a.x,y:c.y-a.y};this.drawContext(n,new l.DataSet(u),e.options,f),e.options.updateCallback&&e.options.updateCallback(t)}}}},{key:"init",value:function(t){this.options=t,this.initDataRange(t),this.context=this.options.context||"2d",this.options.zIndex&&this.canvasLayer&&this.canvasLayer.setZIndex(this.options.zIndex),this.initAnimator()}},{key:"addAnimatorEvent",value:function(){}},{key:"moveStartEvent",value:function(){var t=this.options.animation;this.isEnabledTime()&&this.animator&&(this.steps.step=t.stepsRange.start,this._hide())}},{key:"moveEndEvent",value:function(){this.canvasLayer.draw(),this._show()}},{key:"zoomStartEvent",value:function(){this._hide()}},{key:"clear",value:function(t){t&&t.clearRect&&t.clearRect(0,0,t.canvas.width,t.canvas.height)}},{key:"_hide",value:function(){this.canvasLayer.canvas.style.display="none"}},{key:"_show",value:function(){this.canvasLayer.canvas.style.display="block"}},{key:"draw",value:function(){this.canvasLayer.draw()}}]),e}()},function(t,e){t.exports=function(){try{return mapv}catch(t){return{}}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rangeThemeLayer=e.RangeThemeLayer=void 0;var n,r=i(1),o=((n=r)&&n.__esModule,i(55)),a=i(0);var s=e.RangeThemeLayer=o.GeoFeatureThemeLayer.extend({initialize:function(t,e){o.GeoFeatureThemeLayer.prototype.initialize.call(this,t,e),this.style=[],this.themeField=null,this.styleGroups=[]},getStyleByData:function(t){var e=t,i=(0,a.copyAttributesWithClip)({},this.style),n=this.styleGroups,r=!1,o=null,s=this.styleGroups&&this.styleGroups.length>0;if(this.themeField&&s&&e.attributes){var l=this.themeField,h=e.attributes;for(var u in h)if(l===u){r=!0,o=h[u];break}}if(r&&s)for(var c=0,f=n.length;c<f;c++)if(o>=n[c].start&&o<n[c].end){var d=n[c].style;i=(0,a.copyAttributesWithClip)(i,d)}return i}});e.rangeThemeLayer=function(t,e){return new s(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rankSymbolThemeLayer=e.RankSymbolThemeLayer=void 0;var n,r=i(1),o=((n=r)&&n.__esModule,i(72)),a=(i(34),i(81));var s=e.RankSymbolThemeLayer=o.GraphThemeLayer.extend({initialize:function(t,e,i){o.GraphThemeLayer.prototype.initialize.apply(this,arguments),this.symbolType=e,this.symbolSetting={}},setSymbolType:function(t){this.symbolType=t,this.redraw()},createThematicFeature:function(t){var e;return this.themeField&&this.symbolSetting&&"Circle"===this.symbolType&&(e=new a.Circle(t,this,[this.themeField],this.symbolSetting)),!!e&&(e.assembleShapes(),e)}});e.rankSymbolThemeLayer=function(t,e,i){return new s(t,e,i)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.turfLayer=e.TurfLayer=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n},a=i(188);var s=e.TurfLayer=o.default.GeoJSON.extend({turfMap:{"Measurement.along":["line","distance","units"],"Measurement.area":["geojson"],"Measurement.bbox":["geojson"],"Measurement.bboxPolygon":["bbox"],"Measurement.bearing":["start","end","final"],"Measurement.center":["geojson","properties"],"Measurement.centerOfMass":["geojson","properties"],"Measurement.centroid":["geojson","properties"],"Measurement.destination":["origin","distance","bearing","units"],"Measurement.distance":["from","to","units"],"Measurement.envelope":["geojson"],"Measurement.lineDistance":["geojson","units"],"Measurement.midpoint":["point1","point2"],"Measurement.pointOnSurface":["fc"],"Measurement.polygonTangents":["point","polygon"],"Measurement.rhumbBearing":["start","end","final"],"Measurement.rhumbDestination":["origin","distance","bearing","units"],"Measurement.rhumbDistance":["from","to","units"],"Measurement.square":["bbox"],"Measurement.greatCircle":["start","end","properties","npoints","offset"],"CoordinateMutation.flip":["geojson","mutate"],"CoordinateMutation.rewind":["geojson","reverse","mutate"],"CoordinateMutation.round":["num","precision"],"CoordinateMutation.truncate":["geojson","precision","coordinates","mutate"],"Transformation.bboxClip":["feature","bbox"],"Transformation.bezier":["line","resolution","sharpness"],"Transformation.buffer":["geojson","radius","units","steps"],"Transformation.circle":["center","radius","steps","units","properties"],"Transformation.clone":["geojson","cloneAll"],"Transformation.concave":["points","maxEdge","units"],"Transformation.convex":["feature"],"Transformation.difference":["polygon1","polygon2"],"Transformation.dissolve":["featureCollection","propertyName"],"Transformation.intersect":["poly1","poly2"],"Transformation.lineOffset":["geojson","distance","units"],"Transformation.simplify":["feature","tolerance","highQuality"],"Transformation.tesselate":["poly"],"Transformation.transformRotate":["geojson","angle","pivot","mutate"],"Transformation.transformTranslate":["geojson","distance","direction","units","zTranslation","mutate"],"Transformation.transformScale":["geojson","factor","origin","mutate"],"Transformation.union":["A"],"featureConversion.combine":["fc"],"featureConversion.explode":["geojson"],"featureConversion.flatten":["geojson"],"featureConversion.lineStringToPolygon":["lines","properties","autoComplete","orderCoords"],"featureConversion.polygonize":["geojson"],"featureConversion.polygonToLineString":["polygon","properties"],"Misc.kinks":["featureIn"],"Misc.lineArc":["center","radius","bearing1","bearing2","steps","units"],"Misc.lineChunk":["geojson","segmentLength","units","reverse"],"Misc.lineIntersect":["line1","line2"],"Misc.lineOverlap":["line1","line2"],"Misc.lineSegment":["geojson"],"Misc.lineSlice":["startPt","stopPt","line"],"Misc.lineSliceAlong":["line","startDist","stopDist","units"],"Misc.lineSplit":["line","splitter"],"Misc.mask":["polygon","mask"],"Misc.pointOnLine":["lines","pt","units"],"Misc.sector":["center","radius","bearing1","bearing2","steps","units"],"Misc.unkinkPolygon":["geojson"],"Helper.featureCollection":["features"],"Helper.feature":["geometry","properties"],"Helper.geometryCollection":["geometries","properties"],"Helper.lineString":["coordinates","properties"],"Helper.multiLineString":["coordinates","properties"],"Helper.multiPoint":["coordinates","properties"],"Helper.multiPolygon":["coordinates","properties"],"Helper.point":["coordinates","properties"],"Helper.polygon":["coordinates","properties"],"Data.random":["type","count","options"],"Data.sample":["featurecollection","num"],"Interpolation.interpolate":["points","cellSize","gridType","property","units","weight"],"Interpolation.isobands":["pointGrid","breaks","zProperty","options"],"Interpolation.isolines":["pointGrid","breaks","zProperty","propertiesToAllIsolines","propertiesPerIsoline"],"Interpolation.planepoint":["point","triangle"],"Interpolation.tin":["points","z"],"Interpolation.idw":["controlPoints","valueField","weight","cellWidth","units"],"Joins.inside":["point","polygon","ignoreBoundary"],"Joins.within":["points","polygons"],"Joins.tag":["points","polygons","field","outField"],"Grids.hexGrid":["bbox","cellDiameter","units","triangles"],"Grids.pointGrid":["bbox","cellSide","units","centered","bboxIsMask"],"Grids.squareGrid":["bbox","cellSize","units","completelyWithin"],"Grids.triangleGrid":["bbox","cellSize","units"],"Classification.nearest":["targetPoint","points"],"Aggregation.collect":["polygons","points","inProperty","outProperty"],"Aggregation.clustersDbscan":["points","maxDistance","units","minPoints"],"Aggregation.clustersKmeans":["points","numberOfClusters","mutate"],"Meta.coordAll":["geojson"],"Meta.coordEach":["geojson","callback","excludeWrapCoord"],"Meta.coordReduce":["geojson","callback","initialValue","excludeWrapCoord"],"Meta.featureEach":["geojson","callback"],"Meta.featureReduce":["geojson","callback","initialValue"],"Meta.flattenEach":["geojson","callback"],"Meta.flattenReduce":["geojson","callback","initialValue"],"Meta.getCoord":["obj"],"Meta.getCoords":["obj"],"Meta.getGeom":["obj"],"Meta.getGeomType":["obj"],"Meta.geomEach":["geojson","callback"],"Meta.geomReduce":["geojson","callback","initialValue"],"Meta.propEach":["geojson","callback"],"Meta.propReduce":["geojson","callback","initialValue"],"Meta.segmentEach":["geojson","callback"],"Meta.segmentReduce":["geojson","callback","initialValue"],"Meta.getCluster":["geojson","filter"],"Meta.clusterEach":["geojson","property","callback"],"Meta.clusterReduce":["geojson","property","callback","initialValue"],"Assertions.collectionOf":["featureCollection","type","name"],"Assertions.containsNumber":["coordinates"],"Assertions.geojsonType":["value","type","name"],"Assertions.featureOf":["feature","type","name"],"Booleans.booleanClockwise":["line"],"Booleans.booleanContains":["feature1","feature2"],"Booleans.booleanCrosses":["feature1","feature2"],"Booleans.booleanDisjoint":["feature1","feature2"],"Booleans.booleanOverlap":["feature1","feature2"],"Booleans.booleanPointOnLine":["point","linestring","ignoreEndVertices"],"UnitConversion.bearingToAngle":["bearing"],"UnitConversion.convertArea":["area","originalUnit","finalUnit"],"UnitConversion.convertDistance":["distance","originalUnit","finalUnit"],"UnitConversion.degrees2radians":["degrees"],"UnitConversion.distanceToRadians":["distance","units"],"UnitConversion.distanceToDegrees":["distance","units"],"UnitConversion.radiansToDistance":["radians","units"],"UnitConversion.radians2degrees":["radians"]},options:{},initialize:function(t){t=t||{},o.default.Util.setOptions(this,t),o.default.stamp(this),this._layers={}},process:function(t,e,i,n){var r=a.turf[t.split(".")[1]].apply(this,this.parse(t,e));(n=null==n||n)&&this.addData([r]),i&&i(r)},parse:function(t,e){if("Transformation.union"===t)return e.A;var i=[],n=this.turfMap[t];return n&&n.map(function(t){return i.push(e[t]),e[t]}),i}});e.turfLayer=function(t){return new s(t)}},function(t,e){t.exports=function(){try{return turf}catch(t){return{}}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.uniqueThemeLayer=e.UniqueThemeLayer=void 0;var n,r=i(1),o=((n=r)&&n.__esModule,i(55)),a=i(0);var s=e.UniqueThemeLayer=o.GeoFeatureThemeLayer.extend({initialize:function(t,e){o.GeoFeatureThemeLayer.prototype.initialize.call(this,t,e),this.style=[],this.themeField=null,this.styleGroups=[]},getStyleByData:function(t){var e=t,i=(0,a.copyAttributesWithClip)({},this.style),n=this.styleGroups,r=!1,o=null,s=this.styleGroups&&this.styleGroups.length>0;if(this.themeField&&s&&e.attributes){var l=this.themeField,h=e.attributes;for(var u in h)if(l===u){r=!0,o=h[u];break}}if(r&&s)for(var c=0,f=n.length;c<f;c++)if(o.toString()===n[c].value.toString()){var d=n[c].style;i=(0,a.copyAttributesWithClip)(i,d)}return i}});e.uniqueThemeLayer=function(t,e){return new s(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.graphicLayer=e.GraphicLayer=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n};var a=e.GraphicLayer=o.default.Path.extend({initialize:function(t,e){e=e||{},o.default.setOptions(this,e),this.graphics=t},getEvents:function(){return{click:this._handleClick}},onAdd:function(){this._canvas=document.createElement("canvas");var t=this._map.getPixelBounds().getSize().x,e=this._map.getPixelBounds().getSize().y;this._canvas.width=t,this._canvas.height=e,this._ctx=this._canvas.getContext("2d"),o.default.Path.prototype.onAdd.call(this)},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._drawGraphics(this._getGraphicsInBounds())},_project:function(){var t=this;t._getGraphicsInBounds().map(function(e){var i=t._map.latLngToLayerPoint(e.getLatLng()),n=t._clickTolerance(),r=[e._anchor+n,e._anchor+n];return e._pxBounds=new o.default.Bounds(i.subtract(r),i.add(r)),e}),t._pxBounds=o.default.bounds(o.default.point(0,0),o.default.point(this._canvas.width,this._canvas.height))},_getGraphicsInBounds:function(){var t=[],e=this._map.getBounds();return this.graphics.map(function(i){return e.contains(i.getLatLng())&&t.push(i),i}),t},_containsPoint:function(){return!1},_handleClick:function(t){for(var e=this._getGraphicsInBounds(),i=0;i<e.length;i++){var n=this._map.latLngToLayerPoint(e[i].getLatLng()),r=e[i].getCanvas(),a=o.default.point(n.x-r.width/2,n.y-r.height/2),s=o.default.point(n.x+r.width/2,n.y+r.height/2);if(o.default.bounds(a,s).contains(this._map.latLngToLayerPoint(t.latlng)))return this.options.handleClick.call(this,e[i])}}});o.default.Canvas.include({_drawGraphics:function(t){var e=this;e._ctx.clearRect(0,0,e._ctx.canvas.width,e._ctx.canvas.height),t.map(function(t){var i=t.getCanvas(),n=e._map.latLngToLayerPoint(t.getLatLng()),r=n.x-i.width/2,o=n.y-i.height/2;return e._ctx.drawImage(i,r,o),t})}});e.graphicLayer=function(t,e){return new a(t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(54);Object.defineProperty(e,"ThemeFeature",{enumerable:!0,get:function(){return n.ThemeFeature}}),Object.defineProperty(e,"themeFeature",{enumerable:!0,get:function(){return n.themeFeature}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(193);Object.defineProperty(e,"CircleStyle",{enumerable:!0,get:function(){return n.CircleStyle}}),Object.defineProperty(e,"circleStyle",{enumerable:!0,get:function(){return n.circleStyle}});var r=i(194);Object.defineProperty(e,"Graphic",{enumerable:!0,get:function(){return r.Graphic}}),Object.defineProperty(e,"graphic",{enumerable:!0,get:function(){return r.graphic}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.circleStyle=e.CircleStyle=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n};var a=e.CircleStyle=o.default.Class.extend({options:{stroke:!0,color:"#3388ff",weight:1,opacity:1,lineCap:"round",lineJoin:"round",fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",radius:3},initialize:function(t){t=t||{},o.default.Util.setOptions(this,t),this._canvas=document.createElement("canvas"),this._canvas.width=2*(this.options.radius+this.options.weight),this._canvas.height=2*(this.options.radius+this.options.weight),this._ctx=this._canvas.getContext("2d"),this._initStyle()},getCanvas:function(){return this._canvas},_initStyle:function(){this._ctx.beginPath(),this._ctx.arc(this._canvas.width/2,this._canvas.height/2,this.options.radius,0,2*Math.PI),this._fillStroke()},_fillStroke:function(){var t=this.options;t.fill&&(this._ctx.globalAlpha=t.fillOpacity,this._ctx.fillStyle=t.fillColor||t.color,this._ctx.fill(t.fillRule||"evenodd")),t.stroke&&0!==t.weight&&(this._ctx.globalAlpha=t.opacity,this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color,this._ctx.lineCap=t.lineCap,this._ctx.lineJoin=t.lineJoin,this._ctx.stroke())}});e.circleStyle=function(t){return new a(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.graphic=e.Graphic=void 0;var n,r=i(1),o=(n=r)&&n.__esModule?n:{default:n};var a=e.Graphic=o.default.Class.extend({initialize:function(t){t=t||{},this._latlng=o.default.latLng(t._latlng.lat,t._latlng.lng),this._canvas=t._canvas},setLatlng:function(t){this._latlng=t},setCanvas:function(t){this._canvas=t},getLatLng:function(){return this._latlng},getCanvas:function(){return this._canvas}});e.graphic=function(t){return new a(t)}},function(t,e,i){var n=i(196);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0};i(12)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(11)(void 0)).push([t.i,".leaflet-draw-section{position:relative}.leaflet-draw-toolbar{margin-top:12px}.leaflet-draw-toolbar-top{margin-top:0}.leaflet-draw-toolbar-notop a:first-child{border-top-right-radius:0}.leaflet-draw-toolbar-nobottom a:last-child{border-bottom-right-radius:0}.leaflet-draw-toolbar a{background-image:url("+i(197)+");background-image:linear-gradient(transparent,transparent),url("+i(86)+");background-repeat:no-repeat;background-size:300px 30px;background-clip:padding-box}.leaflet-retina .leaflet-draw-toolbar a{background-image:url("+i(198)+");background-image:linear-gradient(transparent,transparent),url("+i(86)+')}\n.leaflet-draw a{display:block;text-align:center;text-decoration:none}.leaflet-draw a .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.leaflet-draw-actions{display:none;list-style:none;margin:0;padding:0;position:absolute;left:26px;top:0;white-space:nowrap}.leaflet-touch .leaflet-draw-actions{left:32px}.leaflet-right .leaflet-draw-actions{right:26px;left:auto}.leaflet-touch .leaflet-right .leaflet-draw-actions{right:32px;left:auto}.leaflet-draw-actions li{display:inline-block}\n.leaflet-draw-actions li:first-child a{border-left:0}.leaflet-draw-actions li:last-child a{-webkit-border-radius:0 4px 4px 0;border-radius:0 4px 4px 0}.leaflet-right .leaflet-draw-actions li:last-child a{-webkit-border-radius:0;border-radius:0}.leaflet-right .leaflet-draw-actions li:first-child a{-webkit-border-radius:4px 0 0 4px;border-radius:4px 0 0 4px}.leaflet-draw-actions a{background-color:#919187;border-left:1px solid #AAA;color:#FFF;font:11px/19px "Helvetica Neue",Arial,Helvetica,sans-serif;line-height:28px;text-decoration:none;padding-left:10px;padding-right:10px;height:28px}\n.leaflet-touch .leaflet-draw-actions a{font-size:12px;line-height:30px;height:30px}.leaflet-draw-actions-bottom{margin-top:0}.leaflet-draw-actions-top{margin-top:1px}.leaflet-draw-actions-top a,.leaflet-draw-actions-bottom a{height:27px;line-height:27px}.leaflet-draw-actions a:hover{background-color:#a0a098}.leaflet-draw-actions-top.leaflet-draw-actions-bottom a{height:26px;line-height:26px}.leaflet-draw-toolbar .leaflet-draw-draw-polyline{background-position:-2px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-polyline{background-position:0 -1px}\n.leaflet-draw-toolbar .leaflet-draw-draw-polygon{background-position:-31px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-polygon{background-position:-29px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-rectangle{background-position:-62px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-rectangle{background-position:-60px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-circle{background-position:-92px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-circle{background-position:-90px -1px}\n.leaflet-draw-toolbar .leaflet-draw-draw-marker{background-position:-122px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-marker{background-position:-120px -1px}.leaflet-draw-toolbar .leaflet-draw-draw-circlemarker{background-position:-273px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-draw-circlemarker{background-position:-271px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-edit{background-position:-152px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-edit{background-position:-150px -1px}\n.leaflet-draw-toolbar .leaflet-draw-edit-remove{background-position:-182px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-remove{background-position:-180px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-edit.leaflet-disabled{background-position:-212px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-edit.leaflet-disabled{background-position:-210px -1px}.leaflet-draw-toolbar .leaflet-draw-edit-remove.leaflet-disabled{background-position:-242px -2px}.leaflet-touch .leaflet-draw-toolbar .leaflet-draw-edit-remove.leaflet-disabled{background-position:-240px -2px}\n.leaflet-mouse-marker{background-color:#fff;cursor:crosshair}.leaflet-draw-tooltip{background:#363636;background:rgba(0,0,0,0.5);border:1px solid transparent;-webkit-border-radius:4px;border-radius:4px;color:#fff;font:12px/18px "Helvetica Neue",Arial,Helvetica,sans-serif;margin-left:20px;margin-top:-21px;padding:4px 8px;position:absolute;visibility:hidden;white-space:nowrap;z-index:6}.leaflet-draw-tooltip:before{border-right:6px solid black;border-right-color:rgba(0,0,0,0.5);border-top:6px solid transparent;border-bottom:6px solid transparent;content:"";position:absolute;top:7px;left:-7px}\n.leaflet-error-draw-tooltip{background-color:#f2dede;border:1px solid #e6b6bd;color:#b94a48}.leaflet-error-draw-tooltip:before{border-right-color:#e6b6bd}.leaflet-draw-tooltip-single{margin-top:-12px}.leaflet-draw-tooltip-subtext{color:#f8d5e4}.leaflet-draw-guide-dash{font-size:1%;opacity:.6;position:absolute;width:5px;height:5px}.leaflet-edit-marker-selected{background-color:rgba(254,87,161,0.1);border:4px dashed rgba(254,87,161,0.6);-webkit-border-radius:4px;border-radius:4px;box-sizing:content-box}\n.leaflet-edit-move{cursor:move}.leaflet-edit-resize{cursor:pointer}.leaflet-oldie .leaflet-draw-toolbar{border:1px solid #999}',""])},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAAeCAYAAACWuCNnAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAG7AAABuwBHnU4NQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAbvSURBVHic7dtdbBxXFQfw/9nZ3SRKwAP7UFFUQOoHqGnUoEAoNghX9tyxVcpD1X0J+WgiUQmpfUB5ACSgG1qJIKASqBIUIauqAbWseIlqb+bOWHVR6y0FKZBEqdIUQROIREGRx3FFvR/38ODZst3a3nE8Ywfv+T2t7hzdM3fle/bOnWtACCGEEEIIIYQQQgghhBBCCCGEEEIIIcRa0EbfgBDdFItFKwzDAa3175LuWylVAvBIR/MxrXUp6Vxx9dp4VyObVEdKKW591lonXgiVUg6AHzPzk9ls9meVSmUh6RzXkz179uQKhcIgM+8CACI6U6vVnp+enm6knXt4ePiuTCbzWQAwxlSDIHg57ZwroDAMnwKwz3XdBzzPG08hxzsTNprQG2lTjtd13WFmfghAP4A+AJcATFiW9YNKpfL3uP0kUliiX4SG1pqUUpx0wXJd9/PMXAGwPWq6yMyPz8/P/7xarf4nyVwt7QV4JWkU52i8YwBu6bh0wRhzJAiCF5POCQCDg4N2Pp//NYDRjkuTxph9QRCESeYrFov5ubm5R5n5AIAPtV1aYOb7BgYGTpZKJeO67lFmPsbM9/i+/8Ja8y6zylhOYquPXhsvAJRKpczMzMwTAIaJ6LFGo+HNzs5eKRQKNxPRAWb+CoAjWuvn4vS35skWFasxAAdbbUlOYqVUPwAPwI4lLr8J4KeWZT1eqVTmksoZ5d2QghUVKx/AlmVCFph5yPf9l5LMCwBKqUksFqszRHQcAJj5GwB2MfOE7/tfTDKf4zjHiejrAE4CuNhqZ+bf2rY9FYbhGBH92/O8o47j3Oj7/uUk86+3XhsvACilHmPmgW3btn3pxIkTVzuvj4yMfNoY85wxZiQIglPd+lvTZIuq5xiAQwCe6evr218ul5tr6bNd9GiiAbyvS+hFrfVHk8oLbEzBih4Dz+G9K6t3IaLXFhYWdib5eBh911UA8wBu1lq/CQBDQ0M3WJb1OoAdRPQZz/NeSSqnUuofAKpa6/vb26MfwacA7AdwFcCdWuu/JpU3yl1C91VHoquNXhvvyMjIx4wxr1iWtbNSqfxruTjHcR4AcMj3/bu79XnNe1hpFyvHcXYT0QS6FysASHR1tVEKhcIguhQrAGDm23K53BcATCWV27KsAWYGgPOtYgUAU1NT/1RKnQewxxjzOQCJFSwANwI4297QtmLfD+AtZr43m83OJ5iz3bGU+l1OT43XGFNk5mdXKlYAYNv2eBiG31dK3aS1vrRSbOZabqRYLFppFisAIKJxAB+MGf56krk30O64gZlMJnZsHMxsoo8fHxoauqHVHn3+BAAQUaxV57Xq2F54i5nvIaJXm81mYoX5etID491JRH/sFlQul5tEdMoYc3u32FUXrLYvObViBQDM/MQqwi8knX8jEJHpHrXIGJNo8WDm1spph2VZgeu6+5RSX7YsK8D/Xnb8Psmcnebm5h7G4uS9ysxutOH8VQC70sy7UTb7eImImTnWlgkzUyaT6fr3v6qC1fGL8EytVjuQRrECANu2fwHg1TixzPyXNO5hvTHz6VWE/znJ3L7vzxBRa9PzDmb+FYBfArgjajvd39+f9vGGKwACZh5te6mwmc8KburxMvO5TCbzqW5xxWLRArDbsqyu8z32HtZSxSrNM0Hlcrnpum6JmZ+NEb4pHglrtdrz+Xz+AoBbu4Ser9fra37d3YEBfBvAkq+XmfmbpVIp9grwWnie9zSAp9PMcT3Z7OPNZrO/aTQaf1BKfbd9X7RTGIaHmPlcnPNYsVZYSikOw7AB4CAzj/f19e1fjwOMnueVEeMxJJfLbYqCNT093TDGHAGw0qHYBQBH0vj+Pc+bYOb3HFRk5nHf9yeTzgfgMhF9uEvMTQD+71/vR3pqvJOTk28AeBJAeXR09P1LxbiuuxfA9wB8LU6fsVdYrUOhtm0fTusxcAlMRN+KziUt5SqAM3v37r00OZnGfFp/QRC86DjOUCaTGWPm2zoun8fiIbuZtPLX6/UH8/n8rQDuippertfrD6aRKyqOR5VS81ji8Z+IbmfmgwB+mEb+9dZr4wWA/v7+R6rV6k+azeYpx3EezeVyJ7dv335lfn7+lkajcZCZDzPzYd/3/xSnv9gFq3UuaR2LFQDA87xAKVUB8BEAZ6N9nrNEdEZr/TcArLVOPG8aJ9jj8n3/pcHBwZ1btmx5519zmPl0vV5/Ie2V7fT09Nujo6Nus9kcA4CtW7ce1lq/nUYu27a/Mzs7CyI6gMVX/u/CzJeZ+Ue2bcc9pb1aXc8lJZms18YLANE2wkOu694N4OFGo3E8DMMPAHiDiCaY+ZOb4YCsEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhEjYfwGO+b5dFNs4OgAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAA8CAYAAAC6nMS5AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA16SURBVHic7d1/jBxneQfw7zNzvotdn+9sVQkxoRKoammBqqpbk6uT5mLfvHPn42yn1VFRVCEhoFH5IYpoSaUCKi1NcGkcfrbCVRFKEwG2aHLn83pmLvY2CTqT1AmCOBE0EOT4B0nBPw/snb2dp3/sLr6s77i923dud/a+H8ny7tzMo8f3eud99p133gGIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiFYGaXYCRETUPMYYrWe/MAzZX2QQ27d5OpqdABFROxgZGVlz5cqVrzuOc18QBJPNzofsYvvSYrVcgTVftZ2l6npgYODXHMc5oKoHHcfZHQTB2WbnRETpGRkZWVMoFA6IyO2qutX3/R1Z64TnO8fWOwLSzti+mSKDg4M3l0qlnSJyG4CbAFwP4ByAlwE8paoPX3fddcH4+PjP00yk5QqsrDPGvAZAHsBrReRNqvpeY8x/iMg9QRCcaXJ6ZIHv+xtUdReAHQBej/IHGABOAnhORMY6OjoempiYONe0JC3zPM84jjOqqrfi6r/3RQCPAdgXhmHUvOyaa3R01L1w4cJBALdVNq1W1THP87woir7ZzNyocWzf7PA8b4uI7E6S5A9Frqknb6j8eZOIvKNQKPzU9/1/dhznvlwuV0gjn5YbFapW09Vqu/Z9K9u2bdsNruvmUe50axUAfMV13X/I5XInlzcze2x/28lCu1b19fWt7u7u/hCAvwGwboHdL6jq7unp6T1TU1OXlyG9VAwODv5mkiR7Ady6wK6Plkqldz/yyCPfX468bBkaGuqamZm5E8DbReQNANYscMiLIrI1CILnZ280xrwHwL+hck4VkacBDLTS6HVaIxWt/Blm+zauldu3atOmTas2bNjwWRG5s7LplKp+VUQOuq77/bVr17589uzZ9SKy0XGcAVUdFZE/qOx7zHXdXWn0yy31i6sMw/4MyF6BZYy5XlWPiMhvL7BrrKpfcxznE7Uf4ixYqQWW53kbATw060NZr28nSbJzcnLyRBp5pcnzvNtE5CEAvXUecg7ArjAMH00xLWuGhoZuKpVKEwB+p85DXnRd9/ZcLvcDAOjv778un88XAChwtRMWkW+jxTpfYOV1wGxfO1q1fav6+vpWr1u3blxVtwH4uar+/fT09OcW+mJrjBkBcC+AXwdwBoAJw/AZm7m1zC+uUlyNA9g6189buZH7+/t/tbOz8wiANy7isKKqftV13U8eOnToe2nlZttKLLAqJ+qjAF69xBAnZ2Zmbj58+PApm3mlqTJydRTXFldHAUxVXvcBuLnm5+dU9c1RFP1v2jk2YmhoqKtUKj2B+jvfE0mS3D45OflD4OqcHADPh2H4F6h0wp7nva1YLOby+fz5dDKnerB9Vwzxff8BVX0bgFMAdoZheKzeg4eHh9cXi8WvAfAAvOC67ptzudz/WUvOVqBGVO7OmBCR/vn2adWOuL+/v7ezs3MSwKYlhkgAHBSRjwdB8JTF1FKx0gqsymXBxwH8XoOh/ieO41vz+fwVG3mlzRjzKF55WfA8gD8LwzA3ez/P87aLyIMAeqrbVDUfRdHty5Pp0hhjPgDgM9X3qnq/iNwPYM5RCdd1T1RPvLM63+q/ce/sTpiaj+27Mvi+f6eq/iuAi67r9uVyuWcXG6NSjB8B0KeqE1EUvcVWfk3v3OYZuXosjuPt+Xx+ull51WNgYKBHRKIlXDaaS6Kq+6Mo+lMLsVKz0gosz/M+KiKfsBTub8MwvMdSrNQYYzwAYc3m7bXFVZXv+8OqemD2NlUdiKLokbRybJQx5lsANlfefi4Mww/UedyvADgI4I9mbxeRDwdB8C92s0yHrc9wK3922b6Na+X2BYD+/v61nZ2dz6M8cX00DMP9S421ffv2V83MzDwHoNfmucuxEWSpslxcjYyMrHEcZ8xScQUAjoj8vqVYZIHv+xtE5MMWQ941PDy83mK8VIjIW2s2HZ2vuAKAIAgmADyxQIxWM3uu5J56DhgZGVkDYBw1nS+ApwB82VJeZAfbt82tWrXqPSgXV481UlwBwMGDB3+sqncDgIh81EZ+QBMLrKwXV5Uh5NoPYqMyN+m9nanqHVj4bsHF6InjeKfFeKmoLMUw+/2Ct6KLyOM1m2x/NmxbW30RhuGPFtp5jstGVU+JiNdqE57rEYahzB6lWOz7Fsf2be/2hYj8SeXlvTbiFYvFLwK4DOAWY8z1NmI2pcDKcnE1OjraWSgU9uPaD2LDRKSlJwavQCO2A4rIDtsxU7BxsQeoau2Jeak3BDTDL72kUm/n63neaFoJUkPYvm3G9/0NKN9gc7mrq6t2OsOSVGqPSQCuiAzaiLnsBVaWiysAuHDhwn4AQ2nEVtUfpBGXluwNKcRcaBmPVpDMfiMiW+o4pnafZM69MmYxnW9lsj9lCNs3m1T1tSjXL89aXo39WCX+62wEW9YCK+vFVcXLKcbmJcLW8qoUYmZhZOfFmvc3e563fb6djTFvwdUJxfPFyJx6O1/f999a6Xz5ZIwMYftm2o2Vv60+HUVETldeLnoUfy7LVmC1SXEFVf0YgFSeX5QkCQus9tfyIzsicnSObQ/6vj9cu71SXP1nPTGyplAo5FDT+arqk3Ecb5s9J0dV2flmENs3u0REgTmnJjRkVjwrd2Iuy3+adimuACCKotPGmC8A+GvLoZOZmZkXLMekBojIaVX9DcthTy+8S3MlSTIuIu+q2dyjqgeMMU8A+CYAUdUtAOa8izZJkvG081wG19xN5jjO4ByLTLrLlRBZxfbNrjMAICI3LrTjIlVHrqyMjKU+gtVOxVVVHMf/hHkWrGvAiawsQrlSqOqiF61rRkzbOjo6AsxfCG4G8FcAPvhLlih5qVgsWpl42kIyezcZ1YXtmy0/QvlqwG9V1i6zZRMAiIiV+dCpFljtWFwBQOUbzqcth+XlwdZjfRRGRMZsx7St8mT5zzcQ4r52+LKgqp9S1U8B+GTtZSPKPrZvdlXaagrAalU1NmJWCrVtAEqO4xyyETO1S4TtWlxVXbp06b7u7u6/BHCTjXiqygKrxYjIQ6p6L2Y9BqZB51etWtXyBRYAuK77hVKp9H5cnUxarzOu634xjZyWWxRFdzU7B0oP2zfbVPUbIrLFcZwPAfivRuOJyPtUdbWq5m09jzCVEax2L64AYGpq6rKq/qOteI7jsMBqMUEQnFXV3bbiqerdExMT52zFS1Mul7soIovugETkI7lc7mIaORERVRWLxS8BeElVb/F9v6EnR/i+f6Oq3gUAjuPYejSavQLLGKPVP4VC4Wd4ZXF1pKura7Bdiquq3t7efwfwnKVwLLBa0PT09B5U1kZp0BPFYvGzFuIsmyAI7kf5uWz1OhgEwTV3FLaoX5yLKosWLknNsZcayohsYvu2uUo98TEAUNW9vu8vad3CoaGhLlX9BoBeAONBEByxleNyLNPwWBzHOywvBtYS9u3bV1LVj1sKxwKrBU1NTV12XXcXgFMNhDmpqndkcF6SisifAzhRx76n4jh+Byzd3rwMjldfqOqSV+xPkmT2yvzH592RlhvbdwUIw3AvgAcArFPVcHBwcFHPBvZ9f0OpVDqA8qrwL8Rx/E6b+VkvsGqfZ9ROlwXnEkXRfgDfajCMXrx48Yc28iH7crncSVXdrKpPLvZYEXk6SZItURS1/PIMcwmC4KzjOCMAam9dn+0SgJ35fP4ny5SWDQ/Mer3HGLPoTtgYMyIiv3gOmqpmZfRuJWD7rgwax/G7UH7EzcYkSf7bGHNXX1/f6oUO9H1/Z+WcPoDysgw7bJ/DUl8Hq52LqwoVkb9T1WiRx8UoX158RlWfnJqaupxCbmRJFEWn+/r6buvu7v4ggI9g4Ynv50XknkKh8JkMjly9wqFDh77j+/6oqo4BqD1xXRaRPw6CwMZl1GXjuu6XSqXSOwH8LoD1AMaMMecA1PtF53WV4wCUC+menp699jOlpWD7rhz5fP5Kf3//UFdX132q+l4Ad3d3d7/fGPN1EZlQ1e/19PS8dPbs2fWu694kIgOqOqqqm4Dy4rKlUumOw4cPN3KVYk7WVkE1xsx5aSBLT+duhDEmQrkSnssZlIeXnxWRY6p6PI7j41nveFeq4eHh9XEc7xSRnQBej6t3kp5EuWh+OI7jh+dYsDDTfN/frKrjAKpPmv9pkiS7JicnH29mXku1devWV3d0dBxAuRNeMhF5ulgsjqRxgk7DfOfqxWr1czvbtzGt3r5zGRwc7FPV3ap6y0L7ishPAHx63bp1e/bt2xenkQ8LLEuMMZtE5JCqfhfAMwCeSZLkO2vWrDk+NjbGyZHUFjzP2yginwcAVX1fVi99Vo2OjnaeP3/+3SLydgBvBNBd56GXAHxXVR/s7e3dm9YJOg0rqQNm+y5dFtp3HmKM2QxgF8qr9b8GwA0AzgH4MYBjIjJ28eLFkFeOiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIhWgv8Hnffz4dmwY9cAAAAASUVORK5CYII="},function(t,e,i){"use strict";t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?i+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e,i){var r;L.drawVersion="0.4.13",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(t,e){this._map=t,this._container=t._container,this._overlayPane=t._panes.overlayPane,this._popupPane=t._panes.popupPane,e&&e.shapeOptions&&(e.shapeOptions=L.Util.extend({},this.options.shapeOptions,e.shapeOptions)),L.setOptions(this,e);var i=L.version.split(".");1===parseInt(i[0],10)&&parseInt(i[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(L.DomUtil.disableTextSelection(),t.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(t){L.setOptions(this,t)},_fireCreatedEvent:function(t){this._map.fire(L.Draw.Event.CREATED,{layer:t,layerType:this.type})},_cancelDrawing:function(t){27===t.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(t,e){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,e&&e.drawError&&(e.drawError=L.Util.extend({},this.options.drawError,e.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var t=this._markers.pop(),e=this._poly,i=e.getLatLngs(),n=i.splice(-1,1)[0];this._poly.setLatLngs(i),this._markerGroup.removeLayer(t),e.getLatLngs().length<2&&this._map.removeLayer(e),this._vertexChanged(n,!1)}},addVertex:function(t){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(t)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(t)),this._poly.addLatLng(t),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(t,!0))},completeShape:function(){this._markers.length<=1||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var t=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),e=this._poly.newLatLngIntersects(t[t.length-1]);!this.options.allowIntersection&&e||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent),i=this._map.layerPointToLatLng(e);this._currentLatLng=i,this._updateTooltip(i),this._updateGuide(e),this._mouseMarker.setLatLng(i),L.DomEvent.preventDefault(t.originalEvent)},_vertexChanged:function(t,e){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(t,e),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(t){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(t),this._clickHandled=!0,this._disableNewMarkers();var e=t.originalEvent,i=e.clientX,n=e.clientY;this._startPoint.call(this,i,n)}},_startPoint:function(t,e){this._mouseDownOrigin=L.point(t,e)},_onMouseUp:function(t){var e=t.originalEvent,i=e.clientX,n=e.clientY;this._endPoint.call(this,i,n,t),this._clickHandled=null},_endPoint:function(e,i,n){if(this._mouseDownOrigin){var r=L.point(e,i).distanceTo(this._mouseDownOrigin),o=this._calculateFinishDistance(n.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(n.latlng),this._finishShape()):o<10&&L.Browser.touch?this._finishShape():Math.abs(r)<9*(t.devicePixelRatio||1)&&this.addVertex(n.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(t){var e,i,n=t.originalEvent;!n.touches||!n.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(e=n.touches[0].clientX,i=n.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,e,i),this._endPoint.call(this,e,i,t),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(t){var e;if(this._markers.length>0){var i;if(this.type===L.Draw.Polyline.TYPE)i=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;i=this._markers[0]}var n=this._map.latLngToContainerPoint(i.getLatLng()),r=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(r.getLatLng());e=n.distanceTo(o)}else e=1/0;return e},_updateFinishHandler:function(){var t=this._markers.length;t>1&&this._markers[t-1].on("click",this._finishShape,this),t>2&&this._markers[t-2].off("click",this._finishShape,this)},_createMarker:function(t){var e=new L.Marker(t,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(e),e},_updateGuide:function(t){var e=this._markers?this._markers.length:0;e>0&&(t=t||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[e-1].getLatLng()),t))},_updateTooltip:function(t){var e=this._getTooltipText();t&&this._tooltip.updatePosition(t),this._errorShown||this._tooltip.updateContent(e)},_drawGuide:function(t,e){var i,n,r,o=Math.floor(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))),a=this.options.guidelineDistance,s=this.options.maxGuideLineLength,l=o>s?o-s:a;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));l<o;l+=this.options.guidelineDistance)i=l/o,n={x:Math.floor(t.x*(1-i)+i*e.x),y:Math.floor(t.y*(1-i)+i*e.y)},(r=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(r,n)},_updateGuideColor:function(t){if(this._guidesContainer)for(var e=0,i=this._guidesContainer.childNodes.length;e<i;e++)this._guidesContainer.childNodes[e].style.backgroundColor=t},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var t,e,i=this.options.showLength;return L.Browser.touch&&(i=!1),0===this._markers.length?t={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(e=i?this._getMeasurementString():"",t=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:e}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:e}),t},_updateRunningMeasure:function(t,e){var i,n,r=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(i=r-(e?2:1),n=L.GeometryUtil.isVersion07x()?t.distanceTo(this._markers[i].getLatLng())*(this.options.factor||1):this._map.distance(t,this._markers[i].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=n*(e?1:-1))},_getMeasurementString:function(){var t,e=this._currentLatLng,i=this._markers[this._markers.length-1].getLatLng();return t=L.GeometryUtil.isVersion07x()?i&&e&&e.distanceTo?this._measurementRunningTotal+e.distanceTo(i)*(this.options.factor||1):this._measurementRunningTotal||0:i&&e?this._measurementRunningTotal+this._map.distance(e,i)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(t,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var t=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(t,e){L.Draw.Polyline.prototype.initialize.call(this,t,e),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var t=this._markers.length;1===t&&this._markers[0].on("click",this._finishShape,this),t>2&&(this._markers[t-1].on("dblclick",this._finishShape,this),t>3&&this._markers[t-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var t,e;return 0===this._markers.length?t=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(t=L.drawLocal.draw.handlers.polygon.tooltip.cont,e=this._getMeasurementString()):(t=L.drawLocal.draw.handlers.polygon.tooltip.end,e=this._getMeasurementString()),{text:t,subtext:e}},_getMeasurementString:function(){var t=this._area,e="";return t||this.options.showLength?(this.options.showLength&&(e=L.Draw.Polyline.prototype._getMeasurementString.call(this)),t&&(e+="<br>"+L.GeometryUtil.readableArea(t,this.options.metric,this.options.precision)),e):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(t,e){var i;!this.options.allowIntersection&&this.options.showArea&&(i=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(i)),L.Draw.Polyline.prototype._vertexChanged.call(this,t,e)},_cleanUpShape:function(){var t=this._markers.length;t>0&&(this._markers[0].off("click",this._finishShape,this),t>2&&this._markers[t-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(t,e){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),e.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(e,"mouseup",this._onMouseUp,this),L.DomEvent.off(e,"touchend",this._onMouseUp,this),e.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(t){this._isDrawing=!0,this._startLatLng=t.latlng,L.DomEvent.on(e,"mouseup",this._onMouseUp,this).on(e,"touchend",this._onMouseUp,this).preventDefault(t.originalEvent)},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(e))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,showArea:!0,clickable:!0},metric:!0},initialize:function(t,e){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(t){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}(t.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(t){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,t)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,t),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_getTooltipText:function(){var t,e,i,n=L.Draw.SimpleShape.prototype._getTooltipText.call(this),r=this._shape,o=this.options.showArea;return r&&(t=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),e=L.GeometryUtil.geodesicArea(t),i=o?L.GeometryUtil.readableArea(e,this.options.metric):""),{text:n.text,subtext:i}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._marker&&(this._marker.off("click",this._onClick,this),this._map.off("click",this._onClick,this).off("click",this._onTouch,this).removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(t){var e=t.latlng;this._tooltip.updatePosition(e),this._mouseMarker.setLatLng(e),this._marker?(e=this._mouseMarker.getLatLng(),this._marker.setLatLng(e)):(this._marker=this._createMarker(e),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(t){return new L.Marker(t,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(t){this._onMouseMove(t),this._onClick()},_fireCreatedEvent:function(){var t=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(t,e){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,t,e)},_fireCreatedEvent:function(){var t=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,t)},_createMarker:function(t){return new L.CircleMarker(t,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(t,e){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,t,e)},_drawShape:function(t){if(L.GeometryUtil.isVersion07x())var e=this._startLatLng.distanceTo(t);else e=this._map.distance(this._startLatLng,t);this._shape?this._shape.setRadius(e):(this._shape=new L.Circle(this._startLatLng,e,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var t=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,t)},_onMouseMove:function(t){var e,i=t.latlng,n=this.options.showRadius,r=this.options.metric;if(this._tooltip.updatePosition(i),this._isDrawing){this._drawShape(i),e=this._shape.getRadius().toFixed(1);var o="";n&&(o=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(e,r,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:o})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(t,e){this._marker=t,L.setOptions(this,e)},addHooks:function(){var t=this._marker;t.dragging.enable(),t.on("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},removeHooks:function(){var t=this._marker;t.dragging.disable(),t.off("dragend",this._onDragEnd,t),this._toggleMarkerHighlight()},_onDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_toggleMarkerHighlight:function(){var t=this._marker._icon;t&&(t.style.display="none",L.DomUtil.hasClass(t,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,-4)):(L.DomUtil.addClass(t,"leaflet-edit-marker-selected"),this._offsetMarker(t,4)),t.style.display="")},_offsetMarker:function(t,e){var i=parseInt(t.style.marginTop,10)-e,n=parseInt(t.style.marginLeft,10)-e;t.style.marginTop=i+"px",t.style.marginLeft=n+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(t){this.latlngs=[t._latlngs],t._holes&&(this.latlngs=this.latlngs.concat(t._holes)),this._poly=t,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(t){for(var e=0;e<this._verticesHandlers.length;e++)t(this._verticesHandlers[e])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(t){t.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(t){t.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(t){t.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var t=0;t<this.latlngs.length;t++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[t],this._poly.options.poly))},_updateLatLngs:function(t){this.latlngs=[t.layer._latlngs],t.layer._holes&&(this.latlngs=this.latlngs.concat(t.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(t,e,i){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=t,i&&i.drawError&&(i.drawError=L.Util.extend({},this.options.drawError,i.drawError)),this._latlngs=e,L.setOptions(this,i)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var t=this._poly,e=t._path;t instanceof L.Polygon||(t.options.fill=!1,t.options.editing&&(t.options.editing.fill=!1)),e&&t.options.editing.className&&(t.options.original.className&&t.options.original.className.split(" ").forEach(function(t){L.DomUtil.removeClass(e,t)}),t.options.editing.className.split(" ").forEach(function(t){L.DomUtil.addClass(e,t)})),t.setStyle(t.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var t=this._poly,e=t._path;e&&t.options.editing.className&&(t.options.editing.className.split(" ").forEach(function(t){L.DomUtil.removeClass(e,t)}),t.options.original.className&&t.options.original.className.split(" ").forEach(function(t){L.DomUtil.addClass(e,t)})),t.setStyle(t.options.original),t._map&&(t._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var t,e,i,n,r,o,a=this._defaultShape();for(t=0,i=a.length;t<i;t++)(n=this._createMarker(a[t],t)).on("click",this._onMarkerClick,this),this._markers.push(n);for(t=0,e=i-1;t<i;e=t++)(0!==t||L.Polygon&&this._poly instanceof L.Polygon)&&(r=this._markers[e],o=this._markers[t],this._createMiddleMarker(r,o),this._updatePrevNext(r,o))},_createMarker:function(t,e){var i=new L.Marker.Touch(t,{draggable:!0,icon:this.options.icon});return i._origLatLng=t,i._index=e,i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(i),i},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var t=this._defaultShape(),e=[].splice.apply(t,arguments);return this._poly._convertLatLngs(t,!0),this._poly.redraw(),e},_removeMarker:function(t){var e=t._index;this._markerGroup.removeLayer(t),this._markers.splice(e,1),this._spliceLatLngs(e,1),this._updateIndexes(e,-1),t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(t){var e=t.target,i=this._poly;if(L.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),i.options.poly){var n=i._map._editTooltip;if(!i.options.poly.allowIntersection&&i.intersects()){var r=i.options.color;i.setStyle({color:this.options.drawError.color}),0!==L.version.indexOf("0.7")&&e.dragging._draggable._onUp(t),this._onMarkerClick(t),n&&n.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){i.setStyle({color:r}),n&&n.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(t){var e=L.Polygon&&this._poly instanceof L.Polygon?4:3,i=t.target;this._defaultShape().length<e||(this._removeMarker(i),this._updatePrevNext(i._prev,i._next),i._middleLeft&&this._markerGroup.removeLayer(i._middleLeft),i._middleRight&&this._markerGroup.removeLayer(i._middleRight),i._prev&&i._next?this._createMiddleMarker(i._prev,i._next):i._prev?i._next||(i._prev._middleRight=null):i._next._middleLeft=null,this._fireEdit())},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),i=this._map.layerPointToLatLng(e),n=t.target;L.extend(n._origLatLng,i),n._middleLeft&&n._middleLeft.setLatLng(this._getMiddleLatLng(n._prev,n)),n._middleRight&&n._middleRight.setLatLng(this._getMiddleLatLng(n,n._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(t,e){this._markerGroup.eachLayer(function(i){i._index>t&&(i._index+=e)})},_createMiddleMarker:function(t,e){var i,n,r,o=this._getMiddleLatLng(t,e),a=this._createMarker(o);a.setOpacity(.6),t._middleRight=e._middleLeft=a,n=function(){a.off("touchmove",n,this);var r=e._index;a._index=r,a.off("click",i,this).on("click",this._onMarkerClick,this),o.lat=a.getLatLng().lat,o.lng=a.getLatLng().lng,this._spliceLatLngs(r,0,o),this._markers.splice(r,0,a),a.setOpacity(1),this._updateIndexes(r,1),e._index++,this._updatePrevNext(t,a),this._updatePrevNext(a,e),this._poly.fire("editstart")},r=function(){a.off("dragstart",n,this),a.off("dragend",r,this),a.off("touchmove",n,this),this._createMiddleMarker(t,a),this._createMiddleMarker(a,e)},i=function(){n.call(this),r.call(this),this._fireEdit()},a.on("click",i,this).on("dragstart",n,this).on("dragend",r,this).on("touchmove",n,this),this._markerGroup.addLayer(a)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var i=this._poly._map,n=i.project(t.getLatLng()),r=i.project(e.getLatLng());return i.unproject(n._add(r)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(t,e){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=t,L.Util.setOptions(this,e)},addHooks:function(){var t=this._shape;this._shape._map&&(this._map=this._shape._map,t.setStyle(t.options.editing),t._map&&(this._map=t._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var t=this._shape;if(t.setStyle(t.options.original),t._map){this._unbindMarker(this._moveMarker);for(var e=0,i=this._resizeMarkers.length;e<i;e++)this._unbindMarker(this._resizeMarkers[e]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(t,e){var i=new L.Marker.Touch(t,{draggable:!0,icon:e,zIndexOffset:10});return this._bindMarker(i),this._markerGroup.addLayer(i),i},_bindMarker:function(t){t.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(t){t.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(t){t.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(t){var e=t.target,i=e.getLatLng();e===this._moveMarker?this._move(i):this._resize(i),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(t){t.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(t){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t),"function"==typeof this._getCorners){var e=this._getCorners(),i=t.target,n=i._cornerIndex;i.setOpacity(0),this._oppositeCorner=e[(n+2)%4],this._toggleCornerMarkers(0,n)}this._shape.fire("editstart")},_onTouchMove:function(t){var e=this._map.mouseEventToLayerPoint(t.originalEvent.touches[0]),i=this._map.layerPointToLatLng(e);return t.target===this._moveMarker?this._move(i):this._resize(i),this._shape.redraw(),!1},_onTouchEnd:function(t){t.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){var t=this._getCorners();this._resizeMarkers=[];for(var e=0,i=t.length;e<i;e++)this._resizeMarkers.push(this._createMarker(t[e],this.options.resizeIcon)),this._resizeMarkers[e]._cornerIndex=e},_onMarkerDragStart:function(t){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,t);var e=this._getCorners(),i=t.target._cornerIndex;this._oppositeCorner=e[(i+2)%4],this._toggleCornerMarkers(0,i)},_onMarkerDragEnd:function(t){var e,i=t.target;i===this._moveMarker&&(e=this._shape.getBounds().getCenter(),i.setLatLng(e)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,t)},_move:function(t){for(var e,i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),n=this._shape.getBounds().getCenter(),r=[],o=0,a=i.length;o<a;o++)e=[i[o].lat-n.lat,i[o].lng-n.lng],r.push([t.lat+e[0],t.lng+e[1]]);this._shape.setLatLngs(r),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(t){var e;this._shape.setBounds(L.latLngBounds(t,this._oppositeCorner)),e=this._shape.getBounds(),this._moveMarker.setLatLng(e.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var t=this._shape.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]},_toggleCornerMarkers:function(t){for(var e=0,i=this._resizeMarkers.length;e<i;e++)this._resizeMarkers[e].setOpacity(t)},_repositionCornerMarkers:function(){for(var t=this._getCorners(),e=0,i=this._resizeMarkers.length;e<i;e++)this._resizeMarkers[e].setLatLng(t[e])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var t=this._shape.getLatLng();this._moveMarker=this._createMarker(t,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(t){if(this._resizeMarkers.length){var e=this._getResizeMarkerPoint(t);this._resizeMarkers[0].setLatLng(e)}this._shape.setLatLng(t),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var t=this._shape.getLatLng(),e=this._getResizeMarkerPoint(t);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(e,this.options.resizeIcon))},_getResizeMarkerPoint:function(t){var e=this._shape._radius*Math.cos(Math.PI/4),i=this._map.project(t);return this._map.unproject([i.x+e,i.y-e])},_resize:function(t){var e=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=e.distanceTo(t):radius=this._map.distance(e,t),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart),L.DomEvent.off(this._container,"touchend",this._onTouchEnd),L.DomEvent.off(this._container,"touchmove",this._onTouchMove),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDowm",this._onTouchStart),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave))},_touchEvent:function(t,e){var i={};if(void 0!==t.touches){if(!t.touches.length)return;i=t.touches[0]}else{if("touch"!==t.pointerType)return;if(i=t,!this._filterClick(t))return}var n=this._map.mouseEventToContainerPoint(i),r=this._map.mouseEventToLayerPoint(i),o=this._map.layerPointToLatLng(r);this._map.fire(e,{latlng:o,layerPoint:r,containerPoint:n,pageX:i.pageX,pageY:i.pageY,originalEvent:t})},_filterClick:function(t){var e=t.timeStamp||t.originalEvent.timeStamp,i=L.DomEvent._lastClick&&e-L.DomEvent._lastClick;return i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated?(L.DomEvent.stop(t),!1):(L.DomEvent._lastClick=e,!0)},_onTouchStart:function(t){this._map._loaded&&this._touchEvent(t,"touchstart")},_onTouchEnd:function(t){this._map._loaded&&this._touchEvent(t,"touchend")},_onTouchCancel:function(t){if(this._map._loaded){var e="touchcancel";this._detectIE()&&(e="pointercancel"),this._touchEvent(t,e)}},_onTouchLeave:function(t){this._map._loaded&&this._touchEvent(t,"touchleave")},_onTouchMove:function(t){this._map._loaded&&this._touchEvent(t,"touchmove")},_detectIE:function(){var e=t.navigator.userAgent,i=e.indexOf("MSIE ");if(i>0)return parseInt(e.substring(i+5,e.indexOf(".",i)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?e.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):e.concat(["touchcancel"]),L.DomUtil.addClass(t,"leaflet-clickable"),L.DomEvent.on(t,"click",this._onMouseClick,this),L.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var i=0;i<e.length;i++)L.DomEvent.on(t,e[i],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var e=t.navigator.userAgent,i=e.indexOf("MSIE ");if(i>0)return parseInt(e.substring(i+5,e.indexOf(".",i)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)}}),L.LatLngUtil={cloneLatLngs:function(t){for(var e=[],i=0,n=t.length;i<n;i++)Array.isArray(t[i])?e.push(L.LatLngUtil.cloneLatLngs(t[i])):e.push(this.cloneLatLng(t[i]));return e},cloneLatLng:function(t){return L.latLng(t.lat,t.lng)}},r={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2},L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(t){var e,i,n=t.length,r=0,o=Math.PI/180;if(n>2){for(var a=0;a<n;a++)e=t[a],r+=((i=t[(a+1)%n]).lng-e.lng)*o*(2+Math.sin(e.lat*o)+Math.sin(i.lat*o));r=6378137*r*6378137/2}return Math.abs(r)},formattedNumber:function(t,e){var i=parseFloat(t).toFixed(e),n=L.drawLocal.format&&L.drawLocal.format.numeric,r=n&&n.delimiters,o=r&&r.thousands,a=r&&r.decimal;if(o||a){var s=i.split(".");i=o?s[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o):s[0],a=a||".",s.length>1&&(i=i+a+s[1])}return i},readableArea:function(t,e,i){var o,a;return i=L.Util.extend({},r,i),e?(a=["ha","m"],type=void 0===e?"undefined":n(e),"string"===type?a=[e]:"boolean"!==type&&(a=e),o=t>=1e6&&-1!==a.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*t,i.km)+" km²":t>=1e4&&-1!==a.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*t,i.ha)+" ha":L.GeometryUtil.formattedNumber(t,i.m)+" m²"):o=(t/=.836127)>=3097600?L.GeometryUtil.formattedNumber(t/3097600,i.mi)+" mi²":t>=4840?L.GeometryUtil.formattedNumber(t/4840,i.ac)+" acres":L.GeometryUtil.formattedNumber(t,i.yd)+" yd²",o},readableDistance:function(t,e,i,n,o){var a;switch(o=L.Util.extend({},r,o),e?"string"==typeof e?e:"metric":i?"feet":n?"nauticalMile":"yards"){case"metric":a=t>1e3?L.GeometryUtil.formattedNumber(t/1e3,o.km)+" km":L.GeometryUtil.formattedNumber(t,o.m)+" m";break;case"feet":t*=3.28083,a=L.GeometryUtil.formattedNumber(t,o.ft)+" ft";break;case"nauticalMile":t*=.53996,a=L.GeometryUtil.formattedNumber(t/1e3,o.nm)+" nm";break;case"yards":default:a=(t*=1.09361)>1760?L.GeometryUtil.formattedNumber(t/1760,o.mi)+" miles":L.GeometryUtil.formattedNumber(t,o.yd)+" yd"}return a},isVersion07x:function(){var t=L.version.split(".");return 0===parseInt(t[0],10)&&7===parseInt(t[1],10)}}),L.Util.extend(L.LineUtil,{segmentsIntersect:function(t,e,i,n){return this._checkCounterclockwise(t,i,n)!==this._checkCounterclockwise(e,i,n)&&this._checkCounterclockwise(t,e,i)!==this._checkCounterclockwise(t,e,n)},_checkCounterclockwise:function(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}}),L.Polyline.include({intersects:function(){var t,e,i,n=this._getProjectedPoints(),r=n?n.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=r-1;t>=3;t--)if(e=n[t-1],i=n[t],this._lineSegmentsIntersectsRange(e,i,t-2))return!0;return!1},newLatLngIntersects:function(t,e){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(t),e)},newPointIntersects:function(t,e){var i=this._getProjectedPoints(),n=i?i.length:0,r=i?i[n-1]:null,o=n-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(r,t,o,e?1:0)},_tooFewPointsForIntersection:function(t){var e=this._getProjectedPoints(),i=e?e.length:0;return!e||(i+=t||0)<=3},_lineSegmentsIntersectsRange:function(t,e,i,n){var r,o,a=this._getProjectedPoints();n=n||0;for(var s=i;s>n;s--)if(r=a[s-1],o=a[s],L.LineUtil.segmentsIntersect(t,e,r,o))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var t=[],e=this._defaultShape(),i=0;i<e.length;i++)t.push(this._map.latLngToLayerPoint(e[i]));return t}}),L.Polygon.include({intersects:function(){var t,e,i,n,r=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(t=r.length,e=r[0],i=r[t-1],n=t-2,this._lineSegmentsIntersectsRange(i,e,n,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(t){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var e;L.Control.prototype.initialize.call(this,t),this._toolbars={},L.DrawToolbar&&this.options.draw&&(e=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=e,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(e=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=e,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(t){var e,i=L.DomUtil.create("div","leaflet-draw"),n=!1;for(var r in this._toolbars)this._toolbars.hasOwnProperty(r)&&(e=this._toolbars[r].addToolbar(t))&&(n||(L.DomUtil.hasClass(e,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(e.childNodes[0],"leaflet-draw-toolbar-top"),n=!0),i.appendChild(e));return i},onRemove:function(){for(var t in this._toolbars)this._toolbars.hasOwnProperty(t)&&this._toolbars[t].removeToolbar()},setDrawingOptions:function(t){for(var e in this._toolbars)this._toolbars[e]instanceof L.DrawToolbar&&this._toolbars[e].setOptions(t)},_toolbarEnabled:function(t){var e=t.target;for(var i in this._toolbars)this._toolbars[i]!==e&&this._toolbars[i].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(t){L.setOptions(this,t),this._modes={},this._actionButtons=[],this._activeMode=null;var e=L.version.split(".");1===parseInt(e[0],10)&&parseInt(e[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(t){var e,i=L.DomUtil.create("div","leaflet-draw-section"),n=0,r=this._toolbarClass||"",o=this.getModeHandlers(t);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=t,e=0;e<o.length;e++)o[e].enabled&&this._initModeHandler(o[e].handler,this._toolbarContainer,n++,r,o[e].title);if(n)return this._lastButtonIndex=--n,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),i.appendChild(this._toolbarContainer),i.appendChild(this._actionsContainer),i},removeToolbar:function(){for(var t in this._modes)this._modes.hasOwnProperty(t)&&(this._disposeButton(this._modes[t].button,this._modes[t].handler.enable,this._modes[t].handler),this._modes[t].handler.disable(),this._modes[t].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var e=0,i=this._actionButtons.length;e<i;e++)this._disposeButton(this._actionButtons[e].button,this._actionButtons[e].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(t,e,i,n,r){var o=t.type;this._modes[o]={},this._modes[o].handler=t,this._modes[o].button=this._createButton({type:o,title:r,className:n+"-"+o,container:e,callback:this._modes[o].handler.enable,context:this._modes[o].handler}),this._modes[o].buttonIndex=i,this._modes[o].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream},_createButton:function(t){var e=L.DomUtil.create("a",t.className||"",t.container),i=L.DomUtil.create("span","sr-only",t.container);e.href="#",e.appendChild(i),t.title&&(e.title=t.title,i.innerHTML=t.title),t.text&&(e.innerHTML=t.text,i.innerHTML=t.text);var n=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(e,"click",L.DomEvent.stopPropagation).on(e,"mousedown",L.DomEvent.stopPropagation).on(e,"dblclick",L.DomEvent.stopPropagation).on(e,"touchstart",L.DomEvent.stopPropagation).on(e,"click",L.DomEvent.preventDefault).on(e,n,t.callback,t.context),e},_disposeButton:function(t,e){var i=this._detectIOS()?"touchstart":"click";L.DomEvent.off(t,"click",L.DomEvent.stopPropagation).off(t,"mousedown",L.DomEvent.stopPropagation).off(t,"dblclick",L.DomEvent.stopPropagation).off(t,"touchstart",L.DomEvent.stopPropagation).off(t,"click",L.DomEvent.preventDefault).off(t,i,e)},_handlerActivated:function(t){this.disable(),this._activeMode=this._modes[t.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(t){var e,i,n,r,o=this._actionsContainer,a=this.getActions(t),s=a.length;for(i=0,n=this._actionButtons.length;i<n;i++)this._disposeButton(this._actionButtons[i].button,this._actionButtons[i].callback);for(this._actionButtons=[];o.firstChild;)o.removeChild(o.firstChild);for(var l=0;l<s;l++)"enabled"in a[l]&&!a[l].enabled||(e=L.DomUtil.create("li","",o),r=this._createButton({title:a[l].title,text:a[l].text,container:e,callback:a[l].callback,context:a[l].context}),this._actionButtons.push({button:r,callback:a[l].callback}))},_showActionsToolbar:function(){var t=this._activeMode.buttonIndex,e=this._lastButtonIndex,i=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=i+"px",0===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),t===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(t){this._map=t,this._popupPane=t._panes.popupPane,this._visible=!1,this._container=t.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(t){return this._container?(t.subtext=t.subtext||"",0!==t.subtext.length||this._singleLineLabel?t.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(t.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+t.subtext+"</span><br />":"")+"<span>"+t.text+"</span>",t.text||t.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(t){var e=this._map.latLngToLayerPoint(t),i=this._container;return this._container&&(this._visible&&(i.style.visibility="inherit"),L.DomUtil.setPosition(i,e)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(t){for(var e in this.options)this.options.hasOwnProperty(e)&&t[e]&&(t[e]=L.extend({},this.options[e],t[e]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,t)},getModeHandlers:function(t){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(t,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(t,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(t,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(t,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(t,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(t,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(t){return[{enabled:t.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:t.completeShape,context:t},{enabled:t.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:t.deleteLastVertex,context:t},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(t){for(var e in L.setOptions(this,t),this._modes)this._modes.hasOwnProperty(e)&&t.hasOwnProperty(e)&&this._modes[e].handler.setOptions(t[e])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(t){t.edit&&(void 0===t.edit.selectedPathOptions&&(t.edit.selectedPathOptions=this.options.edit.selectedPathOptions),t.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,t.edit.selectedPathOptions)),t.remove&&(t.remove=L.extend({},this.options.remove,t.remove)),t.poly&&(t.poly=L.extend({},this.options.poly,t.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,t),this._selectedFeatureCount=0},getModeHandlers:function(t){var e=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(t,{featureGroup:e,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(t,{featureGroup:e}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(t){var e=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return t.removeAllLayers&&e.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),e},addToolbar:function(t){var e=L.Toolbar.prototype.addToolbar.call(this,t);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),e},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var t,e=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(t=this._modes[L.EditToolbar.Edit.TYPE].button,e?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(t=this._modes[L.EditToolbar.Delete.TYPE].button,e?L.DomUtil.removeClass(t,"leaflet-disabled"):L.DomUtil.addClass(t,"leaflet-disabled"),t.setAttribute("title",e?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.setOptions(this,e),this._featureGroup=e.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var i=L.version.split(".");1===parseInt(i[0],10)&&parseInt(i[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),t._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(t){this._revertLayer(t)},this)},save:function(){var t=new L.LayerGroup;this._featureGroup.eachLayer(function(e){e.edited&&(t.addLayer(e),e.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:t})},_backupLayer:function(t){var e=L.Util.stamp(t);this._uneditedLayerProps[e]||(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?this._uneditedLayerProps[e]={latlngs:L.LatLngUtil.cloneLatLngs(t.getLatLngs())}:t instanceof L.Circle?this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng()),radius:t.getRadius()}:(t instanceof L.Marker||t instanceof L.CircleMarker)&&(this._uneditedLayerProps[e]={latlng:L.LatLngUtil.cloneLatLng(t.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(t){var e=L.Util.stamp(t);t.edited=!1,this._uneditedLayerProps.hasOwnProperty(e)&&(t instanceof L.Polyline||t instanceof L.Polygon||t instanceof L.Rectangle?t.setLatLngs(this._uneditedLayerProps[e].latlngs):t instanceof L.Circle?(t.setLatLng(this._uneditedLayerProps[e].latlng),t.setRadius(this._uneditedLayerProps[e].radius)):(t instanceof L.Marker||t instanceof L.CircleMarker)&&t.setLatLng(this._uneditedLayerProps[e].latlng),t.fire("revert-edited",{layer:t}))},_enableLayerEdit:function(t){var e,i,n=t.layer||t.target||t;this._backupLayer(n),this.options.poly&&(i=L.Util.extend({},this.options.poly),n.options.poly=i),this.options.selectedPathOptions&&((e=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(e.color=n.options.color,e.fillColor=n.options.fillColor),n.options.original=L.extend({},n.options),n.options.editing=e),n instanceof L.Marker?(n.editing&&n.editing.enable(),n.dragging.enable(),n.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):n.editing.enable()},_disableLayerEdit:function(t){var e=t.layer||t.target||t;e.edited=!1,e.editing&&e.editing.disable(),delete e.options.editing,delete e.options.original,this._selectedPathOptions&&(e instanceof L.Marker?this._toggleMarkerHighlight(e):(e.setStyle(e.options.previousOptions),delete e.options.previousOptions)),e instanceof L.Marker?(e.dragging.disable(),e.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):e.editing.disable()},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_onMarkerDragEnd:function(t){var e=t.target;e.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:e})},_onTouchMove:function(t){var e=t.originalEvent.changedTouches[0],i=this._map.mouseEventToLayerPoint(e),n=this._map.layerPointToLatLng(i);t.target.setLatLng(n)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(t,e){if(L.Handler.prototype.initialize.call(this,t),L.Util.setOptions(this,e),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var i=L.version.split(".");1===parseInt(i[0],10)&&parseInt(i[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var t=this._map;t&&(t.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(t){this._deletableLayers.addLayer(t),t.fire("revert-deleted",{layer:t})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(t){this._removeLayer({layer:t})},this),this.save()},_enableLayerDelete:function(t){(t.layer||t.target||t).on("click",this._removeLayer,this)},_disableLayerDelete:function(t){var e=t.layer||t.target||t;e.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(e)},_removeLayer:function(t){var e=t.layer||t.target||t;this._deletableLayers.removeLayer(e),this._deletedLayers.addLayer(e),e.fire("deleted")},_onMouseMove:function(t){this._tooltip.updatePosition(t.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})}(window,document)},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=176)}([function(t,e,i){e.a=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}},function(t,e,i){function n(){this.array_=[],arguments[0]instanceof r.a&&this.addAll(arguments[0])}e.a=n;var r=i(24),o=i(193),a=(i(51),i(32)),s=i(72);i(87),(n.prototype=Object.create(a.a.prototype)).constructor=n,n.prototype.ensureCapacity=function(){},n.prototype.interfaces_=function(){return[a.a,r.a]},n.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},n.prototype.clear=function(){this.array_=[]},n.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},n.prototype.set=function(t,e){var i=this.array_[t];return this.array_[t]=e,i},n.prototype.iterator=function(){return new l(this)},n.prototype.get=function(t){if(t<0||t>=this.size())throw new o.a;return this.array_[t]},n.prototype.isEmpty=function(){return 0===this.array_.length},n.prototype.size=function(){return this.array_.length},n.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t},n.prototype.remove=function(t){for(var e=!1,i=0,n=this.array_.length;i<n;i++)if(this.array_[i]===t){this.array_.splice(i,1),e=!0;break}return e};var l=function(t){this.arrayList_=t,this.position_=0};l.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new s.a;return this.arrayList_.get(this.position_++)},l.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},l.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},l.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))}},function(t,e,i){function n(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)n.call(this,0,0);else if(1===arguments.length){var t=arguments[0];n.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];n.call(this,e,i,n.NULL_ORDINATE)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this.x=r,this.y=o,this.z=a}}function r(){if(this._dimensionsToTest=2,0===arguments.length)r.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new a.a("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}e.a=n;var o=i(191),a=i(6),s=i(11),l=i(0),h=i(20),u=i(55),c=i(50),f=i(21),d=i(4);Object(l.a)(n.prototype,{setOrdinate:function(t,e){switch(t){case n.X:this.x=e;break;case n.Y:this.y=e;break;case n.Z:this.z=e;break;default:throw new a.a("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],i=arguments[1];return!!o.a.equalsWithTolerance(this.x,e.x,i)&&!!o.a.equalsWithTolerance(this.y,e.y,i)}},getOrdinate:function(t){switch(t){case n.X:return this.x;case n.Y:return this.y;case n.Z:return this.z}throw new a.a("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||s.a.isNaN(this.z)&&s.a.isNaN(t.z))},equals:function(t){return t instanceof n&&this.equals2D(t)},equalInZ:function(t,e){return o.a.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return d.a.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}},copy:function(){return new n(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return Math.sqrt(e*e+i*i+n*n)},distance:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},hashCode:function(){var t=17;return 37*(t=37*t+n.hashCode(this.x))+n.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[h.a,u.a,f.a]},getClass:function(){return n}}),n.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=s.a.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},Object(l.a)(r.prototype,{compare:function(t,e){var i=t,n=e,o=r.compare(i.x,n.x);if(0!==o)return o;var a=r.compare(i.y,n.y);return 0!==a?a:this._dimensionsToTest<=2?0:r.compare(i.z,n.z)},interfaces_:function(){return[c.a]},getClass:function(){return r}}),r.compare=function(t,e){return t<e?-1:t>e?1:s.a.isNaN(t)?s.a.isNaN(e)?0:-1:s.a.isNaN(e)?1:0},n.DimensionalComparator=r,n.serialVersionUID=0x5cbf2c235c7e5800,n.NULL_ORDINATE=s.a.NaN,n.X=0,n.Y=1,n.Z=2},function(t,e,i){e.a=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}},function(t,e,i){function n(){}e.a=n;var r=i(0),o=i(192);Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.shouldNeverReachHere=function(){if(0===arguments.length)n.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new o.a("Should never reach here"+(null!==t?": "+t:""))}},n.isTrue=function(){if(1===arguments.length){var t=arguments[0];n.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(!e)throw null===i?new o.a:new o.a(i)}},n.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];n.equals(t,e,null)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],a=arguments[2];if(!r.equals(i))throw new o.a("Expected "+i+" but encountered "+r+(null!==a?": "+a:""))}}},function(t,e,i){e.a=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}},function(t,e,i){e.a=function(){}},function(t,e,i){function n(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof r.a){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof n){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i.x,o.x,i.y,o.y)}else if(4===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2],h=arguments[3];this.init(a,s,l,h)}}e.a=n;var r=i(2),o=i(0),a=i(20),s=i(21);Object(o.a)(n.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof n))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new n;var e=this._minx>t._minx?this._minx:t._minx,i=this._miny>t._miny?this._miny:t._miny;return new n(e,this._maxx<t._maxx?this._maxx:t._maxx,i,this._maxy<t._maxy?this._maxy:t._maxy)},isNull:function(){return this._maxx<this._minx},getMaxX:function(){return this._maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof r.a){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof n){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];return!this.isNull()&&i>=this._minx&&i<=this._maxx&&o>=this._miny&&o<=this._maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof n){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof r.a){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];return!this.isNull()&&!(i>this._maxx||i<this._minx||o>this._maxy||o<this._miny)}},getMinY:function(){return this._miny},getMinX:function(){return this._minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof r.a){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof n){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.isNull()?(this._minx=i,this._maxx=i,this._miny=o,this._maxy=o):(i<this._minx&&(this._minx=i),i>this._maxx&&(this._maxx=i),o<this._miny&&(this._miny=o),o>this._maxy&&(this._maxy=o))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},getWidth:function(){return this.isNull()?0:this._maxx-this._minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},translate:function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},setToNull:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},getHeight:function(){return this.isNull()?0:this._maxy-this._miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=i,this._maxy+=i,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof n){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof r.a){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];return this.covers(i,o)}},centre:function(){return this.isNull()?null:new r.a((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof r.a){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof n){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];this.init(i.x,o.x,i.y,o.y)}else if(4===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2],h=arguments[3];a<s?(this._minx=a,this._maxx=s):(this._minx=s,this._maxx=a),l<h?(this._miny=l,this._maxy=h):(this._miny=h,this._maxy=l)}},getMaxY:function(){return this._maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var i=0;return this._maxy<t._miny?i=t._miny-this._maxy:this._miny>t._maxy&&(i=this._miny-t._maxy),0===e?i:0===i?e:Math.sqrt(e*e+i*i)},hashCode:function(){var t=17;return 37*(t=37*(t=37*(t=37*t+r.a.hashCode(this._minx))+r.a.hashCode(this._maxx))+r.a.hashCode(this._miny))+r.a.hashCode(this._maxy)},interfaces_:function(){return[a.a,s.a]},getClass:function(){return n}}),n.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2];return i.x>=(t.x<e.x?t.x:e.x)&&i.x<=(t.x>e.x?t.x:e.x)&&i.y>=(t.y<e.y?t.y:e.y)&&i.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),l=Math.max(o.x,a.x),h=Math.min(n.x,r.x),u=Math.max(n.x,r.x);return!(h>l||u<s||(s=Math.min(o.y,a.y),l=Math.max(o.y,a.y),h=Math.min(n.y,r.y),u=Math.max(n.y,r.y),h>l||u<s))}},n.serialVersionUID=0x51845cd552189800},function(t,e,i){function n(){}e.a=n;var r=i(10),o=i(5),a=i(2),s=i(6),l=i(0),h=i(89),u=i(116),c=i(36),f=i(22),d=i(7),p=i(124);Object(l.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.orientationIndex=function(t,e,i){return u.a.orientationIndex(t,e,i)},n.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,i=t[0].x,n=1;n<t.length-1;n++){var r=t[n].x-i,s=t[n+1].y;e+=r*(t[n-1].y-s)}return e/2}if(Object(o.a)(arguments[0],c.a)){var l=arguments[0],h=l.size();if(h<3)return 0;var u=new a.a,f=new a.a,d=new a.a;l.getCoordinate(0,f),l.getCoordinate(1,d),i=f.x,d.x-=i;for(e=0,n=1;n<h-1;n++)u.y=f.y,f.x=d.x,f.y=d.y,l.getCoordinate(n+1,d),d.x-=i,e+=f.x*(u.y-d.y);return e/2}},n.distanceLineLine=function(t,e,i,r){if(t.equals(e))return n.distancePointLine(t,i,r);if(i.equals(r))return n.distancePointLine(r,t,e);var o=!1;if(d.a.intersects(t,e,i,r)){var a=(e.x-t.x)*(r.y-i.y)-(e.y-t.y)*(r.x-i.x);if(0===a)o=!0;else{var s=(t.y-i.y)*(r.x-i.x)-(t.x-i.x)*(r.y-i.y),l=((t.y-i.y)*(e.x-t.x)-(t.x-i.x)*(e.y-t.y))/a,u=s/a;(u<0||u>1||l<0||l>1)&&(o=!0)}}else o=!0;return o?h.a.min(n.distancePointLine(t,i,r),n.distancePointLine(e,i,r),n.distancePointLine(i,t,e),n.distancePointLine(r,t,e)):0},n.isPointInRing=function(t,e){return n.locatePointInRing(t,e)!==r.a.EXTERIOR},n.computeLength=function(t){var e=t.size();if(e<=1)return 0;var i=0,n=new a.a;t.getCoordinate(0,n);for(var r=n.x,o=n.y,s=1;s<e;s++){t.getCoordinate(s,n);var l=n.x,h=n.y,u=l-r,c=h-o;i+=Math.sqrt(u*u+c*c),r=l,o=h}return i},n.isCCW=function(t){var e=t.length-1;if(e<3)throw new s.a("Ring has fewer than 4 points, so orientation cannot be determined");for(var i=t[0],r=0,o=1;o<=e;o++){var a=t[o];a.y>i.y&&(i=a,r=o)}var l=r;do{(l-=1)<0&&(l=e)}while(t[l].equals2D(i)&&l!==r);var h=r;do{h=(h+1)%e}while(t[h].equals2D(i)&&h!==r);var u=t[l],c=t[h];if(u.equals2D(i)||c.equals2D(i)||u.equals2D(c))return!1;var f=n.computeOrientation(u,i,c);return 0===f?u.x>c.x:f>0},n.locatePointInRing=function(t,e){return p.a.locatePointInRing(t,e)},n.distancePointLinePerpendicular=function(t,e,i){var n=(i.x-e.x)*(i.x-e.x)+(i.y-e.y)*(i.y-e.y),r=((e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y))/n;return Math.abs(r)*Math.sqrt(n)},n.computeOrientation=function(t,e,i){return n.orientationIndex(t,e,i)},n.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new s.a("Line array must contain at least one vertex");for(var i=t.distance(e[0]),r=0;r<e.length-1;r++){var o=n.distancePointLine(t,e[r],e[r+1]);o<i&&(i=o)}return i}if(3===arguments.length){var a=arguments[0],l=arguments[1],h=arguments[2];if(l.x===h.x&&l.y===h.y)return a.distance(l);var u=(h.x-l.x)*(h.x-l.x)+(h.y-l.y)*(h.y-l.y),c=((a.x-l.x)*(h.x-l.x)+(a.y-l.y)*(h.y-l.y))/u;if(c<=0)return a.distance(l);if(c>=1)return a.distance(h);var f=((l.y-a.y)*(h.x-l.x)-(l.x-a.x)*(h.y-l.y))/u;return Math.abs(f)*Math.sqrt(u)}},n.isOnLine=function(t,e){for(var i=new f.a,n=1;n<e.length;n++){var r=e[n-1],o=e[n];if(i.computeIntersection(t,r,o),i.hasIntersection())return!0}return!1},n.RIGHT=n.CLOCKWISE=-1,n.LEFT=n.COUNTERCLOCKWISE=1,n.STRAIGHT=n.COLLINEAR=0},function(t,e,i){function n(){this._points=null;var t=arguments[0],e=arguments[1];o.a.call(this,e),this.init(t)}e.a=n;var r=i(8),o=i(12),a=i(52),s=i(5),l=i(90),h=i(6),u=i(0),c=i(91),f=i(92),d=i(31),p=i(37),g=i(38),_=i(61),m=i(7),y=i(3);Object(y.a)(n,o.a),Object(u.a)(n.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new m.a:this._points.expandEnvelope(new m.a)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return o.a.SORTINDEX_LINESTRING},getCoordinates:function(){return this._points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var i=t;if(this._points.size()!==i._points.size())return!1;for(var n=0;n<this._points.size();n++)if(!this.equal(this._points.getCoordinate(n),i._points.getCoordinate(n),e))return!1;return!0}return o.a.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&f.a.reverse(this._points),null}},getCoordinate:function(){return this.isEmpty()?null:this._points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?p.a.FALSE:0},isClosed:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return r.a.computeLength(this._points)},getNumPoints:function(){return this._points.size()},reverse:function(){var t=this._points.copy();return f.a.reverse(t),this.getFactory().createLineString(t)},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=0,i=0;e<this._points.size()&&i<t._points.size();){var n=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(i));if(0!==n)return n;e++,i++}return e<this._points.size()?1:i<t._points.size()?-1:0}if(2===arguments.length)return t=arguments[0],arguments[1].compare(this._points,t._points)},apply:function(){if(Object(s.a)(arguments[0],a.a)){var t=arguments[0];for(i=0;i<this._points.size();i++)t.filter(this._points.getCoordinate(i))}else if(Object(s.a)(arguments[0],_.a)){var e=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(e.filter(this._points,i),!e.isDone());i++);e.isGeometryChanged()&&this.geometryChanged()}else Object(s.a)(arguments[0],g.a)?arguments[0].filter(this):Object(s.a)(arguments[0],d.a)&&arguments[0].filter(this)},getBoundary:function(){return new l.a(this).getBoundary()},isEquivalentClass:function(t){return t instanceof n},clone:function(){var t=o.a.prototype.clone.call(this);return t._points=this._points.clone(),t},getCoordinateN:function(t){return this._points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new n(this._points.copy(),this._factory)},getCoordinateSequence:function(){return this._points},isEmpty:function(){return 0===this._points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new h.a("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},isCoordinate:function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},interfaces_:function(){return[c.a]},getClass:function(){return n}}),n.serialVersionUID=0x2b2b51ba435c8e00},function(t,e,i){function n(){}e.a=n;var r=i(6),o=i(0);Object(o.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.toLocationSymbol=function(t){switch(t){case n.EXTERIOR:return"e";case n.BOUNDARY:return"b";case n.INTERIOR:return"i";case n.NONE:return"-"}throw new r.a("Unknown location value: "+t)},n.INTERIOR=0,n.BOUNDARY=1,n.EXTERIOR=2,n.NONE=-1},function(t,e,i){function n(){}e.a=n,n.isNaN=function(t){return Number.isNaN(t)},n.doubleToLongBits=function(t){return t},n.longBitsToDouble=function(t){return t},n.isInfinite=function(t){return!Number.isFinite(t)},n.MAX_VALUE=Number.MAX_VALUE},function(t,e,i){function n(){this._envelope=null,this._factory=null,this._SRID=null,this._userData=null;var t=arguments[0];this._factory=t,this._SRID=t.getSRID()}e.a=n;var r=i(6),o=i(0),a=i(31),s=i(20),l=i(55),h=i(21),u=i(7);i(4),Object(o.a)(n.prototype,{isGeometryCollection:function(){return this.getSortIndex()===n.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this._factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(arguments[0]instanceof n){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof n))return!1;var i=e;return this.equalsExact(i)}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(n.geometryChangedFilter)},geometryChangedAction:function(){this._envelope=null},equalsNorm:function(t){return null!==t&&this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0];return n=t,this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var e=arguments[0],i=arguments[1],n=e;return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(e,i)}},getUserData:function(){return this._userData},getSRID:function(){return this._SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===n.SORTINDEX_GEOMETRYCOLLECTION)throw new r.a("This method does not support GeometryCollection arguments")},equal:function(t,e,i){return 0===i?t.equals(e):t.distance(e)<=i},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this._factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new u.a(this._envelope)},setSRID:function(t){this._SRID=t},setUserData:function(t){this._userData=t},compare:function(t,e){for(var i=t.iterator(),n=e.iterator();i.hasNext()&&n.hasNext();){var r=i.next(),o=n.next(),a=r.compareTo(o);if(0!==a)return a}return i.hasNext()?1:n.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===n.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===n.SORTINDEX_MULTIPOINT||this.getSortIndex()===n.SORTINDEX_MULTILINESTRING||this.getSortIndex()===n.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[l.a,s.a,h.a]},getClass:function(){return n}}),n.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},n.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},n.serialVersionUID=0x799ea46522854c00,n.SORTINDEX_POINT=0,n.SORTINDEX_MULTIPOINT=1,n.SORTINDEX_LINESTRING=2,n.SORTINDEX_LINEARRING=3,n.SORTINDEX_MULTILINESTRING=4,n.SORTINDEX_POLYGON=5,n.SORTINDEX_MULTIPOLYGON=6,n.SORTINDEX_GEOMETRYCOLLECTION=7,n.geometryChangedFilter={interfaces_:function(){return[a.a]},filter:function(t){t.geometryChangedAction()}}},function(t,e,i){function n(){this._geometries=null;var t=arguments[0],e=arguments[1];if(o.a.call(this,e),null===t&&(t=[]),o.a.hasNullElements(t))throw new h.a("geometries must not contain null elements");this._geometries=t}e.a=n;var r=i(47),o=i(12),a=i(60),s=i(52),l=i(5),h=i(6),u=i(0),c=i(31),f=i(37),d=i(38),p=i(61),g=i(7),_=i(4),m=i(3);Object(m.a)(n,o.a),Object(u.a)(n.prototype,{computeEnvelopeInternal:function(){for(var t=new g.a,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this._geometries[t]},getSortIndex:function(){return o.a.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,i=0;i<this._geometries.length;i++)for(var n=this._geometries[i].getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];return t},getArea:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var i=t;if(this._geometries.length!==i._geometries.length)return!1;for(var n=0;n<this._geometries.length;n++)if(!this._geometries[n].equalsExact(i._geometries[n],e))return!1;return!0}return o.a.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();a.a.sort(this._geometries)},getCoordinate:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=f.a.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=f.a.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},getNumGeometries:function(){return this._geometries.length},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),i=0;i<this._geometries.length;i++)e[i]=this._geometries[i].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new r.a(a.a.asList(this._geometries)),i=new r.a(a.a.asList(t._geometries));return this.compare(e,i)}if(2===arguments.length){for(var n=arguments[0],o=arguments[1],s=n,l=this.getNumGeometries(),h=s.getNumGeometries(),u=0;u<l&&u<h;){var c=this.getGeometryN(u),f=s.getGeometryN(u),d=c.compareToSameClass(f,o);if(0!==d)return d;u++}return u<l?1:u<h?-1:0}},apply:function(){if(Object(l.a)(arguments[0],s.a)){var t=arguments[0];for(r=0;r<this._geometries.length;r++)this._geometries[r].apply(t)}else if(Object(l.a)(arguments[0],p.a)){var e=arguments[0];if(0===this._geometries.length)return null;for(r=0;r<this._geometries.length&&(this._geometries[r].apply(e),!e.isDone());r++);e.isGeometryChanged()&&this.geometryChanged()}else if(Object(l.a)(arguments[0],d.a)){var i=arguments[0];for(i.filter(this),r=0;r<this._geometries.length;r++)this._geometries[r].apply(i)}else if(Object(l.a)(arguments[0],c.a)){var n=arguments[0];n.filter(this);for(var r=0;r<this._geometries.length;r++)this._geometries[r].apply(n)}},getBoundary:function(){return this.checkNotGeometryCollection(this),_.a.shouldNeverReachHere(),null},clone:function(){var t=o.a.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var e=0;e<this._geometries.length;e++)t._geometries[e]=this._geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new n(t,this._factory)},isEmpty:function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return n}}),n.serialVersionUID=-0x4f07bcb1f857d800},function(t,e,i){function n(){if(this.p0=null,this.p1=null,0===arguments.length)n.call(this,new a.a,new a.a);else if(1===arguments.length){var t=arguments[0];n.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.p0=e,this.p1=i}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],l=arguments[3];n.call(this,new a.a(r,o),new a.a(s,l))}}e.a=n;var r=i(56),o=i(8),a=i(2),s=i(11),l=i(0),h=i(20),u=i(22),c=i(58),f=i(21);Object(l.a)(n.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof n){var t=arguments[0],e=o.a.orientationIndex(this.p0,this.p1,t.p0),i=o.a.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&i>=0?Math.max(e,i):e<=0&&i<=0?Math.max(e,i):0}if(arguments[0]instanceof a.a){var r=arguments[0];return o.a.orientationIndex(this.p0,this.p1,r)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof n))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new u.a;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof a.a){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new a.a(t);var e=this.projectionFactor(t),i=new a.a;return i.x=this.p0.x+e*(this.p1.x-this.p0.x),i.y=this.p0.y+e*(this.p1.y-this.p0.y),i}if(arguments[0]instanceof n){var r=arguments[0],o=this.projectionFactor(r.p0),s=this.projectionFactor(r.p1);if(o>=1&&s>=1)return null;if(o<=0&&s<=0)return null;var l=this.project(r.p0);o<0&&(l=this.p0),o>1&&(l=this.p1);var h=this.project(r.p1);return s<0&&(h=this.p0),s>1&&(h=this.p1),new n(l,h)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return o.a.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return n.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,i=this.p1.y-this.p0.y,n=e*e+i*i;return n<=0?s.a.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*i)/n},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var i=new Array(2).fill(null),n=s.a.MAX_VALUE,r=null,o=this.closestPoint(t.p0);n=o.distance(t.p0),i[0]=o,i[1]=t.p0;var a=this.closestPoint(t.p1);(r=a.distance(t.p1))<n&&(n=r,i[0]=a,i[1]=t.p1);var l=t.closestPoint(this.p0);(r=l.distance(this.p0))<n&&(n=r,i[0]=this.p0,i[1]=l);var h=t.closestPoint(this.p1);return(r=h.distance(this.p1))<n&&(n=r,i[0]=this.p1,i[1]=h),i},closestPoint:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,i=this.p0.compareTo(e.p0);return 0!==i?i:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{return c.a.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof r.a))throw t}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var i=this.p0.x+t*(this.p1.x-this.p0.x),n=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),l=0,h=0;if(0!==e){if(s<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");l=e*r/s,h=e*o/s}var u=i-h,c=n+l;return new a.a(u,c)},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=i.x,this.p1.y=i.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||s.a.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof n){var t=arguments[0];return o.a.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof a.a){var e=arguments[0];return o.a.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new a.a;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),i=java.lang.Double.doubleToLongBits(this.p1.x);return i^=31*java.lang.Double.doubleToLongBits(this.p1.y),e^Math.trunc(i)^Math.trunc(i>>32)},interfaces_:function(){return[h.a,f.a]},getClass:function(){return n}}),n.midPoint=function(t,e){return new a.a((t.x+e.x)/2,(t.y+e.y)/2)},n.serialVersionUID=0x2d2172135f411c00},function(t,e,i){function n(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)n.call(this,new v.a,0);else if(1===arguments.length){if(Object(a.a)(arguments[0],r.a)){var t=arguments[0];n.call(this,new v.a,0,t)}else if(arguments[0]instanceof v.a){var e=arguments[0];n.call(this,e,0,n.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var i=arguments[0],o=arguments[1];n.call(this,i,o,n.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var s=arguments[0],l=arguments[1],h=arguments[2];this._precisionModel=s,this._coordinateSequenceFactory=h,this._SRID=l}}e.a=n;var r=i(120),o=i(9),a=i(5),s=i(2),l=i(25),h=i(16),u=i(40),c=i(93),f=i(29),d=i(0),p=i(204),g=i(30),_=i(92),m=i(36),y=i(13),v=i(53),b=i(21),x=i(4),L=i(28);Object(d.a)(n.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new s.a(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new s.a(t.getMinX(),t.getMinY()),new s.a(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new s.a(t.getMinX(),t.getMinY()),new s.a(t.getMinX(),t.getMaxY()),new s.a(t.getMaxX(),t.getMaxY()),new s.a(t.getMaxX(),t.getMinY()),new s.a(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Object(a.a)(arguments[0],m.a)){var e=arguments[0];return new o.a(e,this)}}},createMultiLineString:function(){if(0===arguments.length)return new L.a(null,this);if(1===arguments.length){var t=arguments[0];return new L.a(t,this)}},buildGeometry:function(t){for(var e=null,i=!1,r=!1,a=t.iterator();a.hasNext();){var s=a.next(),u=s.getClass();null===e&&(e=u),u!==e&&(i=!0),s.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(i||r)return this.createGeometryCollection(n.toGeometryArray(t));var c=t.iterator().next();if(t.size()>1){if(c instanceof h.a)return this.createMultiPolygon(n.toPolygonArray(t));if(c instanceof o.a)return this.createMultiLineString(n.toLineStringArray(t));if(c instanceof l.a)return this.createMultiPoint(n.toPointArray(t));x.a.shouldNeverReachHere("Unhandled class: "+c.getClass().getName())}return c},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof s.a){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(Object(a.a)(arguments[0],m.a)){var e=arguments[0];return new l.a(e,this)}}},getCoordinateSequenceFactory:function(){return this._coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new h.a(null,null,this);if(1===arguments.length){if(Object(a.a)(arguments[0],m.a)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof f.a){var i=arguments[0];return this.createPolygon(i,null)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return new h.a(n,r,this)}},getSRID:function(){return this._SRID},createGeometryCollection:function(){if(0===arguments.length)return new y.a(null,this);if(1===arguments.length){var t=arguments[0];return new y.a(t,this)}},createGeometry:function(t){return new c.a(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return arguments[1],this._coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this._precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(Object(a.a)(arguments[0],m.a)){var e=arguments[0];return new f.a(e,this)}}},createMultiPolygon:function(){if(0===arguments.length)return new g.a(null,this);if(1===arguments.length){var t=arguments[0];return new g.a(t,this)}},createMultiPoint:function(){if(0===arguments.length)return new u.a(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new u.a(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(Object(a.a)(arguments[0],m.a)){var i=arguments[0];if(null===i)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(i.size()).fill(null),r=0;r<i.size();r++){var o=this.getCoordinateSequenceFactory().create(1,i.getDimension());_.a.copy(i,r,o,0,1),n[r]=this.createPoint(o)}return this.createMultiPoint(n)}}},interfaces_:function(){return[b.a]},getClass:function(){return n}}),n.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},n.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},n.getDefaultCoordinateSequenceFactory=function(){return p.a.instance()},n.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},n.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},n.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},n.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},n.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},n.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},n.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},n.serialVersionUID=-0x5ea75f2051eeb400},function(t,e,i){function n(){this._shell=null,this._holes=null;var t=arguments[0],e=arguments[1],i=arguments[2];if(o.a.call(this,i),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),o.a.hasNullElements(e))throw new h.a("holes must not contain null elements");if(t.isEmpty()&&o.a.hasNonEmptyElements(e))throw new h.a("shell is empty but holes are not");this._shell=t,this._holes=e}e.a=n;var r=i(8),o=i(12),a=i(60),s=i(52),l=i(5),h=i(6),u=i(0),c=i(23),f=i(31),d=i(19),p=i(39),g=i(38),_=i(61),m=i(3);Object(m.a)(n,o.a),Object(u.a)(n.prototype,{computeEnvelopeInternal:function(){return this._shell.getEnvelopeInternal()},getSortIndex:function(){return o.a.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,i=this._shell.getCoordinates(),n=0;n<i.length;n++)t[++e]=i[n];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),a=0;a<o.length;a++)t[++e]=o[a];return t},getArea:function(){var t=0;t+=Math.abs(r.a.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(r.a.signedArea(this._holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),i=0;i<5;i++){if((o=t.getX(i))!==e.getMinX()&&o!==e.getMaxX())return!1;if((a=t.getY(i))!==e.getMinY()&&a!==e.getMaxY())return!1}var n=t.getX(0),r=t.getY(0);for(i=1;i<=4;i++){var o=t.getX(i),a=t.getY(i);if(o!==n==(a!==r))return!1;n=o,r=a}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var i=t,n=this._shell,r=i._shell;if(!n.equalsExact(r,e))return!1;if(this._holes.length!==i._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(i._holes[a],e))return!1;return!0}return o.a.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);a.a.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];if(e.isEmpty())return null;var n=new Array(e.getCoordinates().length-1).fill(null);c.a.arraycopy(e.getCoordinates(),0,n,0,n.length);var o=d.a.minCoordinate(e.getCoordinates());d.a.scroll(n,o),c.a.arraycopy(n,0,e.getCoordinates(),0,n.length),e.getCoordinates()[n.length]=n[0],r.a.isCCW(e.getCoordinates())===i&&d.a.reverse(e.getCoordinates())}},getCoordinate:function(){return this._shell.getCoordinate()},getNumInteriorRing:function(){return this._holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},getNumPoints:function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this._shell,i=t._shell;return e.compareToSameClass(i)}if(2===arguments.length){var n=arguments[0],r=arguments[1],o=n,a=(e=this._shell,i=o._shell,e.compareToSameClass(i,r));if(0!==a)return a;for(var s=this.getNumInteriorRing(),l=o.getNumInteriorRing(),h=0;h<s&&h<l;){var u=this.getInteriorRingN(h),c=o.getInteriorRingN(h),f=u.compareToSameClass(c,r);if(0!==f)return f;h++}return h<s?1:h<l?-1:0}},apply:function(){if(Object(l.a)(arguments[0],s.a)){var t=arguments[0];for(this._shell.apply(t),n=0;n<this._holes.length;n++)this._holes[n].apply(t)}else if(Object(l.a)(arguments[0],_.a)){var e=arguments[0];if(this._shell.apply(e),!e.isDone())for(n=0;n<this._holes.length&&(this._holes[n].apply(e),!e.isDone());n++);e.isGeometryChanged()&&this.geometryChanged()}else if(Object(l.a)(arguments[0],g.a))arguments[0].filter(this);else if(Object(l.a)(arguments[0],f.a)){var i=arguments[0];i.filter(this),this._shell.apply(i);for(var n=0;n<this._holes.length;n++)this._holes[n].apply(i)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=o.a.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this._shell.copy(),e=new Array(this._holes.length).fill(null),i=0;i<e.length;i++)e[i]=this._holes[i].copy();return new n(t,e,this._factory)},getExteriorRing:function(){return this._shell},isEmpty:function(){return this._shell.isEmpty()},getInteriorRingN:function(t){return this._holes[t]},interfaces_:function(){return[p.a]},getClass:function(){return n}}),n.serialVersionUID=-0x307ffefd8dc97200},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.opposite=function(t){return t===n.LEFT?n.RIGHT:t===n.RIGHT?n.LEFT:t},n.ON=0,n.LEFT=1,n.RIGHT=2},function(t,e,i){function n(){if(a.a.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.ensureCapacity(e.length),this.add(e,i)}}e.a=n;var r=i(2),o=i(0),a=i(1),s=i(3);Object(s.a)(n,a.a),Object(o.a)(n.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],i=!1,n=t.iterator();n.hasNext();)this.add(n.next(),e),i=!0;return i}return a.a.prototype.addAll.apply(this,arguments)},clone:function(){for(var t=a.a.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(n.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];a.a.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],i=arguments[1];return this.add(e,i,!0),!0}if(arguments[0]instanceof r.a&&"boolean"==typeof arguments[1]){var n=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(n))return null;a.a.prototype.add.call(this,n)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var l=arguments[0],h=arguments[1];if(arguments[2])for(y=0;y<l.length;y++)this.add(l[y],h);else for(y=l.length-1;y>=0;y--)this.add(l[y],h);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof r.a){var u=arguments[0],c=arguments[1];if(!arguments[2]){var f=this.size();if(f>0){if(u>0&&this.get(u-1).equals2D(c))return null;if(u<f&&this.get(u).equals2D(c))return null}}a.a.prototype.add.call(this,u,c)}}else if(4===arguments.length){var d=arguments[0],p=arguments[1],g=arguments[2],_=arguments[3],m=1;g>_&&(m=-1);for(var y=g;y!==_;y+=m)this.add(d[y],p);return!0}},closeRing:function(){this.size()>0&&this.add(new r.a(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return n}}),n.coordArrayType=new Array(0).fill(null)},function(t,e,i){function n(){}function r(){}function o(){}e.a=n;var a=i(18),s=i(2),l=i(0),h=i(89),u=i(23),c=i(50),f=i(7);Object(l.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},n.ptNotInList=function(t,e){for(var i=0;i<t.length;i++){var r=t[i];if(n.indexOf(r,e)<0)return r}return null},n.scroll=function(t,e){var i=n.indexOf(e,t);if(i<0)return null;var r=new Array(t.length).fill(null);u.a.arraycopy(t,i,r,0,t.length-i),u.a.arraycopy(t,0,r,t.length-i,i),u.a.arraycopy(r,0,t,0,t.length)},n.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(!t[o].equals(e[o]))return!1;return!0}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];if(i===n)return!0;if(null===i||null===n)return!1;if(i.length!==n.length)return!1;for(var o=0;o<i.length;o++)if(0!==r.compare(i[o],n[o]))return!1;return!0}},n.intersection=function(t,e){for(var i=new a.a,n=0;n<t.length;n++)e.intersects(t[n])&&i.add(t[n],!0);return i.toCoordinateArray()},n.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},n.removeRepeatedPoints=function(t){return n.hasRepeatedPoints(t)?new a.a(t,!1).toCoordinateArray():t},n.reverse=function(t){for(var e=t.length-1,i=Math.trunc(e/2),n=0;n<=i;n++){var r=t[n];t[n]=t[e-n],t[e-n]=r}},n.removeNull=function(t){for(var e=0,i=0;i<t.length;i++)null!==t[i]&&e++;var n=new Array(e).fill(null);if(0===e)return n;var r=0;for(i=0;i<t.length;i++)null!==t[i]&&(n[r++]=t[i]);return n},n.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),i=0;i<t.length;i++)e[i]=new s.a(t[i]);return e}if(5===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],l=arguments[4];for(i=0;i<l;i++)o[a+i]=new s.a(n[r+i])}},n.isEqualReversed=function(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=e[t.length-i-1];if(0!==n.compareTo(r))return!1}return!0},n.envelope=function(t){for(var e=new f.a,i=0;i<t.length;i++)e.expandToInclude(t[i]);return e},n.toCoordinateArray=function(t){return t.toArray(n.coordArrayType)},n.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},n.indexOf=function(t,e){for(var i=0;i<e.length;i++)if(t.equals(e[i]))return i;return-1},n.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var i=t.length-1-e,n=t[e].compareTo(t[i]);if(0!==n)return n}return 1},n.compare=function(t,e){for(var i=0;i<t.length&&i<e.length;){var n=t[i].compareTo(e[i]);if(0!==n)return n;i++}return i<e.length?-1:i<t.length?1:0},n.minCoordinate=function(t){for(var e=null,i=0;i<t.length;i++)(null===e||e.compareTo(t[i])>0)&&(e=t[i]);return e},n.extract=function(t,e,i){e=h.a.clamp(e,0,t.length);var n=(i=h.a.clamp(i,-1,t.length))-e+1;i<0&&(n=0),e>=t.length&&(n=0),i<e&&(n=0);var r=new Array(n).fill(null);if(0===n)return r;for(var o=0,a=e;a<=i;a++)r[o++]=t[a];return r},Object(l.a)(r.prototype,{compare:function(t,e){return n.compare(t,e)},interfaces_:function(){return[c.a]},getClass:function(){return r}}),Object(l.a)(o.prototype,{compare:function(t,e){var i=t,r=e;if(i.length<r.length)return-1;if(i.length>r.length)return 1;if(0===i.length)return 0;var o=n.compare(i,r);return n.isEqualReversed(i,r)?0:o},OLDcompare:function(t,e){var i=t,r=e;if(i.length<r.length)return-1;if(i.length>r.length)return 1;if(0===i.length)return 0;for(var o=n.increasingDirection(i),a=n.increasingDirection(r),s=o>0?0:i.length-1,l=a>0?0:i.length-1,h=0;h<i.length;h++){var u=i[s].compareTo(r[l]);if(0!==u)return u;s+=o,l+=a}return 0},interfaces_:function(){return[c.a]},getClass:function(){return o}}),n.ForwardComparator=r,n.BidirectionalComparator=o,n.coordArrayType=new Array(0).fill(null)},function(t,e,i){e.a=function(){}},function(t,e,i){e.a=function(){}},function(t,e,i){function n(){d.a.apply(this)}e.a=n;var r=i(56),o=i(8),a=i(2),s=i(0),l=i(116),h=i(23),u=i(58),c=i(7),f=i(3),d=i(194);Object(f.a)(n,d.a),Object(s.a)(n.prototype,{isInSegmentEnvelopes:function(t){var e=new c.a(this._inputLines[0][0],this._inputLines[0][1]),i=new c.a(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&i.contains(t)},computeIntersection:function(){if(3!==arguments.length)return d.a.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],i=arguments[2];if(this._isProper=!1,c.a.intersects(e,i,t)&&0===o.a.orientationIndex(e,i,t)&&0===o.a.orientationIndex(i,e,t))return this._isProper=!0,(t.equals(e)||t.equals(i))&&(this._isProper=!1),this._result=d.a.POINT_INTERSECTION,null;this._result=d.a.NO_INTERSECTION},normalizeToMinimum:function(t,e,i,n,r){r.x=this.smallestInAbsValue(t.x,e.x,i.x,n.x),r.y=this.smallestInAbsValue(t.y,e.y,i.y,n.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,i.x-=r.x,i.y-=r.y,n.x-=r.x,n.y-=r.y},safeHCoordinateIntersection:function(t,e,i,o){var a=null;try{a=u.a.intersection(t,e,i,o)}catch(s){if(!(s instanceof r.a))throw s;a=n.nearestEndpoint(t,e,i,o)}return a},intersection:function(t,e,i,r){var o=this.intersectionWithNormalization(t,e,i,r);return this.isInSegmentEnvelopes(o)||(o=new a.a(n.nearestEndpoint(t,e,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},smallestInAbsValue:function(t,e,i,n){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(i)<o&&(r=i,o=Math.abs(i)),Math.abs(n)<o&&(r=n),r},checkDD:function(t,e,i,n,r){var o=l.a.intersection(t,e,i,n),a=this.isInSegmentEnvelopes(o);h.a.out.println("DD in env = "+a+"  --------------------- "+o),r.distance(o)>1e-4&&h.a.out.println("Distance = "+r.distance(o))},intersectionWithNormalization:function(t,e,i,n){var r=new a.a(t),o=new a.a(e),s=new a.a(i),l=new a.a(n),h=new a.a;this.normalizeToEnvCentre(r,o,s,l,h);var u=this.safeHCoordinateIntersection(r,o,s,l);return u.x+=h.x,u.y+=h.y,u},computeCollinearIntersection:function(t,e,i,n){var r=c.a.intersects(t,e,i),o=c.a.intersects(t,e,n),a=c.a.intersects(i,n,t),s=c.a.intersects(i,n,e);return r&&o?(this._intPt[0]=i,this._intPt[1]=n,d.a.COLLINEAR_INTERSECTION):a&&s?(this._intPt[0]=t,this._intPt[1]=e,d.a.COLLINEAR_INTERSECTION):r&&a?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||o||s?d.a.COLLINEAR_INTERSECTION:d.a.POINT_INTERSECTION):r&&s?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||a?d.a.COLLINEAR_INTERSECTION:d.a.POINT_INTERSECTION):o&&a?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||r||s?d.a.COLLINEAR_INTERSECTION:d.a.POINT_INTERSECTION):o&&s?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||r||a?d.a.COLLINEAR_INTERSECTION:d.a.POINT_INTERSECTION):d.a.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,i,n,r){var o=t.x<e.x?t.x:e.x,a=t.y<e.y?t.y:e.y,s=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,h=i.x<n.x?i.x:n.x,u=i.y<n.y?i.y:n.y,c=i.x>n.x?i.x:n.x,f=i.y>n.y?i.y:n.y,d=((o>h?o:h)+(s<c?s:c))/2,p=((a>u?a:u)+(l<f?l:f))/2;r.x=d,r.y=p,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,i.x-=r.x,i.y-=r.y,n.x-=r.x,n.y-=r.y},computeIntersect:function(t,e,i,n){if(this._isProper=!1,!c.a.intersects(t,e,i,n))return d.a.NO_INTERSECTION;var r=o.a.orientationIndex(t,e,i),s=o.a.orientationIndex(t,e,n);if(r>0&&s>0||r<0&&s<0)return d.a.NO_INTERSECTION;var l=o.a.orientationIndex(i,n,t),h=o.a.orientationIndex(i,n,e);return l>0&&h>0||l<0&&h<0?d.a.NO_INTERSECTION:0===r&&0===s&&0===l&&0===h?this.computeCollinearIntersection(t,e,i,n):(0===r||0===s||0===l||0===h?(this._isProper=!1,t.equals2D(i)||t.equals2D(n)?this._intPt[0]=t:e.equals2D(i)||e.equals2D(n)?this._intPt[0]=e:0===r?this._intPt[0]=new a.a(i):0===s?this._intPt[0]=new a.a(n):0===l?this._intPt[0]=new a.a(t):0===h&&(this._intPt[0]=new a.a(e))):(this._isProper=!0,this._intPt[0]=this.intersection(t,e,i,n)),d.a.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return n}}),n.nearestEndpoint=function(t,e,i,n){var r=t,a=o.a.distancePointLine(t,i,n),s=o.a.distancePointLine(e,i,n);return s<a&&(a=s,r=e),(s=o.a.distancePointLine(i,t,e))<a&&(a=s,r=i),(s=o.a.distancePointLine(n,t,e))<a&&(a=s,r=n),r}},function(t,e,i){function n(){}e.a=n,n.arraycopy=function(t,e,i,n,r){for(var o=0,a=e;a<e+r;a++)i[n+o]=t[a],o++},n.getProperty=function(t){return{"line.separator":"\n"}[t]}},function(t,e,i){function n(){}e.a=n,i(51),n.prototype.add=function(){},n.prototype.addAll=function(){},n.prototype.isEmpty=function(){},n.prototype.iterator=function(){},n.prototype.size=function(){},n.prototype.toArray=function(){},n.prototype.remove=function(){}},function(t,e,i){function n(){this._coordinates=null;var t=arguments[0],e=arguments[1];r.a.call(this,e),this.init(t)}e.a=n;var r=i(12),o=i(52),a=i(5),s=i(0),l=i(31),h=i(37),u=i(38),c=i(61),f=i(123),d=i(7),p=i(4),g=i(3);Object(g.a)(n,r.a),Object(s.a)(n.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new d.a;var t=new d.a;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},getSortIndex:function(){return r.a.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),e))}return r.a.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return h.a.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length)return t=arguments[0],this.getCoordinate().compareTo(t.getCoordinate());if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}},apply:function(){if(Object(a.a)(arguments[0],o.a)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(Object(a.a)(arguments[0],c.a)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else Object(a.a)(arguments[0],u.a)?arguments[0].filter(this):Object(a.a)(arguments[0],l.a)&&arguments[0].filter(this)},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=r.a.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new n(this._coordinates.copy(),this._factory)},getCoordinateSequence:function(){return this._coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this._coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),p.a.isTrue(t.size()<=1),this._coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[f.a]},getClass:function(){return n}}),n.serialVersionUID=0x44077bad161cbc00},function(t,e,i){function n(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new l.a(t),this.elt[1]=new l.a(t)}else if(arguments[0]instanceof n){var e=arguments[0];this.elt[0]=new l.a(e.elt[0]),this.elt[1]=new l.a(e.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new l.a(o.a.NONE),this.elt[1]=new l.a(o.a.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var a=arguments[0],s=arguments[1],h=arguments[2];this.elt[0]=new l.a(a,s,h),this.elt[1]=new l.a(a,s,h)}else if(4===arguments.length){var u=arguments[0],c=arguments[1],f=arguments[2],d=arguments[3];this.elt[0]=new l.a(o.a.NONE,o.a.NONE,o.a.NONE),this.elt[1]=new l.a(o.a.NONE,o.a.NONE,o.a.NONE),this.elt[u].setLocations(c,f,d)}}e.a=n;var r=i(33),o=i(10),a=i(17),s=i(0),l=i(233);Object(s.a)(n.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.elt[e].setAllLocationsIfNull(i)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new l.a(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(a.a.ON)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return this.elt[e].get(i)}},toString:function(){var t=new r.a;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(a.a.ON,e)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this.elt[i].setLocation(n,r)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new l.a(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return n}}),n.toLineLabel=function(t){for(var e=new n(o.a.NONE),i=0;i<2;i++)e.setLocation(i,t.getLocation(i));return e}},function(t,e,i){function n(t){this.parser=new r.a(t)}e.a=n;var r=i(119),o=i(0);Object(o.a)(n.prototype,{write:function(t){return this.parser.write(t)}}),Object(o.a)(n,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}})},function(t,e,i){function n(){var t=arguments[0],e=arguments[1];l.a.call(this,t,e)}e.a=n;var r=i(12),o=i(90),a=i(0),s=i(91),l=i(13),h=i(37),u=i(3);Object(u.a)(n,l.a),Object(a.a)(n.prototype,{getSortIndex:function(){return r.a.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&l.a.prototype.equalsExact.call(this,t,e)}return l.a.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?h.a.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),i=0;i<this._geometries.length;i++)e[t-1-i]=this._geometries[i].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new o.a(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new n(t,this._factory)},interfaces_:function(){return[s.a]},getClass:function(){return n}}),n.serialVersionUID=0x7155d2ab4afa8000},function(t,e,i){function n(){if(arguments[0]instanceof l.a&&arguments[1]instanceof s.a){var t=arguments[0],e=arguments[1];n.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(Object(a.a)(arguments[0],f.a)&&arguments[1]instanceof s.a){var i=arguments[0],o=arguments[1];r.a.call(this,i,o),this.validateConstruction()}}e.a=n;var r=i(9),o=i(12),a=i(5),s=i(15),l=i(2),h=i(6),u=i(0),c=i(92),f=i(36),d=i(37),p=i(3);Object(p.a)(n,r.a),Object(u.a)(n.prototype,{getSortIndex:function(){return o.a.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return d.a.FALSE},isClosed:function(){return!!this.isEmpty()||r.a.prototype.isClosed.call(this)},reverse:function(){var t=this._points.copy();return c.a.reverse(t),this.getFactory().createLinearRing(t)},validateConstruction:function(){if(!this.isEmpty()&&!r.a.prototype.isClosed.call(this))throw new h.a("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<n.MINIMUM_VALID_SIZE)throw new h.a("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new n(this._points.copy(),this._factory)},interfaces_:function(){return[]},getClass:function(){return n}}),n.MINIMUM_VALID_SIZE=4,n.serialVersionUID=-0x3b229e262367a600},function(t,e,i){function n(){var t=arguments[0],e=arguments[1];a.a.call(this,t,e)}e.a=n;var r=i(12),o=i(0),a=i(13),s=i(39),l=i(1),h=i(3);Object(h.a)(n,a.a),Object(o.a)(n.prototype,{getSortIndex:function(){return r.a.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&a.a.prototype.equalsExact.call(this,t,e)}return a.a.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this._geometries.length,e=new Array(t).fill(null),i=0;i<this._geometries.length;i++)e[i]=this._geometries[i].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new l.a,e=0;e<this._geometries.length;e++)for(var i=this._geometries[e].getBoundary(),n=0;n<i.getNumGeometries();n++)t.add(i.getGeometryN(n));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new n(t,this._factory)},interfaces_:function(){return[s.a]},getClass:function(){return n}}),n.serialVersionUID=-0x7a5aa1369171980},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(24);(n.prototype=Object.create(r.a.prototype)).constructor=n,n.prototype.get=function(){},n.prototype.set=function(){},n.prototype.isEmpty=function(){}},function(t,e,i){function n(t){this.str=t}e.a=n,n.prototype.append=function(t){this.str+=t},n.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},n.prototype.toString=function(t){return this.str}},function(t,e,i){function n(t){return null==t?f:t.color}function r(t){return null==t?null:t.parent}function o(t,e){null!==t&&(t.color=e)}function a(t){return null==t?null:t.left}function s(t){return null==t?null:t.right}function l(){this.root_=null,this.size_=0}e.a=l;var h=i(1),u=i(195),c=i(46),f=0;(l.prototype=new u.a).get=function(t){for(var e=this.root_;null!==e;){var i=t.compareTo(e.key);if(i<0)e=e.left;else{if(!(i>0))return e.value;e=e.right}}return null},l.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:f,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var i,n,r=this.root_;do{if(i=r,(n=t.compareTo(r.key))<0)r=r.left;else{if(!(n>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var a={key:t,left:null,right:null,value:e,parent:i,color:f,getValue:function(){return this.value},getKey:function(){return this.key}};return n<0?i.left=a:i.right=a,this.fixAfterInsertion(a),this.size_++,null},l.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!=this.root_&&1==t.parent.color;)if(r(t)==a(r(r(t))))1==n(e=s(r(r(t))))?(o(r(t),f),o(e,f),o(r(r(t)),1),t=r(r(t))):(t==s(r(t))&&(t=r(t),this.rotateLeft(t)),o(r(t),f),o(r(r(t)),1),this.rotateRight(r(r(t))));else{var e=a(r(r(t)));1==n(e)?(o(r(t),f),o(e,f),o(r(r(t)),1),t=r(r(t))):(t==a(r(t))&&(t=r(t),this.rotateRight(t)),o(r(t),f),o(r(r(t)),1),this.rotateLeft(r(r(t))))}this.root_.color=f},l.prototype.values=function(){var t=new h.a,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=l.successor(e));)t.add(e.value);return t},l.prototype.entrySet=function(){var t=new c.a,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=l.successor(e));)t.add(e);return t},l.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},l.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},l.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},l.successor=function(t){if(null===t)return null;if(null!==t.right){for(e=t.right;null!==e.left;)e=e.left;return e}for(var e=t.parent,i=t;null!==e&&i===e.right;)i=e,e=e.parent;return e},l.prototype.size=function(){return this.size_}},function(t,e,i){var n=i(60),r=i(1),o={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return o.sort(t),t.get(0)},sort:function(t,e){var i=t.toArray();e?n.a.sort(i,e):n.a.sort(i);for(var r=t.iterator(),o=0,a=i.length;o<a;o++)r.next(),r.set(i[o])},singletonList:function(t){var e=new r.a;return e.add(t),e}};e.a=o},function(t,e,i){function n(){}e.a=n;var r=i(0),o=i(55);Object(r.a)(n.prototype,{setOrdinate:function(t,e,i){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[o.a]},getClass:function(){return n}}),n.X=0,n.Y=1,n.Z=2,n.M=3},function(t,e,i){function n(){}e.a=n;var r=i(6),o=i(0),a=i(118);Object(o.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.toDimensionSymbol=function(t){switch(t){case n.FALSE:return n.SYM_FALSE;case n.TRUE:return n.SYM_TRUE;case n.DONTCARE:return n.SYM_DONTCARE;case n.P:return n.SYM_P;case n.L:return n.SYM_L;case n.A:return n.SYM_A}throw new r.a("Unknown dimension value: "+t)},n.toDimensionValue=function(t){switch(a.a.toUpperCase(t)){case n.SYM_FALSE:return n.FALSE;case n.SYM_TRUE:return n.TRUE;case n.SYM_DONTCARE:return n.DONTCARE;case n.SYM_P:return n.P;case n.SYM_L:return n.L;case n.SYM_A:return n.A}throw new r.a("Unknown dimension symbol: "+t)},n.P=0,n.L=1,n.A=2,n.FALSE=-1,n.TRUE=-2,n.DONTCARE=-3,n.SYM_FALSE="F",n.SYM_TRUE="T",n.SYM_DONTCARE="*",n.SYM_P="0",n.SYM_L="1",n.SYM_A="2"},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){var t=arguments[0],e=arguments[1];a.a.call(this,t,e)}e.a=n;var r=i(12),o=i(0),a=i(13),s=i(37),l=i(123),h=i(3);Object(h.a)(n,a.a),Object(o.a)(n.prototype,{getSortIndex:function(){return r.a.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return!!this.isEquivalentClass(t)&&a.a.prototype.equalsExact.call(this,t,e)}return a.a.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this._geometries[t].getCoordinate()}return a.a.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return s.a.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this._geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this._geometries[e].copy();return new n(t,this._factory)},interfaces_:function(){return[l.a]},getClass:function(){return n}}),n.serialVersionUID=-0x6fb1ed4162e0fc00},function(t,e,i){function n(){this._ptLocator=new r.a,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new m.a,this._resultPolyList=new y.a,this._resultLineList=new y.a,this._resultPointList=new y.a;var t=arguments[0],e=arguments[1];_.a.call(this,t,e),this._graph=new x.a(new g.a),this._geomFact=t.getFactory()}e.a=n;var r=i(64),o=i(10),a=i(216),s=i(231),l=i(133),h=i(17),u=i(234),c=i(235),f=i(74),d=i(0),p=i(26),g=i(102),_=i(103),m=i(144),y=i(1),v=i(4),b=i(3),x=i(66);Object(b.a)(n,_.a),Object(d.a)(n.prototype,{insertUniqueEdge:function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var i=e.getLabel(),n=t.getLabel();e.isPointwiseEqual(t)||(n=new p.a(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(i),r.add(n),i.merge(n)}else this._edgeList.add(t)},getGraph:function(){return this._graph},cancelDuplicateResultEdges:function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),i=e.getSym();e.isInResult()&&i.isInResult()&&(e.setInResult(!1),i.setInResult(!1))}},isCoveredByLA:function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},computeGeometry:function(t,e,i,r){var o=new y.a;return o.addAll(t),o.addAll(e),o.addAll(i),o.isEmpty()?n.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},mergeSymLabels:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},isCovered:function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next();if(this._ptLocator.locate(t,n)!==o.a.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new y.a,e=this._edgeList.iterator();e.hasNext();){var i=e.next();i.isCollapsed()&&(e.remove(),t.add(i.getCollapsedEdge()))}this._edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),i=e.getEdges().getLabel();e.getLabel().merge(i)}},getResultGeometry:function(t){return this.computeOverlay(t),this._resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this.insertUniqueEdge(i)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new y.a;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),a.a.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var i=new l.a(this._geomFact);i.add(this._graph),this._resultPolyList=i.getPolygons();var n=new u.a(this,this._geomFact,this._ptLocator);this._resultLineList=n.build(t);var r=new c.a(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},labelIncompleteNode:function(t,e){var i=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,i)},copyPoints:function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var i=e.next();this._graph.addNode(i.getCoordinate()).setLabel(t,i.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var i=e.next(),r=i.getLabel();r.isArea()&&!i.isInteriorAreaEdge()&&n.isResultOfOp(r.getLocation(0,h.a.RIGHT),r.getLocation(1,h.a.RIGHT),t)&&i.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),i=e.getLabel(),n=e.getDepth();if(!n.isNull()){n.normalize();for(var r=0;r<2;r++)i.isNull(r)||!i.isArea()||n.isNull(r)||(0===n.getDelta(r)?i.toLine(r):(v.a.isTrue(!n.isNull(r,h.a.LEFT),"depth of LEFT side has not been initialized"),i.setLocation(r,h.a.LEFT,n.getLocation(r,h.a.LEFT)),v.a.isTrue(!n.isNull(r,h.a.RIGHT),"depth of RIGHT side has not been initialized"),i.setLocation(r,h.a.RIGHT,n.getLocation(r,h.a.RIGHT))))}}},computeLabelling:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),i=e.getLabel();e.isIsolated()&&(i.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(i)}},isCoveredByA:function(t){return!!this.isCovered(t,this._resultPolyList)},interfaces_:function(){return[]},getClass:function(){return n}}),n.overlayOp=function(t,e,i){return new n(t,e).getResultGeometry(i)},n.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return n.createEmptyResult(n.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var i=e;return s.a.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(i)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),f.a.overlayOp(t,e,n.INTERSECTION)},n.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return n.createEmptyResult(n.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),f.a.overlayOp(t,e,n.SYMDIFFERENCE)},n.resultDimension=function(t,e,i){var r=e.getDimension(),o=i.getDimension(),a=-1;switch(t){case n.INTERSECTION:a=Math.min(r,o);break;case n.UNION:a=Math.max(r,o);break;case n.DIFFERENCE:a=r;break;case n.SYMDIFFERENCE:a=Math.max(r,o)}return a},n.createEmptyResult=function(t,e,i,r){var o=null;switch(n.resultDimension(t,e,i)){case-1:o=r.createGeometryCollection(new Array(0).fill(null));break;case 0:o=r.createPoint();break;case 1:o=r.createLineString();break;case 2:o=r.createPolygon()}return o},n.difference=function(t,e){return t.isEmpty()?n.createEmptyResult(n.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),f.a.overlayOp(t,e,n.DIFFERENCE))},n.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=t.getLocation(0),r=t.getLocation(1);return n.isResultOfOp(i,r,e)}if(3===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2];switch(a===o.a.BOUNDARY&&(a=o.a.INTERIOR),s===o.a.BOUNDARY&&(s=o.a.INTERIOR),l){case n.INTERSECTION:return a===o.a.INTERIOR&&s===o.a.INTERIOR;case n.UNION:return a===o.a.INTERIOR||s===o.a.INTERIOR;case n.DIFFERENCE:return a===o.a.INTERIOR&&s!==o.a.INTERIOR;case n.SYMDIFFERENCE:return a===o.a.INTERIOR&&s!==o.a.INTERIOR||a!==o.a.INTERIOR&&s===o.a.INTERIOR}return!1}},n.INTERSECTION=1,n.UNION=2,n.DIFFERENCE=3,n.SYMDIFFERENCE=4},function(t,e,i){function n(){if(this.pt=null,1===arguments.length){var t=arguments[0];a.a.call(this,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];a.a.call(this,n.msgWithCoord(e,i)),this.name="TopologyException",this.pt=new r.a(i)}}e.a=n;var r=i(2),o=i(0),a=i(45),s=i(3);Object(s.a)(n,a.a),Object(o.a)(n.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return n}}),n.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i(113))&&n.__esModule?n:{default:n},o=L.Class.extend({includes:[r.default],options:{snappable:!0,snapDistance:20,cursorMarker:!0,finishOnDoubleClick:!1,finishOn:null,allowSelfIntersection:!0,templineStyle:{},hintlineStyle:{dashArray:[5,5]},markerStyle:{draggable:!0}},initialize:function(t){var e=this;this._map=t,this.shapes=["Marker","Line","Poly","Rectangle","Circle","Cut"],this.shapes.forEach(function(t){e[t]=new L.PM.Draw[t](e._map)})},setPathOptions:function(t){this.options.pathOptions=t},getShapes:function(){return this.shapes},enable:function(t,e){if(!t)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: "+this.getShapes().join(","));this.disable(),this[t].enable(e)},disable:function(){var t=this;this.shapes.forEach(function(e){t[e].disable()})},addControls:function(){var t=this;this.shapes.forEach(function(e){t[e].addButton()})}});e.default=o},function(t,e,i){function r(t,e,i,r){if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");if(i){if(!Array.isArray(i))throw new Error("bbox must be an Array");if(4!==i.length)throw new Error("bbox must be an Array of 4 numbers")}if(r&&-1===["string","number"].indexOf(void 0===r?"undefined":n(r)))throw new Error("id must be a number or a string");var o={type:"Feature"};return r&&(o.id=r),i&&(o.bbox=i),o.properties=e||{},o.geometry=t,o}function o(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}e.a=r,e.e=function(t,e,i,n){if(!t)throw new Error("No coordinates passed");if(!Array.isArray(t))throw new Error("Coordinates must be an Array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");if(!o(t[0])||!o(t[1]))throw new Error("Coordinates must contain numbers");return r({type:"Point",coordinates:t},e,i,n)},e.d=function(t,e,i,n){if(!t)throw new Error("No coordinates passed");if(t.length<2)throw new Error("Coordinates must be an array of two or more positions");if(!o(t[0][1])||!o(t[0][1]))throw new Error("Coordinates must contain numbers");return r({type:"LineString",coordinates:t},e,i,n)},e.b=o,e.c=function(t){return!!t&&t.constructor===Object}},function(t,e,i){function n(t){this.name="RuntimeException",this.message=t,this.stack=(new Error).stack,Error.call(this,t)}e.a=n,(n.prototype=Object.create(Error.prototype)).constructor=Error},function(t,e,i){function n(){this.array_=[],arguments[0]instanceof r.a&&this.addAll(arguments[0])}e.a=n;var r=i(24),o=(i(51),i(72)),a=i(87),s=i(122);(n.prototype=new s.a).contains=function(t){for(var e=0,i=this.array_.length;e<i;e++)if(this.array_[e]===t)return!0;return!1},n.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},n.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},n.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},n.prototype.size=function(){return this.array_.length},n.prototype.isEmpty=function(){return 0===this.array_.length},n.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t},n.prototype.iterator=function(){return new l(this)};var l=function(t){this.hashSet_=t,this.position_=0};l.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new o.a;return this.hashSet_.array_[this.position_++]},l.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},l.prototype.remove=function(){throw new a.a}},function(t,e,i){function n(){this.array_=[],arguments[0]instanceof r.a&&this.addAll(arguments[0])}e.a=n;var r=i(24),o=(i(51),i(72)),a=i(87),s=i(196);(n.prototype=new s.a).contains=function(t){for(var e=0,i=this.array_.length;e<i;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},n.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,i=this.array_.length;e<i;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},n.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},n.prototype.remove=function(t){throw new a.a},n.prototype.size=function(){return this.array_.length},n.prototype.isEmpty=function(){return 0===this.array_.length},n.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t},n.prototype.iterator=function(){return new l(this)};var l=function(t){this.treeSet_=t,this.position_=0};l.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new o.a;return this.treeSet_.array_[this.position_++]},l.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},l.prototype.remove=function(){throw new a.a}},function(t,e,i){function n(){}e.a=n;var r=i(2),o=i(6),a=i(0);Object(a.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.isNorthern=function(t){return t===n.NE||t===n.NW},n.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},n.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var i=t<e?t:e;return 0===i&&3===(t>e?t:e)?3:i},n.isInHalfPlane=function(t,e){return e===n.SE?t===n.SE||t===n.SW:t===e||t===e+1},n.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new o.a("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?n.NE:n.SE:e>=0?n.NW:n.SW}if(arguments[0]instanceof r.a&&arguments[1]instanceof r.a){var i=arguments[0],a=arguments[1];if(a.x===i.x&&a.y===i.y)throw new o.a("Cannot compute the quadrant for two identical points "+i);return a.x>=i.x?a.y>=i.y?n.NE:n.SE:a.y>=i.y?n.NW:n.SW}},n.NE=0,n.NW=1,n.SW=2,n.SE=3},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(113)),o=n(i(370)),a=L.Class.extend({includes:[o.default,r.default],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,draggable:!0},isPolygon:function(){return this._layer instanceof L.Polygon}});e.default=a},function(t,e,i){e.a=function(){}},function(t,e,i){function n(){}e.a=n,n.prototype.hasNext=function(){},n.prototype.next=function(){},n.prototype.remove=function(){}},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=n.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof r){var t=arguments[0];this._modelType=t,t===n.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this._modelType=n.FIXED,this.setScale(e)}else if(arguments[0]instanceof n){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}}function r(){this._name=null;var t=arguments[0];this._name=t,r.nameToTypeMap.put(t,this)}e.a=n;var o=i(73),a=i(2),s=i(11),l=i(0),h=i(57),u=i(20),c=i(21);Object(l.a)(n.prototype,{equals:function(t){if(!(t instanceof n))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},compareTo:function(t){var e=t,i=this.getMaximumSignificantDigits(),n=e.getMaximumSignificantDigits();return new h.a(i).compareTo(new h.a(n))},getScale:function(){return this._scale},isFloating:function(){return this._modelType===n.FLOATING||this._modelType===n.FLOATING_SINGLE},getType:function(){return this._modelType},toString:function(){var t="UNKNOWN";return this._modelType===n.FLOATING?t="Floating":this._modelType===n.FLOATING_SINGLE?t="Floating-Single":this._modelType===n.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];return s.a.isNaN(t)?t:this._modelType===n.FLOATING_SINGLE?t:this._modelType===n.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof a.a){var e=arguments[0];if(this._modelType===n.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},getMaximumSignificantDigits:function(){var t=16;return this._modelType===n.FLOATING?t=16:this._modelType===n.FLOATING_SINGLE?t=6:this._modelType===n.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this._scale=Math.abs(t)},interfaces_:function(){return[c.a,u.a]},getClass:function(){return n}}),n.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Object(l.a)(r.prototype,{readResolve:function(){return r.nameToTypeMap.get(this._name)},toString:function(){return this._name},interfaces_:function(){return[c.a]},getClass:function(){return r}}),r.serialVersionUID=-552860263173159e4,r.nameToTypeMap=new o.a,n.Type=r,n.serialVersionUID=0x6bee6404e9a25c00,n.FIXED=new r("FIXED"),n.FLOATING=new r("FLOATING"),n.FLOATING_SINGLE=new r("FLOATING SINGLE"),n.maximumPreciseValue=9007199254740992},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){e.a=function(){}},function(t,e,i){function n(){o.a.call(this,"Projective point not representable on the Cartesian plane.")}e.a=n;var r=i(0),o=i(88),a=i(3);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(t){this.value=t}e.a=n,n.prototype.intValue=function(){return this.value},n.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},n.isNaN=function(t){return Number.isNaN(t)}},function(t,e,i){function n(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],i=arguments[1];this.x=e,this.y=i,this.w=1}else if(arguments[0]instanceof n&&arguments[1]instanceof n){var r=arguments[0],a=arguments[1];this.x=r.y*a.w-a.y*r.w,this.y=a.x*r.w-r.x*a.w,this.w=r.x*a.y-a.x*r.y}else if(arguments[0]instanceof o.a&&arguments[1]instanceof o.a){var s=arguments[0],l=arguments[1];this.x=s.y-l.y,this.y=l.x-s.x,this.w=s.x*l.y-l.x*s.y}}else if(3===arguments.length){var h=arguments[0],u=arguments[1],c=arguments[2];this.x=h,this.y=u,this.w=c}else if(4===arguments.length){var f=arguments[0],d=arguments[1],p=arguments[2],g=arguments[3],_=f.y-d.y,m=d.x-f.x,y=f.x*d.y-d.x*f.y,v=p.y-g.y,b=g.x-p.x,x=p.x*g.y-g.x*p.y;this.x=m*x-b*y,this.y=v*y-_*x,this.w=_*b-v*m}}e.a=n;var r=i(56),o=i(2),a=i(11),s=i(0);Object(s.a)(n.prototype,{getY:function(){var t=this.y/this.w;if(a.a.isNaN(t)||a.a.isInfinite(t))throw new r.a;return t},getX:function(){var t=this.x/this.w;if(a.a.isNaN(t)||a.a.isInfinite(t))throw new r.a;return t},getCoordinate:function(){var t=new o.a;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return n}}),n.intersection=function(t,e,i,n){var s=t.y-e.y,l=e.x-t.x,h=t.x*e.y-e.x*t.y,u=i.y-n.y,c=n.x-i.x,f=i.x*n.y-n.x*i.y,d=s*c-u*l,p=(l*f-c*h)/d,g=(u*h-s*f)/d;if(a.a.isNaN(p)||a.a.isInfinite(p)||a.a.isNaN(g)||a.a.isInfinite(g))throw new r.a;return new o.a(p,g)}},function(t,e,i){function n(){}function r(){}function o(){}function a(){}function s(){}e.a=n;var l=i(0);Object(l.a)(n.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return n}}),Object(l.a)(r.prototype,{isInBoundary:function(t){return t%2==1},interfaces_:function(){return[n]},getClass:function(){return r}}),Object(l.a)(o.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[n]},getClass:function(){return o}}),Object(l.a)(a.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[n]},getClass:function(){return a}}),Object(l.a)(s.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[n]},getClass:function(){return s}}),n.Mod2BoundaryNodeRule=r,n.EndPointBoundaryNodeRule=o,n.MultiValentEndPointBoundaryNodeRule=a,n.MonoValentEndPointBoundaryNodeRule=s,n.MOD2_BOUNDARY_RULE=new r,n.ENDPOINT_BOUNDARY_RULE=new o,n.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new a,n.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new s,n.OGC_SFS_BOUNDARY_RULE=n.MOD2_BOUNDARY_RULE},function(t,e,i){function n(){}e.a=n;var r=i(1);n.sort=function(){var t,e,i,n,r=arguments[0];if(1===arguments.length)return n=function(t,e){return t.compareTo(e)},void r.sort(n);if(2===arguments.length)i=arguments[1],n=function(t,e){return i.compare(t,e)},r.sort(n);else{if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}if(4===arguments.length){for(e=r.slice(arguments[1],arguments[2]),i=arguments[3],n=function(t,e){return i.compare(t,e)},e.sort(n),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}}},n.asList=function(t){for(var e=new r.a,i=0,n=t.length;i<n;i++)e.add(t[i]);return e}},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];n.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];for(this._coordinates=new Array(e).fill(null),c=0;c<e;c++)this._coordinates[c]=new a.a}else if(Object(o.a)(arguments[0],u.a)){var i=arguments[0];if(null===i)return this._coordinates=new Array(0).fill(null),null;for(this._dimension=i.getDimension(),this._coordinates=new Array(i.size()).fill(null),c=0;c<this._coordinates.length;c++)this._coordinates[c]=i.getCoordinateCopy(c)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],s=arguments[1];this._coordinates=r,this._dimension=s,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],h=arguments[1];this._coordinates=new Array(l).fill(null),this._dimension=h;for(var c=0;c<l;c++)this._coordinates[c]=new a.a}}e.a=n;var r=i(33),o=i(5),a=i(2),s=i(6),l=i(11),h=i(0),u=i(36),c=i(21);Object(h.a)(n.prototype,{setOrdinate:function(t,e,i){switch(e){case u.a.X:this._coordinates[t].x=i;break;case u.a.Y:this._coordinates[t].y=i;break;case u.a.Z:this._coordinates[t].z=i;break;default:throw new s.a("invalid ordinateIndex")}},size:function(){return this._coordinates.length},getOrdinate:function(t,e){switch(e){case u.a.X:return this._coordinates[t].x;case u.a.Y:return this._coordinates[t].y;case u.a.Z:return this._coordinates[t].z}return l.a.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],i=arguments[1];i.x=this._coordinates[e].x,i.y=this._coordinates[e].y,i.z=this._coordinates[e].z}},getCoordinateCopy:function(t){return new a.a(this._coordinates[t])},getDimension:function(){return this._dimension},getX:function(t){return this._coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new n(t,this._dimension)},expandEnvelope:function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new n(t,this._dimension)},toString:function(){if(this._coordinates.length>0){var t=new r.a(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this._coordinates[t].y},toCoordinateArray:function(){return this._coordinates},interfaces_:function(){return[u.a,c.a]},getClass:function(){return n}}),n.serialVersionUID=-0xcb44a778db18e00},function(t,e,i){function n(){this.array_=[]}e.a=n;var r=i(208),o=i(32);(n.prototype=new o.a).add=function(t){return this.array_.push(t),!0},n.prototype.get=function(t){if(t<0||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},n.prototype.push=function(t){return this.array_.push(t),t},n.prototype.pop=function(t){if(0===this.array_.length)throw new r.a;return this.array_.pop()},n.prototype.peek=function(){if(0===this.array_.length)throw new r.a;return this.array_[this.array_.length-1]},n.prototype.empty=function(){return 0===this.array_.length},n.prototype.isEmpty=function(){return this.empty()},n.prototype.search=function(t){return this.array_.indexOf(t)},n.prototype.size=function(){return this.array_.length},n.prototype.toArray=function(){for(var t=[],e=0,i=this.array_.length;e<i;e++)t.push(this.array_[e]);return t}},function(t,e,i){function n(){if(this._boundaryRule=c.a.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new l.a("Rule must be non-null");this._boundaryRule=t}}e.a=n;var r=i(10),o=i(9),a=i(8),s=i(2),l=i(6),h=i(25),u=i(16),c=i(59),f=i(0),d=i(30),p=i(127),g=i(13),_=i(28);Object(f.a)(n.prototype,{locateInternal:function(){if(arguments[0]instanceof s.a&&arguments[1]instanceof u.a){var t=arguments[0],e=arguments[1];if(e.isEmpty())return r.a.EXTERIOR;var i=e.getExteriorRing(),n=this.locateInPolygonRing(t,i);if(n===r.a.EXTERIOR)return r.a.EXTERIOR;if(n===r.a.BOUNDARY)return r.a.BOUNDARY;for(var l=0;l<e.getNumInteriorRing();l++){var c=e.getInteriorRingN(l),f=this.locateInPolygonRing(t,c);if(f===r.a.INTERIOR)return r.a.EXTERIOR;if(f===r.a.BOUNDARY)return r.a.BOUNDARY}return r.a.INTERIOR}if(arguments[0]instanceof s.a&&arguments[1]instanceof o.a){var d=arguments[0],p=arguments[1];if(!p.getEnvelopeInternal().intersects(d))return r.a.EXTERIOR;var g=p.getCoordinates();return p.isClosed()||!d.equals(g[0])&&!d.equals(g[g.length-1])?a.a.isOnLine(d,g)?r.a.INTERIOR:r.a.EXTERIOR:r.a.BOUNDARY}if(arguments[0]instanceof s.a&&arguments[1]instanceof h.a){var _=arguments[0];return arguments[1].getCoordinate().equals2D(_)?r.a.INTERIOR:r.a.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?a.a.locatePointInRing(t,e.getCoordinates()):r.a.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==r.a.EXTERIOR},updateLocationInfo:function(t){t===r.a.INTERIOR&&(this._isIn=!0),t===r.a.BOUNDARY&&this._numBoundaries++},computeLocation:function(t,e){if(e instanceof h.a&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof o.a)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof u.a)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof _.a)for(var i=e,n=0;n<i.getNumGeometries();n++){var r=i.getGeometryN(n);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof d.a){var a=e;for(n=0;n<a.getNumGeometries();n++){var s=a.getGeometryN(n);this.updateLocationInfo(this.locateInternal(t,s))}}else if(e instanceof g.a)for(var l=new p.a(e);l.hasNext();){var c=l.next();c!==e&&this.computeLocation(t,c)}},locate:function(t,e){return e.isEmpty()?r.a.EXTERIOR:e instanceof o.a?this.locateInternal(t,e):e instanceof u.a?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?r.a.BOUNDARY:this._numBoundaries>0||this._isIn?r.a.INTERIOR:r.a.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._nodeList=new r.a(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}e.a=n;var r=i(223),o=i(27),a=i(62),s=i(2),l=i(128),h=i(0),u=i(1),c=i(226);Object(h.a)(n.prototype,{getCoordinates:function(){return this._pts},size:function(){return this._pts.length},getCoordinate:function(t){return this._pts[t]},isClosed:function(){return this._pts[0].equals(this._pts[this._pts.length-1])},getSegmentOctant:function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this._data=t},safeOctant:function(t,e){return t.equals2D(e)?0:l.a.octant(t,e)},getData:function(){return this._data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var i=arguments[0],n=arguments[1],r=(arguments[2],arguments[3]),o=new s.a(i.getIntersection(r));this.addIntersection(o,n)}},toString:function(){return o.a.toLineString(new a.a(this._pts))},getNodeList:function(){return this._nodeList},addIntersectionNode:function(t,e){var i=e,n=i+1;if(n<this._pts.length){var r=this._pts[n];t.equals2D(r)&&(i=n)}return this._nodeList.add(t,i)},addIntersections:function(t,e,i){for(var n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,i,n)},interfaces_:function(){return[c.a]},getClass:function(){return n}}),n.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new u.a;return n.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var i=arguments[0],r=arguments[1],o=i.iterator();o.hasNext();)o.next().getNodeList().addSplitEdges(r)}},function(t,e,i){function n(){if(this._edges=new f.a,this._nodes=null,this._edgeEndList=new f.a,0===arguments.length)this._nodes=new h.a(new p.a);else if(1===arguments.length){var t=arguments[0];this._nodes=new h.a(t)}}e.a=n;var r=i(10),o=i(8),a=i(2),s=i(67),l=i(0),h=i(99),u=i(137),c=i(23),f=i(1),d=i(48),p=i(101);Object(l.a)(n.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var i=this._edges.get(e);i.print(t),i.eiList.print(t)}},find:function(t){return this._nodes.find(t)},addNode:function(){if(arguments[0]instanceof s.a){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof a.a){var e=arguments[0];return this._nodes.addNode(e)}},getNodeIterator:function(){return this._nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},debugPrintln:function(t){c.a.out.println(t)},isBoundaryNode:function(t,e){var i=this._nodes.find(e);if(null===i)return!1;var n=i.getLabel();return null!==n&&n.getLocation(t)===r.a.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},matchInSameDirection:function(t,e,i,n){return!!t.equals(i)&&o.a.computeOrientation(t,e,n)===o.a.COLLINEAR&&d.a.quadrant(t,e)===d.a.quadrant(i,n)},getEdgeEnds:function(){return this._edgeEndList},debugPrint:function(t){c.a.out.print(t)},getEdgeIterator:function(){return this._edges.iterator()},findEdgeInSameDirection:function(t,e){for(var i=0;i<this._edges.size();i++){var n=this._edges.get(i),r=n.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return n;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return n}return null},insertEdge:function(t){this._edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var i=e.next();if(i.getEdge()===t)return i}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this._edges.add(i);var n=new u.a(i,!0),r=new u.a(i,!1);n.setSym(r),r.setSym(n),this.add(n),this.add(r)}},add:function(t){this._nodes.add(t),this._edgeEndList.add(t)},getNodes:function(){return this._nodes.values()},findEdge:function(t,e){for(var i=0;i<this._edges.size();i++){var n=this._edges.get(i),r=n.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return n}return null},interfaces_:function(){return[]},getClass:function(){return n}}),n.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()}},function(t,e,i){function n(){l.a.apply(this),this._coord=null,this._edges=null;var t=arguments[0],e=arguments[1];this._coord=t,this._edges=e,this._label=new a.a(0,r.a.NONE)}e.a=n;var r=i(10),o=i(0),a=i(26),s=i(3),l=i(136);Object(s.a)(n,l.a),Object(o.a)(n.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},isIsolated:function(){return 1===this._label.getGeometryCount()},getCoordinate:function(){return this._coord},print:function(t){t.println("node "+this._coord+" lbl: "+this._label)},computeIM:function(t){},computeMergedLocation:function(t,e){var i=r.a.NONE;if(i=this._label.getLocation(e),!t.isNull(e)){var n=t.getLocation(e);i!==r.a.BOUNDARY&&(i=n)}return i},setLabel:function(){if(2!==arguments.length)return l.a.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this._label?this._label=new a.a(t,e):this._label.setLocation(t,e)},getEdges:function(){return this._edges},mergeLabel:function(){if(arguments[0]instanceof n){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof a.a)for(var e=arguments[0],i=0;i<2;i++){var o=this.computeMergedLocation(e,i);this._label.getLocation(i)===r.a.NONE&&this._label.setLocation(i,o)}},add:function(t){this._edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this._label)return null;var e=r.a.NONE;null!==this._label&&(e=this._label.getLocation(t));var i=null;switch(e){case r.a.BOUNDARY:i=r.a.INTERIOR;break;case r.a.INTERIOR:default:i=r.a.BOUNDARY}this._label.setLocation(t,i)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(P.a.apply(this),this._parentGeom=null,this._lineEdgeMap=new s.a,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new r.a,2===arguments.length){var t=arguments[0],e=arguments[1];n.call(this,t,e,m.a.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=a,null!==o&&this.add(o)}}e.a=n;var r=i(64),o=i(10),a=i(9),s=i(73),l=i(8),h=i(5),u=i(17),c=i(2),f=i(25),d=i(16),p=i(40),g=i(237),_=i(29),m=i(59),y=i(0),v=i(141),b=i(30),x=i(26),L=i(13),w=i(19),C=i(39),I=i(241),M=i(4),E=i(78),O=i(3),S=i(28),P=i(66);Object(O.a)(n,P.a),Object(y.a)(n.prototype,{insertBoundaryPoint:function(t,e){var i=this._nodes.addNode(e).getLabel(),r=1;o.a.NONE,i.getLocation(t,u.a.ON)===o.a.BOUNDARY&&r++;var a=n.determineBoundary(this._boundaryNodeRule,r);i.setLocation(t,a)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=new v.a(i,!0,!1);o.setIsDoneIfProperInt(r);var a=this.createEdgeSetIntersector(),s=this._parentGeom instanceof _.a||this._parentGeom instanceof d.a||this._parentGeom instanceof b.a,l=n||!s;return a.computeIntersections(this._edges,o,l),this.addSelfIntersectionNodes(this._argIndex),o}},computeSplitEdges:function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},computeEdgeIntersections:function(t,e,i){var n=new v.a(e,i,!0);return n.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,n),n},getGeometry:function(){return this._parentGeom},getBoundaryNodeRule:function(){return this._boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof f.a){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,o.a.INTERIOR)}else if(arguments[0]instanceof c.a){var e=arguments[0];this.insertPoint(this._argIndex,e,o.a.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),o.a.EXTERIOR,o.a.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var i=t.getInteriorRingN(e);this.addPolygonRing(i,o.a.INTERIOR,o.a.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],o.a.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],o.a.BOUNDARY)},addLineString:function(t){var e=w.a.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var i=new E.a(e,new x.a(this._argIndex,o.a.INTERIOR));this._lineEdgeMap.put(t,i),this.insertEdge(i),M.a.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},getInvalidPoint:function(){return this._invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),i=0,n=t.iterator();n.hasNext();){var r=n.next();e[i++]=r.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},addSelfIntersectionNode:function(t,e,i){if(this.isBoundaryNode(t,e))return null;i===o.a.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,i)},addPolygonRing:function(t,e,i){if(t.isEmpty())return null;var n=w.a.removeRepeatedPoints(t.getCoordinates());if(n.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=n[0],null;var r=e,a=i;l.a.isCCW(n)&&(r=i,a=e);var s=new E.a(n,new x.a(this._argIndex,o.a.BOUNDARY,r,a));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,n[0],o.a.BOUNDARY)},insertPoint:function(t,e,i){var n=this._nodes.addNode(e),r=n.getLabel();null===r?n._label=new x.a(t,i):r.setLocation(t,i)},createEdgeSetIntersector:function(){return new g.a},addSelfIntersectionNodes:function(t){for(var e=this._edges.iterator();e.hasNext();)for(var i=e.next(),n=i.getLabel().getLocation(t),r=i.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,n)}},add:function(){if(1!==arguments.length)return P.a.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof b.a&&(this._useBoundaryDeterminationRule=!1),t instanceof d.a)this.addPolygon(t);else if(t instanceof a.a)this.addLineString(t);else if(t instanceof f.a)this.addPoint(t);else if(t instanceof p.a)this.addCollection(t);else if(t instanceof S.a)this.addCollection(t);else if(t instanceof b.a)this.addCollection(t);else{if(!(t instanceof L.a))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);this.add(i)}},locate:function(t){return Object(h.a)(this._parentGeom,C.a)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new I.a(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},findEdge:function(){if(1===arguments.length){var t=arguments[0];return this._lineEdgeMap.get(t)}return P.a.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return n}}),n.determineBoundary=function(t,e){return t.isInBoundary(e)?o.a.BOUNDARY:o.a.INTERIOR}},function(t,e,i){function n(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._lines=e,this._isForcedToLineString=i}}e.a=n;var r=i(9),o=i(12),a=i(5),s=i(24),l=i(29),h=i(0),u=i(31),c=i(1);Object(h.a)(n.prototype,{filter:function(t){if(this._isForcedToLineString&&t instanceof l.a){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof r.a&&this._lines.add(t)},setForceToLineString:function(t){this._isForcedToLineString=t},interfaces_:function(){return[u.a]},getClass:function(){return n}}),n.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(n.getLines(t))}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e.getFactory().buildGeometry(n.getLines(e,i))}},n.getLines=function(){if(1===arguments.length){var t=arguments[0];return n.getLines(t,!1)}if(2===arguments.length){if(Object(a.a)(arguments[0],s.a)&&Object(a.a)(arguments[1],s.a)){var e=arguments[0],i=arguments[1];for(m=e.iterator();m.hasNext();)y=m.next(),n.getLines(y,i);return i}if(arguments[0]instanceof o.a&&"boolean"==typeof arguments[1]){var l=arguments[0],h=arguments[1],u=new c.a;return l.apply(new n(u,h)),u}if(arguments[0]instanceof o.a&&Object(a.a)(arguments[1],s.a)){var f=arguments[0],d=arguments[1];return f instanceof r.a?d.add(f):f.apply(new n(d)),d}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&Object(a.a)(arguments[0],s.a)&&Object(a.a)(arguments[1],s.a)){for(var p=arguments[0],g=arguments[1],_=arguments[2],m=p.iterator();m.hasNext();){var y=m.next();n.getLines(y,g,_)}return g}if("boolean"==typeof arguments[2]&&arguments[0]instanceof o.a&&Object(a.a)(arguments[1],s.a)){var v=arguments[0],b=arguments[1],x=arguments[2];return v.apply(new n(b,x)),b}}}},function(t,e,i){function n(){u.a.apply(this),this._parentEdge=null,this._from=null,this._to=null,this._p0=null,this._p1=null,this._sym=null,this._edgeDirection=null,this._quadrant=null,this._angle=null;var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this._from=t,this._to=e,this._edgeDirection=n,this._p0=t.getCoordinate(),this._p1=i;var r=this._p1.x-this._p0.x,o=this._p1.y-this._p0.y;this._quadrant=l.a.quadrant(r,o),this._angle=Math.atan2(o,r)}e.a=n;var r=i(8),o=i(0),a=i(20),s=i(1),l=i(48),h=i(3),u=i(82);Object(h.a)(n,u.a),Object(o.a)(n.prototype,{isRemoved:function(){return null===this._parentEdge},compareDirection:function(t){return this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:r.a.computeOrientation(t._p0,t._p1,this._p1)},getCoordinate:function(){return this._from.getCoordinate()},print:function(t){var e=this.getClass().getName(),i=e.lastIndexOf("."),n=e.substring(i+1);t.print("  "+n+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+this._angle)},getDirectionPt:function(){return this._p1},getAngle:function(){return this._angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this._from},getSym:function(){return this._sym},setEdge:function(t){this._parentEdge=t},remove:function(){this._sym=null,this._parentEdge=null},getEdge:function(){return this._parentEdge},getQuadrant:function(){return this._quadrant},setSym:function(t){this._sym=t},getToNode:function(){return this._to},getEdgeDirection:function(){return this._edgeDirection},interfaces_:function(){return[a.a]},getClass:function(){return n}}),n.toEdges=function(t){for(var e=new s.a,i=t.iterator();i.hasNext();)e.add(i.next()._parentEdge);return e}},function(t,e,i){function n(){if(this._linearGeom=null,this._numLines=null,this._currentLine=null,this._componentIndex=0,this._vertexIndex=0,1===arguments.length){var t=arguments[0];n.call(this,t,0,0)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];n.call(this,e,i.getComponentIndex(),n.segmentEndVertexIndex(i))}else if(3===arguments.length){var a=arguments[0],l=arguments[1],h=arguments[2];if(!Object(r.a)(a,s.a))throw new o.a("Lineal geometry is required");this._linearGeom=a,this._numLines=a.getNumGeometries(),this._componentIndex=l,this._vertexIndex=h,this.loadCurrentLine()}}e.a=n;var r=i(5),o=i(6),a=i(0),s=i(91);Object(a.a)(n.prototype,{getComponentIndex:function(){return this._componentIndex},getLine:function(){return this._currentLine},getVertexIndex:function(){return this._vertexIndex},getSegmentEnd:function(){return this._vertexIndex<this.getLine().getNumPoints()-1?this._currentLine.getCoordinateN(this._vertexIndex+1):null},next:function(){if(!this.hasNext())return null;this._vertexIndex++,this._vertexIndex>=this._currentLine.getNumPoints()&&(this._componentIndex++,this.loadCurrentLine(),this._vertexIndex=0)},loadCurrentLine:function(){if(this._componentIndex>=this._numLines)return this._currentLine=null,null;this._currentLine=this._linearGeom.getGeometryN(this._componentIndex)},getSegmentStart:function(){return this._currentLine.getCoordinateN(this._vertexIndex)},isEndOfLine:function(){return!(this._componentIndex>=this._numLines||this._vertexIndex<this._currentLine.getNumPoints()-1)},hasNext:function(){return!(this._componentIndex>=this._numLines||this._componentIndex===this._numLines-1&&this._vertexIndex>=this._currentLine.getNumPoints())},interfaces_:function(){return[]},getClass:function(){return n}}),n.segmentEndVertexIndex=function(t){return t.getSegmentFraction()>0?t.getSegmentIndex()+1:t.getSegmentIndex()}},function(t,e,i){function n(t){this.message=t||""}e.a=n,(n.prototype=new Error).name="NoSuchElementException"},function(t,e,i){function n(){this.map_=new l}e.a=n;var r=i(1),o=i(121),a=i(46),s=i(205),l="undefined"!=typeof Map&&Map.prototype.values?Map:s.a;(n.prototype=new o.a).get=function(t){return this.map_.get(t)||null},n.prototype.put=function(t,e){return this.map_.set(t,e),e},n.prototype.values=function(){for(var t=new r.a,e=this.map_.values(),i=e.next();!i.done;)t.add(i.value),i=e.next();return t},n.prototype.entrySet=function(){var t=new a.a;return this.map_.entries().forEach(function(e){return t.add(e)}),t},n.prototype.size=function(){return this.map_.size()}},function(t,e,i){function n(){this._geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this._geom[0]=t,this._geom[1]=e}e.a=n;var r=i(211),o=i(0),a=i(45),s=i(41);Object(o.a)(n.prototype,{getResultGeometry:function(t){var e=null,i=!1,n=null;try{e=s.a.overlayOp(this._geom[0],this._geom[1],t),i=!0}catch(t){if(!(t instanceof a.a))throw t;n=t}if(!i)try{e=r.a.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof a.a?n:t}return e},interfaces_:function(){return[]},getClass:function(){return n}}),n.overlayOp=function(t,e,i){return new n(t,e).getResultGeometry(i)},n.union=function(t,e){return n.overlayOp(t,e,s.a.UNION)},n.intersection=function(t,e){return n.overlayOp(t,e,s.a.INTERSECTION)},n.symDifference=function(t,e){return n.overlayOp(t,e,s.a.SYMDIFFERENCE)},n.difference=function(t,e){return n.overlayOp(t,e,s.a.DIFFERENCE)}},function(t,e,i){function n(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1}e.a=n;var r=i(9),o=i(15),a=i(6),s=i(25),l=i(16),h=i(40),u=i(29),c=i(0),f=i(30),d=i(13),p=i(1),g=i(28);Object(c.a)(n.prototype,{transformPoint:function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var i=!0,n=this.transformLinearRing(t.getExteriorRing(),t);null!==n&&n instanceof u.a&&!n.isEmpty()||(i=!1);for(var r=new p.a,o=0;o<t.getNumInteriorRing();o++){var a=this.transformLinearRing(t.getInteriorRingN(o),t);null===a||a.isEmpty()||(a instanceof u.a||(i=!1),r.add(a))}if(i)return this._factory.createPolygon(n,r.toArray([]));var s=new p.a;return null!==n&&s.add(n),s.addAll(r),this._factory.buildGeometry(s)},createCoordinateSequence:function(t){return this._factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this._inputGeom},transformMultiLineString:function(t,e){for(var i=new p.a,n=0;n<t.getNumGeometries();n++){var r=this.transformLineString(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||i.add(r))}return this._factory.buildGeometry(i)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var i=new p.a,n=0;n<t.getNumGeometries();n++){var r=this.transformPoint(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||i.add(r))}return this._factory.buildGeometry(i)},transformMultiPolygon:function(t,e){for(var i=new p.a,n=0;n<t.getNumGeometries();n++){var r=this.transformPolygon(t.getGeometryN(n),t);null!==r&&(r.isEmpty()||i.add(r))}return this._factory.buildGeometry(i)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var i=new p.a,n=0;n<t.getNumGeometries();n++){var r=this.transform(t.getGeometryN(n));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||i.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(o.a.toGeometryArray(i)):this._factory.buildGeometry(i)},transform:function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof s.a)return this.transformPoint(t,null);if(t instanceof h.a)return this.transformMultiPoint(t,null);if(t instanceof u.a)return this.transformLinearRing(t,null);if(t instanceof r.a)return this.transformLineString(t,null);if(t instanceof g.a)return this.transformMultiLineString(t,null);if(t instanceof l.a)return this.transformPolygon(t,null);if(t instanceof f.a)return this.transformMultiPolygon(t,null);if(t instanceof d.a)return this.transformGeometryCollection(t,null);throw new a.a("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var i=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===i)return this._factory.createLinearRing(null);var n=i.size();return n>0&&n<4&&!this._preserveType?this._factory.createLineString(i):this._factory.createLinearRing(i)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._monoChains=new u.a,this._index=new o.a,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];f.a.call(this,t)}}function r(){s.a.apply(this),this._si=null;var t=arguments[0];this._si=t}e.a=n;var o=i(77),a=i(65),s=i(227),l=i(0),h=i(132),u=i(1),c=i(3),f=i(229);Object(c.a)(n,f.a),Object(l.a)(n.prototype,{getMonotoneChains:function(){return this._monoChains},getNodedSubstrings:function(){return a.a.getNodedSubstrings(this._nodedSegStrings)},getIndex:function(){return this._index},add:function(t){for(var e=h.a.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var i=e.next();i.setId(this._idCounter++),this._index.insert(i.getEnvelope(),i),this._monoChains.add(i)}},computeNodes:function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new r(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var i=e.next(),n=this._index.query(i.getEnvelope()).iterator();n.hasNext();){var o=n.next();if(o.getId()>i.getId()&&(i.computeOverlaps(o,t),this._nOverlaps++),this._segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return n}}),Object(c.a)(r,s.a),Object(l.a)(r.prototype,{overlap:function(){if(4!==arguments.length)return s.a.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3],r=t.getContext(),o=i.getContext();this._si.processIntersections(r,e,o,n)},interfaces_:function(){return[]},getClass:function(){return r}}),n.SegmentOverlapAction=r},function(t,e,i){function n(){if(0===arguments.length)n.call(this,n.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];L.a.call(this,t)}}function r(){var t=arguments[0];u.a.call(this,t)}e.a=n;var o=i(129),a=i(219),s=i(5),l=i(54),h=i(131),u=i(96),c=i(11),f=i(0),d=i(35),p=i(220),g=i(1),_=i(50),m=i(21),y=i(7),v=i(4),b=i(3),x=i(32),L=i(221),w=i(222);Object(b.a)(n,L.a),Object(f.a)(n.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){v.a.isTrue(t.length>0);for(var i=new g.a,n=0;n<t.length;n++)i.addAll(this.createParentBoundablesFromVerticalSlice(t[n],e));return i},createNode:function(t){return new r(t)},size:function(){return 0===arguments.length?L.a.prototype.size.call(this):L.a.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return L.a.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];if(t.isNull())return null;L.a.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return n.intersectsOp},verticalSlices:function(t,e){for(var i=Math.trunc(Math.ceil(t.size()/e)),n=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){n[o]=new g.a;for(var a=0;r.hasNext()&&a<i;){var s=r.next();n[o].add(s),a++}}return n},query:function(){if(1===arguments.length){var t=arguments[0];return L.a.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],i=arguments[1];L.a.prototype.query.call(this,e,i)}else if(3===arguments.length)if(Object(s.a)(arguments[2],l.a)&&arguments[0]instanceof Object&&arguments[1]instanceof u.a){var n=arguments[0],r=arguments[1],o=arguments[2];L.a.prototype.query.call(this,n,r,o)}else if(Object(s.a)(arguments[2],x.a)&&arguments[0]instanceof Object&&arguments[1]instanceof u.a){var a=arguments[0],h=arguments[1],c=arguments[2];L.a.prototype.query.call(this,a,h,c)}},getComparator:function(){return n.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return L.a.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return L.a.prototype.remove.call(this,t,e)}return L.a.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?L.a.prototype.depth.call(this):L.a.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){v.a.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new g.a(t);d.a.sort(r,n.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,e)},nearestNeighbour:function(){if(1===arguments.length){if(Object(s.a)(arguments[0],w.a)){var t=arguments[0];return b=new p.a(this.getRoot(),this.getRoot(),t),this.nearestNeighbour(b)}if(arguments[0]instanceof p.a){var e=arguments[0];return this.nearestNeighbour(e,c.a.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&Object(s.a)(arguments[1],w.a)){var i=arguments[0],r=arguments[1];return b=new p.a(this.getRoot(),i.getRoot(),r),this.nearestNeighbour(b)}if(arguments[0]instanceof p.a&&"number"==typeof arguments[1]){var l=arguments[0],h=arguments[1],u=null,f=new a.a;for(f.add(l);!f.isEmpty()&&h>0;){var d=f.poll(),g=d.getDistance();if(g>=h)break;d.isLeaves()?(h=g,u=d):d.expandToQueue(f,h)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var _=arguments[0],m=arguments[1],y=arguments[2],v=new o.a(_,m),b=new p.a(this.getRoot(),v,y);return this.nearestNeighbour(b)[0]}},interfaces_:function(){return[h.a,m.a]},getClass:function(){return n}}),n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},Object(b.a)(r,u.a),Object(f.a)(r.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var i=e.next();null===t?t=new y.a(i.getBounds()):t.expandToInclude(i.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return r}}),n.STRtreeNode=r,n.serialVersionUID=0x39920f7d5f261e0,n.xComparator={interfaces_:function(){return[_.a]},compare:function(t,e){return L.a.compareDoubles(n.centreX(t.getBounds()),n.centreX(e.getBounds()))}},n.yComparator={interfaces_:function(){return[_.a]},compare:function(t,e){return L.a.compareDoubles(n.centreY(t.getBounds()),n.centreY(e.getBounds()))}},n.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},n.DEFAULT_NODE_CAPACITY=10},function(t,e,i){function n(){if(p.a.apply(this),this.pts=null,this._env=null,this.eiList=new o.a(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new d.a,this._depthDelta=0,1===arguments.length){var t=arguments[0];n.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.pts=e,this._label=i}}e.a=n;var r=i(33),o=i(245),a=i(247),s=i(17),l=i(2),h=i(0),u=i(26),c=i(7),f=i(3),d=i(249),p=i(136);Object(f.a)(n,p.a),Object(h.a)(n.prototype,{getDepth:function(){return this._depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new n(t,u.a.toLineLabel(this._label))},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this._name=t},equals:function(t){if(!(t instanceof n))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(e.pts[a])||(i=!1),this.pts[a].equals2D(e.pts[--o])||(r=!1),!i&&!r)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},computeIM:function(t){n.updateIM(this._label,t)},isCollapsed:function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this._depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this._mce&&(this._mce=new a.a(this)),this._mce},getEnvelope:function(){if(null===this._env){this._env=new c.a;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},addIntersection:function(t,e,i,n){var r=new l.a(t.getIntersection(n)),o=e,a=t.getEdgeDistance(i,n),s=o+1;if(s<this.pts.length){var h=this.pts[s];r.equals2D(h)&&(o=s,a=0)}this.eiList.add(r,o,a)},toString:function(){var t=new r.a;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this._depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,i){for(var n=0;n<t.getIntersectionNum();n++)this.addIntersection(t,e,i,n)},interfaces_:function(){return[]},getClass:function(){return n}}),n.updateIM=function(){if(2!==arguments.length)return p.a.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,s.a.ON),t.getLocation(1,s.a.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,s.a.LEFT),t.getLocation(1,s.a.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,s.a.RIGHT),t.getLocation(1,s.a.RIGHT),2))}},function(t,e,i){function n(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.init(e,i)}}e.a=n;var r=i(0);Object(r.a)(n.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return!(this.min>i||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof n){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return i>=this.min&&r<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],i=arguments[2];this.p0=t,this.p1=e,this.p2=i}e.a=n;var r=i(2),o=i(6),a=i(0),s=i(105),l=i(58);Object(a.a)(n.prototype,{area:function(){return n.area(this.p0,this.p1,this.p2)},signedArea:function(){return n.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new o.a("Supplied point is null.");return n.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return n.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return n.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return n.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return n.area3D(this.p0,this.p1,this.p2)},centroid:function(){return n.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return n.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return n}}),n.area=function(t,e,i){return Math.abs(((i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y))/2)},n.signedArea=function(t,e,i){return((i.x-t.x)*(e.y-t.y)-(e.x-t.x)*(i.y-t.y))/2},n.det=function(t,e,i,n){return t*n-e*i},n.interpolateZ=function(t,e,i,n){var r=e.x,o=e.y,a=i.x-r,s=n.x-r,l=i.y-o,h=n.y-o,u=a*h-s*l,c=t.x-r,f=t.y-o,d=(h*c-s*f)/u,p=(-l*c+a*f)/u;return e.z+d*(i.z-e.z)+p*(n.z-e.z)},n.longestSideLength=function(t,e,i){var n=t.distance(e),r=e.distance(i),o=i.distance(t),a=n;return r>a&&(a=r),o>a&&(a=o),a},n.isAcute=function(t,e,i){return!!s.a.isAcute(t,e,i)&&!!s.a.isAcute(e,i,t)&&!!s.a.isAcute(i,t,e)},n.circumcentre=function(t,e,i){var o=i.x,a=i.y,s=t.x-o,l=t.y-a,h=e.x-o,u=e.y-a,c=2*n.det(s,l,h,u),f=o-n.det(l,s*s+l*l,u,h*h+u*u)/c,d=a+n.det(s,s*s+l*l,h,h*h+u*u)/c;return new r.a(f,d)},n.perpendicularBisector=function(t,e){var i=e.x-t.x,n=e.y-t.y,r=new l.a(t.x+i/2,t.y+n/2,1),o=new l.a(t.x-n+i/2,t.y+i+n/2,1);return new l.a(r,o)},n.angleBisector=function(t,e,i){var n=e.distance(t),o=n/(n+e.distance(i)),a=i.x-t.x,s=i.y-t.y;return new r.a(t.x+o*a,t.y+o*s)},n.area3D=function(t,e,i){var n=e.x-t.x,r=e.y-t.y,o=e.z-t.z,a=i.x-t.x,s=i.y-t.y,l=i.z-t.z,h=r*l-o*s,u=o*a-n*l,c=n*s-r*a,f=h*h+u*u+c*c;return Math.sqrt(f)/2},n.centroid=function(t,e,i){var n=(t.x+e.x+i.x)/3,o=(t.y+e.y+i.y)/3;return new r.a(n,o)},n.inCentre=function(t,e,i){var n=e.distance(i),o=t.distance(i),a=t.distance(e),s=n+o+a,l=(n*t.x+o*e.x+a*i.x)/s,h=(n*t.y+o*e.y+a*i.y)/s;return new r.a(l,h)}},function(t,e,i){function n(){if(this._quadrantSegments=n.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=n.CAP_ROUND,this._joinStyle=n.JOIN_ROUND,this._mitreLimit=n.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=n.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}}e.a=n;var r=i(0);Object(r.a)(n.prototype,{getEndCapStyle:function(){return this._endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=n.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=n.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==n.JOIN_ROUND&&(this._quadrantSegments=n.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this._joinStyle},setJoinStyle:function(t){this._joinStyle=t},setSimplifyFactor:function(t){this._simplifyFactor=t<0?0:t},getSimplifyFactor:function(){return this._simplifyFactor},getQuadrantSegments:function(){return this._quadrantSegments},setEndCapStyle:function(t){this._endCapStyle=t},getMitreLimit:function(){return this._mitreLimit},setMitreLimit:function(t){this._mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return n}}),n.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},n.CAP_ROUND=1,n.CAP_FLAT=2,n.CAP_SQUARE=3,n.JOIN_ROUND=1,n.JOIN_MITRE=2,n.JOIN_BEVEL=3,n.DEFAULT_QUADRANT_SEGMENTS=8,n.DEFAULT_MITRE_LIMIT=5,n.DEFAULT_SIMPLIFY_FACTOR=.01},function(t,e,i){function n(){this._isMarked=!1,this._isVisited=!1,this._data=null}e.a=n;var r=i(0);Object(r.a)(n.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this._data=t},getData:function(){return this._data},setMarked:function(t){this._isMarked=t},getContext:function(){return this._data},isVisited:function(){return this._isVisited},setContext:function(t){this._data=t},interfaces_:function(){return[]},getClass:function(){return n}}),n.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var i=t.next();if(i.isVisited()===e)return i}return null},n.setVisited=function(t,e){for(;t.hasNext();)t.next().setVisited(e)},n.setMarked=function(t,e){for(;t.hasNext();)t.next().setMarked(e)}},function(t,e,i){function n(){if(h.a.apply(this),this._pt=null,this._deStar=null,1===arguments.length){var t=arguments[0];n.call(this,t,new r.a)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._pt=e,this._deStar=i}}e.a=n;var r=i(309),o=i(46),a=i(0),s=i(70),l=i(3),h=i(82);Object(l.a)(n,h.a),Object(a.a)(n.prototype,{isRemoved:function(){return null===this._pt},addOutEdge:function(t){this._deStar.add(t)},getCoordinate:function(){return this._pt},getOutEdges:function(){return this._deStar},remove:function(){if(0===arguments.length)this._pt=null;else if(1===arguments.length){var t=arguments[0];this._deStar.remove(t)}},getIndex:function(t){return this._deStar.getIndex(t)},getDegree:function(){return this._deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return n}}),n.getEdgesBetween=function(t,e){var i=s.a.toEdges(t.getOutEdges().getEdges()),n=new o.a(i),r=s.a.toEdges(e.getOutEdges().getEdges());return n.retainAll(r),n}},function(t,e,i){function n(){if(s.a.apply(this),this._dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}e.a=n;var r=i(83),o=i(0),a=i(3),s=i(82);Object(a.a)(n,s.a),Object(o.a)(n.prototype,{isRemoved:function(){return null===this._dirEdge},setDirectedEdges:function(t,e){this._dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this._dirEdge[t]}if(arguments[0]instanceof r.a){var e=arguments[0];return this._dirEdge[0].getFromNode()===e?this._dirEdge[0]:this._dirEdge[1].getFromNode()===e?this._dirEdge[1]:null}},remove:function(){this._dirEdge=null},getOppositeNode:function(t){return this._dirEdge[0].getFromNode()===t?this._dirEdge[0].getToNode():this._dirEdge[1].getFromNode()===t?this._dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._p=null,1===arguments.length){var t=arguments[0];this._p=new o.a(t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._p=new o.a(e,i)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],a=arguments[2];this._p=new o.a(n,r,a)}}e.a=n;var r=i(56),o=i(2),a=i(354),s=i(0),l=i(23),h=i(58);Object(s.a)(n.prototype,{circleCenter:function(t,e){var i=new n(this.getX(),this.getY()),o=this.bisector(i,t),a=this.bisector(t,e),s=new h.a(o,a),u=null;try{u=new n(s.getX(),s.getY())}catch(n){if(!(n instanceof r.a))throw n;l.a.err.println("a: "+i+"  b: "+t+"  c: "+e),l.a.err.println(n)}return u},dot:function(t){return this._p.x*t.getX()+this._p.y*t.getY()},magn:function(){return Math.sqrt(this._p.x*this._p.x+this._p.y*this._p.y)},getZ:function(){return this._p.z},bisector:function(t,e){var i=e.getX()-t.getX(),n=e.getY()-t.getY(),r=new h.a(t.getX()+i/2,t.getY()+n/2,1),o=new h.a(t.getX()-n+i/2,t.getY()+i+n/2,1);return new h.a(r,o)},equals:function(){if(1===arguments.length){var t=arguments[0];return this._p.x===t.getX()&&this._p.y===t.getY()}if(2===arguments.length){var e=arguments[0],i=arguments[1];return this._p.distance(e.getCoordinate())<i}},getCoordinate:function(){return this._p},isInCircle:function(t,e,i){return a.a.isInCircleRobust(t._p,e._p,i._p,this._p)},interpolateZValue:function(t,e,i){var n=t.getX(),r=t.getY(),o=e.getX()-n,a=i.getX()-n,s=e.getY()-r,l=i.getY()-r,h=o*l-a*s,u=this.getX()-n,c=this.getY()-r,f=(l*u-a*c)/h,d=(-s*u+o*c)/h;return t.getZ()+f*(e.getZ()-t.getZ())+d*(i.getZ()-t.getZ())},midPoint:function(t){return new n((this._p.x+t.getX())/2,(this._p.y+t.getY())/2,(this._p.z+t.getZ())/2)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t._p.x-this._p.x)*(e._p.y-this._p.y)-(t._p.y-this._p.y)*(e._p.x-this._p.x)>0},getX:function(){return this._p.x},crossProduct:function(t){return this._p.x*t.getY()-this._p.y*t.getX()},setZ:function(t){this._p.z=t},times:function(t){return new n(t*this._p.x,t*this._p.y)},cross:function(){return new n(this._p.y,-this._p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this._p.x+" "+this._p.y+")"},sub:function(t){return new n(this._p.x-t.getX(),this._p.y-t.getY())},getY:function(){return this._p.y},classify:function(t,e){var i=e.sub(t),r=this.sub(t),o=i.crossProduct(r);return o>0?n.LEFT:o<0?n.RIGHT:i.getX()*r.getX()<0||i.getY()*r.getY()<0?n.BEHIND:i.magn()<r.magn()?n.BEYOND:t.equals(this)?n.ORIGIN:e.equals(this)?n.DESTINATION:n.BETWEEN},sum:function(t){return new n(this._p.x+t.getX(),this._p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var i=this.circleCenter(t,e),n=this.distance(i,t),r=this.distance(this,t),o=this.distance(t,e);return o<r&&(r=o),(o=this.distance(e,this))<r&&(r=o),n/r},interfaces_:function(){return[]},getClass:function(){return n}}),n.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2],n=e.distance(i),r=t.distance(e),o=i.z-e.z;return e.z+o*(r/n)}if(4===arguments.length){var a=arguments[0],s=arguments[1],l=arguments[2],h=arguments[3],u=s.x,c=s.y,f=l.x-u,d=h.x-u,p=l.y-c,g=h.y-c,_=f*g-d*p,m=a.x-u,y=a.y-c,v=(g*m-d*y)/_,b=(-p*m+f*y)/_;return s.z+v*(l.z-s.z)+b*(h.z-s.z)}},n.LEFT=0,n.RIGHT=1,n.BEYOND=2,n.BEHIND=3,n.BETWEEN=4,n.ORIGIN=5,n.DESTINATION=6},function(t,e,i){function n(){if(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._componentIndex=t._componentIndex,this._segmentIndex=t._segmentIndex,this._segmentFraction=t._segmentFraction}else if(2===arguments.length){var e=arguments[0],i=arguments[1];n.call(this,0,e,i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this._componentIndex=r,this._segmentIndex=o,this._segmentFraction=a,this.normalize()}else if(4===arguments.length){var s=arguments[0],l=arguments[1],h=arguments[2],u=arguments[3];this._componentIndex=s,this._segmentIndex=l,this._segmentFraction=h,u&&this.normalize()}}e.a=n;var r=i(2),o=i(0),a=i(14),s=i(20);Object(o.a)(n.prototype,{getSegmentIndex:function(){return this._segmentIndex},getComponentIndex:function(){return this._componentIndex},isEndpoint:function(t){var e=t.getGeometryN(this._componentIndex).getNumPoints()-1;return this._segmentIndex>=e||this._segmentIndex===e&&this._segmentFraction>=1},isValid:function(t){if(this._componentIndex<0||this._componentIndex>=t.getNumGeometries())return!1;var e=t.getGeometryN(this._componentIndex);return!(this._segmentIndex<0||this._segmentIndex>e.getNumPoints()||this._segmentIndex===e.getNumPoints()&&0!==this._segmentFraction||this._segmentFraction<0||this._segmentFraction>1)},normalize:function(){this._segmentFraction<0&&(this._segmentFraction=0),this._segmentFraction>1&&(this._segmentFraction=1),this._componentIndex<0&&(this._componentIndex=0,this._segmentIndex=0,this._segmentFraction=0),this._segmentIndex<0&&(this._segmentIndex=0,this._segmentFraction=0),1===this._segmentFraction&&(this._segmentFraction=0,this._segmentIndex+=1)},toLowest:function(t){var e=t.getGeometryN(this._componentIndex).getNumPoints()-1;return this._segmentIndex<e?this:new n(this._componentIndex,e,1,!1)},getCoordinate:function(t){var e=t.getGeometryN(this._componentIndex),i=e.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=e.getNumPoints()-1)return i;var r=e.getCoordinateN(this._segmentIndex+1);return n.pointAlongSegmentByFraction(i,r,this._segmentFraction)},getSegmentFraction:function(){return this._segmentFraction},getSegment:function(t){var e=t.getGeometryN(this._componentIndex),i=e.getCoordinateN(this._segmentIndex);if(this._segmentIndex>=e.getNumPoints()-1){var n=e.getCoordinateN(e.getNumPoints()-2);return new a.a(n,i)}var r=e.getCoordinateN(this._segmentIndex+1);return new a.a(i,r)},clamp:function(t){if(this._componentIndex>=t.getNumGeometries())return this.setToEnd(t),null;if(this._segmentIndex>=t.getNumPoints()){var e=t.getGeometryN(this._componentIndex);this._segmentIndex=e.getNumPoints()-1,this._segmentFraction=1}},setToEnd:function(t){this._componentIndex=t.getNumGeometries()-1;var e=t.getGeometryN(this._componentIndex);this._segmentIndex=e.getNumPoints()-1,this._segmentFraction=1},compareTo:function(t){var e=t;return this._componentIndex<e._componentIndex?-1:this._componentIndex>e._componentIndex?1:this._segmentIndex<e._segmentIndex?-1:this._segmentIndex>e._segmentIndex?1:this._segmentFraction<e._segmentFraction?-1:this._segmentFraction>e._segmentFraction?1:0},clone:function(){return new n(this._componentIndex,this._segmentIndex,this._segmentFraction)},toString:function(){return"LinearLoc["+this._componentIndex+", "+this._segmentIndex+", "+this._segmentFraction+"]"},isOnSameSegment:function(t){return this._componentIndex===t._componentIndex&&(this._segmentIndex===t._segmentIndex||t._segmentIndex-this._segmentIndex==1&&0===t._segmentFraction||this._segmentIndex-t._segmentIndex==1&&0===this._segmentFraction)},snapToVertex:function(t,e){if(this._segmentFraction<=0||this._segmentFraction>=1)return null;var i=this.getSegmentLength(t),n=this._segmentFraction*i,r=i-n;n<=r&&n<e?this._segmentFraction=0:r<=n&&r<e&&(this._segmentFraction=1)},compareLocationValues:function(t,e,i){return this._componentIndex<t?-1:this._componentIndex>t?1:this._segmentIndex<e?-1:this._segmentIndex>e?1:this._segmentFraction<i?-1:this._segmentFraction>i?1:0},getSegmentLength:function(t){var e=t.getGeometryN(this._componentIndex),i=this._segmentIndex;this._segmentIndex>=e.getNumPoints()-1&&(i=e.getNumPoints()-2);var n=e.getCoordinateN(i),r=e.getCoordinateN(i+1);return n.distance(r)},isVertex:function(){return this._segmentFraction<=0||this._segmentFraction>=1},interfaces_:function(){return[s.a]},getClass:function(){return n}}),n.getEndLocation=function(t){var e=new n;return e.setToEnd(t),e},n.pointAlongSegmentByFraction=function(t,e,i){if(i<=0)return t;if(i>=1)return e;var n=(e.x-t.x)*i+t.x,o=(e.y-t.y)*i+t.y,a=(e.z-t.z)*i+t.z;return new r.a(n,o,a)},n.compareLocationValues=function(t,e,i,n,r,o){return t<n?-1:t>n?1:e<r?-1:e>r?1:i<o?-1:i>o?1:0}},function(t,e,i){function n(t){this.message=t||""}e.a=n,(n.prototype=new Error).name="OperationNotSupported"},function(t,e,i){e.a=function(){}},function(t,e,i){function n(){}e.a=n;var r=i(11),o=i(0);Object(o.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.log10=function(t){var e=Math.log(t);return r.a.isInfinite(e)?e:r.a.isNaN(e)?e:e/n.LOG_10},n.min=function(t,e,i,n){var r=t;return e<r&&(r=e),i<r&&(r=i),n<r&&(r=n),r},n.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],i=arguments[2];return t<e?e:t>i?i:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var n=arguments[0],r=arguments[1],o=arguments[2];return n<r?r:n>o?o:n}},n.wrap=function(t,e){return t<0?e- -t%e:t%e},n.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2];return e>(s=t)&&(s=e),i>s&&(s=i),s}if(4===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2],a=arguments[3],s=n;return r>s&&(s=r),o>s&&(s=o),a>s&&(s=a),s}},n.average=function(t,e){return(t+e)/2},n.LOG_10=Math.log(10)},function(t,e,i){function n(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0];n.call(this,t,a.a.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._geom=e,this._geomFact=e.getFactory(),this._bnRule=i}}function r(){this.count=null}e.a=n;var o=i(9),a=i(59),s=i(0),l=i(19),h=i(1),u=i(34),c=i(28);Object(s.a)(n.prototype,{boundaryMultiLineString:function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this._geom instanceof o.a?this.boundaryLineString(this._geom):this._geom instanceof c.a?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},boundaryLineString:function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this._geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new h.a;this._endpointMap=new u.a;for(var i=0;i<t.getNumGeometries();i++){var n=t.getGeometryN(i);0!==n.getNumPoints()&&(this.addEndpoint(n.getCoordinateN(0)),this.addEndpoint(n.getCoordinateN(n.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&e.add(o.getKey())}return l.a.toCoordinateArray(e)},addEndpoint:function(t){var e=this._endpointMap.get(t);null===e&&(e=new r,this._endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return n}}),n.getBoundary=function(){if(1===arguments.length)return(t=new n(arguments[0])).getBoundary();if(2===arguments.length){var t=new n(arguments[0],arguments[1]);return t.getBoundary()}},Object(s.a)(r.prototype,{interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(33),o=i(197),a=i(11),s=i(0),l=i(36);Object(s.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.copyCoord=function(t,e,i,n){for(var r=Math.min(t.getDimension(),i.getDimension()),o=0;o<r;o++)i.setOrdinate(n,o,t.getOrdinate(e,o))},n.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,l.a.X)===t.getOrdinate(e-1,l.a.X)&&t.getOrdinate(0,l.a.Y)===t.getOrdinate(e-1,l.a.Y)},n.isEqual=function(t,e){var i=t.size();if(i!==e.size())return!1;for(var n=Math.min(t.getDimension(),e.getDimension()),r=0;r<i;r++)for(var o=0;o<n;o++){var s=t.getOrdinate(r,o),l=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||a.a.isNaN(s)&&a.a.isNaN(l)))return!1}return!0},n.extend=function(t,e,i){var r=t.create(i,e.getDimension()),o=e.size();if(n.copy(e,0,r,0,o),o>0)for(var a=o;a<i;a++)n.copy(e,o-1,r,a,1);return r},n.reverse=function(t){for(var e=t.size()-1,i=Math.trunc(e/2),r=0;r<=i;r++)n.swap(t,r,e-r)},n.swap=function(t,e,i){if(e===i)return null;for(var n=0;n<t.getDimension();n++){var r=t.getOrdinate(e,n);t.setOrdinate(e,n,t.getOrdinate(i,n)),t.setOrdinate(i,n,r)}},n.copy=function(t,e,i,r,o){for(var a=0;a<o;a++)n.copyCoord(t,e+a,i,r+a)},n.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var i=t.getDimension(),n=new r.a;n.append("(");for(var a=0;a<e;a++){a>0&&n.append(" ");for(var s=0;s<i;s++)s>0&&n.append(","),n.append(o.a.toString(t.getOrdinate(a,s)))}return n.append(")"),n.toString()}},n.ensureValidRing=function(t,e){var i=e.size();return 0===i?e:i<=3?n.createClosedRing(t,e,4):e.getOrdinate(0,l.a.X)===e.getOrdinate(i-1,l.a.X)&&e.getOrdinate(0,l.a.Y)===e.getOrdinate(i-1,l.a.Y)?e:n.createClosedRing(t,e,i+1)},n.createClosedRing=function(t,e,i){var r=t.create(i,e.getDimension()),o=e.size();n.copy(e,0,r,0,o);for(var a=o;a<i;a++)n.copy(e,0,r,a,1);return r}},function(t,e,i){function n(){if(this._factory=null,this._isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._factory=t}}function r(){}function o(){}function a(){}function s(){}e.a=n;var l=i(9),h=i(25),u=i(16),c=i(40),f=i(29),d=i(0),p=i(30),g=i(13),_=i(1),m=i(4),y=i(28);Object(d.a)(n.prototype,{setCopyUserData:function(t){this._isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var i=this.editInternal(t,e);return this._isUserDataCopied&&i.setUserData(t.getUserData()),i},editInternal:function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof g.a?this.editGeometryCollection(t,e):t instanceof u.a?this.editPolygon(t,e):t instanceof h.a?e.edit(t,this._factory):t instanceof l.a?e.edit(t,this._factory):(m.a.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var i=e.edit(t,this._factory),n=new _.a,r=0;r<i.getNumGeometries();r++){var o=this.edit(i.getGeometryN(r),e);null===o||o.isEmpty()||n.add(o)}return i.getClass()===c.a?this._factory.createMultiPoint(n.toArray([])):i.getClass()===y.a?this._factory.createMultiLineString(n.toArray([])):i.getClass()===p.a?this._factory.createMultiPolygon(n.toArray([])):this._factory.createGeometryCollection(n.toArray([]))},editPolygon:function(t,e){var i=e.edit(t,this._factory);if(null===i&&(i=this._factory.createPolygon(null)),i.isEmpty())return i;var n=this.edit(i.getExteriorRing(),e);if(null===n||n.isEmpty())return this._factory.createPolygon();for(var r=new _.a,o=0;o<i.getNumInteriorRing();o++){var a=this.edit(i.getInteriorRingN(o),e);null===a||a.isEmpty()||r.add(a)}return this._factory.createPolygon(n,r.toArray([]))},interfaces_:function(){return[]},getClass:function(){return n}}),n.GeometryEditorOperation=r,Object(d.a)(o.prototype,{edit:function(t,e){return t},interfaces_:function(){return[r]},getClass:function(){return o}}),Object(d.a)(a.prototype,{edit:function(t,e){var i=this.editCoordinates(t.getCoordinates(),t);return null===i?t:t instanceof f.a?e.createLinearRing(i):t instanceof l.a?e.createLineString(i):t instanceof h.a?i.length>0?e.createPoint(i[0]):e.createPoint():t},interfaces_:function(){return[r]},getClass:function(){return a}}),Object(d.a)(s.prototype,{edit:function(t,e){return t instanceof f.a?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof l.a?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof h.a?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[r]},getClass:function(){return s}}),n.NoOpGeometryOperation=o,n.CoordinateOperation=a,n.CoordinateSequenceOperation=s},function(t,e,i){function n(){if(this._geomFactory=null,this._inputPts=null,1===arguments.length){var t=arguments[0];n.call(this,n.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._inputPts=p.a.filterCoordinates(e),this._geomFactory=i}}function r(){this._origin=null;var t=arguments[0];this._origin=t}e.a=n;var o=i(47),a=i(8),s=i(18),l=i(60),h=i(63),u=i(0),c=i(19),f=i(1),d=i(50),p=i(209),g=i(4);Object(u.a)(n.prototype,{preSort:function(t){for(var e=null,i=1;i<t.length;i++)(t[i].y<t[0].y||t[i].y===t[0].y&&t[i].x<t[0].x)&&(e=t[0],t[0]=t[i],t[i]=e);return l.a.sort(t,1,t.length,new r(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),i=new s.a;return i.add(e,!1),i.size()<3?null:(i.closeRing(),i.toCoordinateArray())},lineOrPolygon:function(t){if(3===(t=this.cleanRing(t)).length)return this._geomFactory.createLineString([t[0],t[1]]);var e=this._geomFactory.createLinearRing(t);return this._geomFactory.createPolygon(e,null)},cleanRing:function(t){g.a.equals(t[0],t[t.length-1]);for(var e=new f.a,i=null,n=0;n<=t.length-2;n++){var r=t[n],o=t[n+1];r.equals(o)||null!==i&&this.isBetween(i,r,o)||(e.add(r),i=r)}e.add(t[t.length-1]);var a=new Array(e.size()).fill(null);return e.toArray(a)},isBetween:function(t,e,i){if(0!==a.a.computeOrientation(t,e,i))return!1;if(t.x!==i.x){if(t.x<=e.x&&e.x<=i.x)return!0;if(i.x<=e.x&&e.x<=t.x)return!0}if(t.y!==i.y){if(t.y<=e.y&&e.y<=i.y)return!0;if(i.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var i=new o.a,n=0;n<e.length;n++)i.add(e[n]);for(n=0;n<t.length;n++)a.a.isPointInRing(t[n],e)||i.add(t[n]);var r=c.a.toCoordinateArray(i);return r.length<3?this.padArray3(r):r},getConvexHull:function(){if(0===this._inputPts.length)return this._geomFactory.createGeometryCollection(null);if(1===this._inputPts.length)return this._geomFactory.createPoint(this._inputPts[0]);if(2===this._inputPts.length)return this._geomFactory.createLineString(this._inputPts);var t=this._inputPts;this._inputPts.length>50&&(t=this.reduce(this._inputPts));var e=this.preSort(t),i=this.grahamScan(e),n=this.toCoordinateArray(i);return this.lineOrPolygon(n)},padArray3:function(t){for(var e=new Array(3).fill(null),i=0;i<e.length;i++)i<t.length?e[i]=t[i]:e[i]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),i=0;i<e.length;i++)e[i]=t[0];for(var n=1;n<t.length;n++)t[n].x<e[0].x&&(e[0]=t[n]),t[n].x-t[n].y<e[1].x-e[1].y&&(e[1]=t[n]),t[n].y>e[2].y&&(e[2]=t[n]),t[n].x+t[n].y>e[3].x+e[3].y&&(e[3]=t[n]),t[n].x>e[4].x&&(e[4]=t[n]),t[n].x-t[n].y>e[5].x-e[5].y&&(e[5]=t[n]),t[n].y<e[6].y&&(e[6]=t[n]),t[n].x+t[n].y<e[7].x+e[7].y&&(e[7]=t[n]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),i=0;i<t.size();i++){var n=t.get(i);e[i]=n}return e},grahamScan:function(t){var e=null,i=new h.a;e=i.push(t[0]),e=i.push(t[1]),e=i.push(t[2]);for(var n=3;n<t.length;n++){for(e=i.pop();!i.empty()&&a.a.computeOrientation(i.peek(),e,t[n])>0;)e=i.pop();e=i.push(e),e=i.push(t[n])}return e=i.push(t[0]),i},interfaces_:function(){return[]},getClass:function(){return n}}),n.extractCoordinates=function(t){var e=new p.a;return t.apply(e),e.getCoordinates()},Object(u.a)(r.prototype,{compare:function(t,e){var i=t,n=e;return r.polarCompare(this._origin,i,n)},interfaces_:function(){return[d.a]},getClass:function(){return r}}),r.polarCompare=function(t,e,i){var n=e.x-t.x,r=e.y-t.y,o=i.x-t.x,s=i.y-t.y,l=a.a.computeOrientation(t,e,i);if(l===a.a.COUNTERCLOCKWISE)return 1;if(l===a.a.CLOCKWISE)return-1;var h=n*n+r*r,u=o*o+s*s;return h<u?-1:h>u?1:0},n.RadialComparator=r},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._childBoundables=new a.a,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}}e.a=n;var r=i(130),o=i(0),a=i(1),s=i(21),l=i(4);Object(o.a)(n.prototype,{getLevel:function(){return this._level},size:function(){return this._childBoundables.size()},getChildBoundables:function(){return this._childBoundables},addChildBoundable:function(t){l.a.isTrue(null===this._bounds),this._childBoundables.add(t)},isEmpty:function(){return this._childBoundables.isEmpty()},getBounds:function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},interfaces_:function(){return[r.a,s.a]},getClass:function(){return n}}),n.serialVersionUID=0x5a1e55ec41369800},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{processIntersections:function(t,e,i,n){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this.nodeMap=new h.a,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}e.a=n;var r=i(10),o=i(2),a=i(67),s=i(0),l=i(1),h=i(34);Object(s.a)(n.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof o.a){var t=arguments[0];return null===(i=this.nodeMap.get(t))&&(i=this.nodeFact.createNode(t),this.nodeMap.put(t,i)),i}if(arguments[0]instanceof a.a){var e=arguments[0],i=this.nodeMap.get(e.getCoordinate());return null===i?(this.nodeMap.put(e.getCoordinate(),e),e):(i.mergeLabel(e),i)}},print:function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new l.a,i=this.iterator();i.hasNext();){var n=i.next();n.getLabel().getLocation(t)===r.a.BOUNDARY&&e.add(n)}return e},add:function(t){var e=t.getCoordinate();this.addNode(e).add(t)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],i=arguments[1],r=arguments[2];n.call(this,e,i,r,null)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];n.call(this,o),this.init(a,s),this._label=l}}e.a=n;var r=i(8),o=i(0),a=i(20),s=i(48),l=i(4);Object(o.a)(n.prototype,{compareDirection:function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:r.a.computeOrientation(t._p0,t._p1,this._p1)},getDy:function(){return this._dy},getCoordinate:function(){return this._p0},setNode:function(t){this._node=t},print:function(t){var e=Math.atan2(this._dy,this._dx),i=this.getClass().getName(),n=i.lastIndexOf("."),r=i.substring(n+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this._p1},getDx:function(){return this._dx},getLabel:function(){return this._label},getEdge:function(){return this._edge},getQuadrant:function(){return this._quadrant},getNode:function(){return this._node},toString:function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),i=e.lastIndexOf(".");return"  "+e.substring(i+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},computeLabel:function(t){},init:function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=s.a.quadrant(this._dx,this._dy),l.a.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[a.a]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(67),o=i(0);Object(o.a)(n.prototype,{createNode:function(t){return new r.a(t,null)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){l.a.apply(this)}e.a=n;var r=i(236),o=i(67),a=i(0),s=i(3),l=i(101);Object(s.a)(n,l.a),Object(a.a)(n.prototype,{createNode:function(t){return new o.a(t,new r.a)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._li=new s.a,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new a.a(0,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];n.call(this,e,i,r.a.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var o=arguments[0],l=arguments[1],h=arguments[2];o.getPrecisionModel().compareTo(l.getPrecisionModel())>=0?this.setComputationPrecision(o.getPrecisionModel()):this.setComputationPrecision(l.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new a.a(0,o,h),this._arg[1]=new a.a(1,l,h)}}e.a=n;var r=i(59),o=i(0),a=i(68),s=i(22);Object(o.a)(n.prototype,{getArgGeometry:function(t){return this._arg[t].getGeometry()},setComputationPrecision:function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n,n.exponent=function(t){return function(t,e){var i,n,r,o;if(o||(i=e<0||1/e<0,isFinite(e)||(o={d:32752,c:0,b:0,a:0},i&&(o.d+=32768),n=Math.pow(2,11)-1,r=0)),!o){for(n=1023,r=Math.abs(e);r>=2;)n++,r/=2;for(;r<1&&n>0;)n--,r*=2;n<=0&&(r/=2)}return n}(0,t)-1023},n.powerOf2=function(t){return Math.pow(2,t)}},function(t,e,i){function n(){}e.a=n;var r=i(8),o=i(0);Object(o.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.toDegrees=function(t){return 180*t/Math.PI},n.normalize=function(t){for(;t>Math.PI;)t-=n.PI_TIMES_2;for(;t<=-Math.PI;)t+=n.PI_TIMES_2;return t},n.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],i=arguments[1],n=i.x-e.x,r=i.y-e.y;return Math.atan2(r,n)}},n.isAcute=function(t,e,i){var n=t.x-e.x,r=t.y-e.y;return n*(i.x-e.x)+r*(i.y-e.y)>0},n.isObtuse=function(t,e,i){var n=t.x-e.x,r=t.y-e.y;return n*(i.x-e.x)+r*(i.y-e.y)<0},n.interiorAngle=function(t,e,i){var r=n.angle(e,t),o=n.angle(e,i);return Math.abs(o-r)},n.normalizePositive=function(t){if(t<0){for(;t<0;)t+=n.PI_TIMES_2;t>=n.PI_TIMES_2&&(t=0)}else{for(;t>=n.PI_TIMES_2;)t-=n.PI_TIMES_2;t<0&&(t=0)}return t},n.angleBetween=function(t,e,i){var r=n.angle(e,t),o=n.angle(e,i);return n.diff(r,o)},n.diff=function(t,e){var i=null;return(i=t<e?e-t:t-e)>Math.PI&&(i=2*Math.PI-i),i},n.toRadians=function(t){return t*Math.PI/180},n.getTurn=function(t,e){var i=Math.sin(e-t);return i>0?n.COUNTERCLOCKWISE:i<0?n.CLOCKWISE:n.NONE},n.angleBetweenOriented=function(t,e,i){var r=n.angle(e,t),o=n.angle(e,i)-r;return o<=-Math.PI?o+n.PI_TIMES_2:o>Math.PI?o-n.PI_TIMES_2:o},n.PI_TIMES_2=2*Math.PI,n.PI_OVER_2=Math.PI/2,n.PI_OVER_4=Math.PI/4,n.COUNTERCLOCKWISE=r.a.COUNTERCLOCKWISE,n.CLOCKWISE=r.a.CLOCKWISE,n.NONE=r.a.COLLINEAR},function(t,e,i){function n(){this._parentGeometry=null,this._isSelfTouchingRingFormingHoleValid=!1,this._validErr=null;var t=arguments[0];this._parentGeometry=t}e.a=n;var r=i(47),o=i(9),a=i(8),s=i(12),l=i(318),h=i(2),u=i(25),c=i(16),f=i(40),d=i(29),p=i(11),g=i(0),_=i(145),m=i(68),y=i(30),v=i(159),b=i(13),x=i(323),L=i(22),w=i(324),C=i(4);Object(g.a)(n.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){var t=arguments[0];for(i=0;i<t.length;i++)if(!n.isValid(t[i]))return this._validErr=new w.a(w.a.INVALID_COORDINATE,t[i]),null}else if(arguments[0]instanceof c.a){var e=arguments[0];if(this.checkInvalidCoordinates(e.getExteriorRing().getCoordinates()),null!==this._validErr)return null;for(var i=0;i<e.getNumInteriorRing();i++)if(this.checkInvalidCoordinates(e.getInteriorRingN(i).getCoordinates()),null!==this._validErr)return null}},checkHolesNotNested:function(t,e){for(var i=new x.a(e),n=0;n<t.getNumInteriorRing();n++){var r=t.getInteriorRingN(n);i.add(r)}i.isNonNested()||(this._validErr=new w.a(w.a.NESTED_HOLES,i.getNestedPoint()))},checkConsistentArea:function(t){var e=new v.a(t);if(!e.isNodeConsistentArea())return this._validErr=new w.a(w.a.SELF_INTERSECTION,e.getInvalidPoint()),null;e.hasDuplicateRings()&&(this._validErr=new w.a(w.a.DUPLICATE_RINGS,e.getInvalidPoint()))},isValid:function(){return this.checkValid(this._parentGeometry),null===this._validErr},checkShellInsideHole:function(t,e,i){var r=t.getCoordinates(),o=e.getCoordinates(),s=n.findPtNotNode(r,e,i);if(null!==s&&!a.a.isPointInRing(s,o))return s;var l=n.findPtNotNode(o,t,i);return null!==l?a.a.isPointInRing(l,r)?l:null:(C.a.shouldNeverReachHere("points in shell and hole appear to be equal"),null)},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var i=e.next();if(this.checkNoSelfIntersectingRing(i.getEdgeIntersectionList()),null!==this._validErr)return null}},checkConnectedInteriors:function(t){var e=new l.a(t);e.isInteriorsConnected()||(this._validErr=new w.a(w.a.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new r.a,i=!0,n=t.iterator();n.hasNext();){var o=n.next();if(i)i=!1;else{if(e.contains(o.coord))return this._validErr=new w.a(w.a.RING_SELF_INTERSECTION,o.coord),null;e.add(o.coord)}}},checkHolesInShell:function(t,e){for(var i=t.getExteriorRing(),r=new _.a(i),o=0;o<t.getNumInteriorRing();o++){var a=t.getInteriorRingN(o),s=n.findPtNotNode(a.getCoordinates(),i,e);if(null===s)return null;if(!r.isInside(s))return this._validErr=new w.a(w.a.HOLE_OUTSIDE_SHELL,s),null}},checkTooFewPoints:function(t){if(t.hasTooFewPoints())return this._validErr=new w.a(w.a.TOO_FEW_POINTS,t.getInvalidPoint()),null},getValidationError:function(){return this.checkValid(this._parentGeometry),this._validErr},checkValid:function(){if(arguments[0]instanceof u.a){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof f.a){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof d.a){var i=arguments[0];if(this.checkInvalidCoordinates(i.getCoordinates()),null!==this._validErr)return null;if(this.checkClosedRing(i),null!==this._validErr)return null;if(h=new m.a(0,i),this.checkTooFewPoints(h),null!==this._validErr)return null;var n=new L.a;h.computeSelfNodes(n,!0,!0),this.checkNoSelfIntersectingRings(h)}else if(arguments[0]instanceof o.a){var r=arguments[0];if(this.checkInvalidCoordinates(r.getCoordinates()),null!==this._validErr)return null;h=new m.a(0,r),this.checkTooFewPoints(h)}else if(arguments[0]instanceof c.a){var a=arguments[0];if(this.checkInvalidCoordinates(a),null!==this._validErr)return null;if(this.checkClosedRings(a),null!==this._validErr)return null;if(h=new m.a(0,a),this.checkTooFewPoints(h),null!==this._validErr)return null;if(this.checkConsistentArea(h),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(h),null!==this._validErr))return null;if(this.checkHolesInShell(a,h),null!==this._validErr)return null;if(this.checkHolesNotNested(a,h),null!==this._validErr)return null;this.checkConnectedInteriors(h)}else if(arguments[0]instanceof y.a){var l=arguments[0];for(_=0;_<l.getNumGeometries();_++){if(p=l.getGeometryN(_),this.checkInvalidCoordinates(p),null!==this._validErr)return null;if(this.checkClosedRings(p),null!==this._validErr)return null}var h=new m.a(0,l);if(this.checkTooFewPoints(h),null!==this._validErr)return null;if(this.checkConsistentArea(h),null!==this._validErr)return null;if(!this._isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(h),null!==this._validErr))return null;for(_=0;_<l.getNumGeometries();_++)if(p=l.getGeometryN(_),this.checkHolesInShell(p,h),null!==this._validErr)return null;for(_=0;_<l.getNumGeometries();_++){var p=l.getGeometryN(_);if(this.checkHolesNotNested(p,h),null!==this._validErr)return null}if(this.checkShellsNotNested(l,h),null!==this._validErr)return null;this.checkConnectedInteriors(h)}else if(arguments[0]instanceof b.a)for(var g=arguments[0],_=0;_<g.getNumGeometries();_++){var v=g.getGeometryN(_);if(this.checkValid(v),null!==this._validErr)return null}else if(arguments[0]instanceof s.a){var x=arguments[0];if(this._validErr=null,x.isEmpty())return null;if(x instanceof u.a)this.checkValid(x);else if(x instanceof f.a)this.checkValid(x);else if(x instanceof d.a)this.checkValid(x);else if(x instanceof o.a)this.checkValid(x);else if(x instanceof c.a)this.checkValid(x);else if(x instanceof y.a)this.checkValid(x);else{if(!(x instanceof b.a))throw new UnsupportedOperationException(x.getClass().getName());this.checkValid(x)}}},setSelfTouchingRingFormingHoleValid:function(t){this._isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,i){var r=t.getCoordinates(),o=e.getExteriorRing(),s=o.getCoordinates(),l=n.findPtNotNode(r,o,i);if(null===l)return null;if(!a.a.isPointInRing(l,s))return null;if(e.getNumInteriorRing()<=0)return this._validErr=new w.a(w.a.NESTED_SHELLS,l),null;for(var h=null,u=0;u<e.getNumInteriorRing();u++){var c=e.getInteriorRingN(u);if(null===(h=this.checkShellInsideHole(t,c,i)))return null}this._validErr=new w.a(w.a.NESTED_SHELLS,h)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this._validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this._validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this._validErr=new w.a(w.a.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var i=0;i<t.getNumGeometries();i++)for(var n=t.getGeometryN(i).getExteriorRing(),r=0;r<t.getNumGeometries();r++)if(i!==r){var o=t.getGeometryN(r);if(this.checkShellNotNested(n,o,e),null!==this._validErr)return null}},interfaces_:function(){return[]},getClass:function(){return n}}),n.findPtNotNode=function(t,e,i){for(var n=i.findEdge(e).getEdgeIntersectionList(),r=0;r<t.length;r++){var o=t[r];if(!n.isIntersection(o))return o}return null},n.isValid=function(){if(arguments[0]instanceof s.a)return new n(arguments[0]).isValid();if(arguments[0]instanceof h.a){var t=arguments[0];return!(p.a.isNaN(t.x)||p.a.isInfinite(t.x)||p.a.isNaN(t.y)||p.a.isInfinite(t.y))}}},function(t,e,i){function n(){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null;var t=arguments[0];this._geomFactory=n.extractFactory(t),this._inputGeoms=t}e.a=n;var r=i(0),o=i(1);Object(r.a)(n.prototype,{extractElements:function(t,e){if(null===t)return null;for(var i=0;i<t.getNumGeometries();i++){var n=t.getGeometryN(i);this._skipEmpty&&n.isEmpty()||e.add(n)}},combine:function(){for(var t=new o.a,e=this._inputGeoms.iterator();e.hasNext();){var i=e.next();this.extractElements(i,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return n}}),n.combine=function(){if(1===arguments.length)return(a=new n(arguments[0])).combine();if(2===arguments.length){var t=arguments[0],e=arguments[1];return(a=new n(n.createList(t,e))).combine()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=new n(n.createList(i,r,o));return a.combine()}},n.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},n.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return(a=new o.a).add(t),a.add(e),a}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],a=new o.a;return a.add(i),a.add(n),a.add(r),a}}},function(t,e,i){function n(){this._subdiv=null,this._isUsingTolerance=!1;var t=arguments[0];this._subdiv=t,this._isUsingTolerance=t.getTolerance()>0}e.a=n;var r=i(167),o=i(0);Object(o.a)(n.prototype,{insertSite:function(t){var e=this._subdiv.locate(t);if(this._subdiv.isVertexOfEdge(e,t))return e;this._subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this._subdiv.delete(e.oNext()));var i=this._subdiv.makeEdge(e.orig(),t);r.a.splice(i,e);var n=i;do{e=(i=this._subdiv.connect(e,i.sym())).oPrev()}while(e.lNext()!==n);for(;;){var o=e.oPrev();if(o.dest().rightOf(e)&&t.isInCircle(e.orig(),o.dest(),e.dest()))r.a.swap(e),e=e.oPrev();else{if(e.oNext()===n)return i;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this.insertSite(i)}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._visitedKey=0,this._quadEdges=new L.a,this._startingEdge=null,this._tolerance=null,this._edgeCoincidenceTolerance=null,this._frameVertex=new Array(3).fill(null),this._frameEnv=null,this._locator=null,this._seg=new x.a,this._triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this._tolerance=e,this._edgeCoincidenceTolerance=e/n.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this._startingEdge=this.initSubdiv(),this._locator=new m.a(this)}function r(){}function o(){this._triList=new L.a}function a(){this._triList=new L.a}function s(){this._coordList=new h.a,this._triCoords=new L.a}e.a=n;var l=i(167),h=i(18),u=i(46),c=i(27),f=i(15),d=i(2),p=i(6),g=i(63),_=i(0),m=i(168),y=i(356),v=i(85),b=i(23),x=i(14),L=i(1),w=i(7),C=i(80),I=i(357);Object(_.a)(n.prototype,{getTriangleVertices:function(t){var e=new a;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return!!t.equals(this._frameVertex[0])||!!t.equals(this._frameVertex[1])||!!t.equals(this._frameVertex[2])},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this._tolerance)&&!e.equals(t.dest(),this._tolerance))},connect:function(t,e){var i=l.a.connect(t,e);return this._quadEdges.add(i),i},getVoronoiCellPolygon:function(t,e){var i=new L.a,n=t;do{var r=t.rot().orig().getCoordinate();i.add(r),t=t.oPrev()}while(t!==n);var o=new h.a;o.addAll(i,!1),o.closeRing(),o.size()<4&&(b.a.out.println(o),o.add(o.get(o.size()-1),!0));var a=o.toCoordinateArray(),s=e.createPolygon(e.createLinearRing(a),null),l=n.orig();return s.setUserData(l.getCoordinate()),s},setLocator:function(t){this._locator=t},initSubdiv:function(){var t=this.makeEdge(this._frameVertex[0],this._frameVertex[1]),e=this.makeEdge(this._frameVertex[1],this._frameVertex[2]);l.a.splice(t.sym(),e);var i=this.makeEdge(this._frameVertex[2],this._frameVertex[0]);return l.a.splice(e.sym(),i),l.a.splice(i.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);n.getTriangleEdges(t,e);var i=new Array(3).fill(null);n.getTriangleEdges(t.sym(),i);var r=t.lNext().dest();if(this.isFrameVertex(r))return!0;var o=t.sym().lNext().dest();return!!this.isFrameVertex(o)},makeEdge:function(t,e){var i=l.a.makeEdge(t,e);return this._quadEdges.add(i),i},visitTriangles:function(t,e){this._visitedKey++;var i=new g.a;i.push(this._startingEdge);for(var n=new u.a;!i.empty();){var r=i.pop();if(!n.contains(r)){var o=this.fetchTriangleToVisit(r,i,e,n);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){return this._seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate()),this._seg.distance(e)<this._edgeCoincidenceTolerance},getEnvelope:function(){return new w.a(this._frameEnv)},createFrame:function(t){var e,i=t.getWidth(),n=t.getHeight();e=i>n?10*i:10*n,this._frameVertex[0]=new v.a((t.getMaxX()+t.getMinX())/2,t.getMaxY()+e),this._frameVertex[1]=new v.a(t.getMinX()-e,t.getMinY()-e),this._frameVertex[2]=new v.a(t.getMaxX()+e,t.getMinY()-e),this._frameEnv=new w.a(this._frameVertex[0].getCoordinate(),this._frameVertex[1].getCoordinate()),this._frameEnv.expandToInclude(this._frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new s;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new u.a,i=this._quadEdges.iterator();i.hasNext();){var n=i.next(),r=n.orig();!t&&this.isFrameVertex(r)||e.add(r);var o=n.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,i,n){var r=t,o=0,a=!1;do{this._triEdges[o]=r,this.isFrameEdge(r)&&(a=!0);var s=r.sym();n.contains(s)||e.push(s),n.add(r),o++,r=r.lNext()}while(r!==t);return a&&!i?null:this._triEdges},getEdges:function(){if(0===arguments.length)return this._quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),i=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var o=r.next();i[n++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(i)}},getVertexUniqueEdges:function(t){for(var e=new L.a,i=new u.a,n=this._quadEdges.iterator();n.hasNext();){var r=n.next(),o=r.orig();i.contains(o)||(i.add(o),!t&&this.isFrameVertex(o)||e.add(r));var a=r.sym(),s=a.orig();i.contains(s)||(i.add(s),!t&&this.isFrameVertex(s)||e.add(a))}return e},getTriangleEdges:function(t){var e=new o;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this._visitedKey++;var e=new L.a,i=new g.a;i.push(this._startingEdge);for(var n=new u.a;!i.empty();){var r=i.pop();if(!n.contains(r)){var o=r.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),i.push(r.oNext()),i.push(r.sym().oNext()),n.add(r),n.add(r.sym())}}return e},delete:function(t){l.a.splice(t,t.oPrev()),l.a.splice(t.sym(),t.sym().oPrev());var e=t.sym(),i=t.rot(),n=t.rot().sym();this._quadEdges.remove(t),this._quadEdges.remove(e),this._quadEdges.remove(i),this._quadEdges.remove(n),t.delete(),e.delete(),i.delete(),n.delete()},locateFromEdge:function(t,e){for(var i=0,n=this._quadEdges.size(),r=e;;){if(++i>n)throw new y.a(r.toLineSegment());if(t.equals(r.orig())||t.equals(r.dest()))break;if(t.rightOf(r))r=r.sym();else if(t.rightOf(r.oNext())){if(t.rightOf(r.dPrev()))break;r=r.dPrev()}else r=r.oNext()}return r},getTolerance:function(){return this._tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new r,!0);for(var e=new L.a,i=this.getVertexUniqueEdges(!1).iterator();i.hasNext();){var n=i.next();e.add(this.getVoronoiCellPolygon(n,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(f.a.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),i=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var o=r.next();i[n++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(i)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this._tolerance)||t.equals(e.dest(),this._tolerance))return e;var i=this.makeEdge(e.orig(),t);l.a.splice(i,e);var n=i;do{e=(i=this.connect(e,i.sym())).oPrev()}while(e.lNext()!==n);return n},locate:function(){if(1===arguments.length){if(arguments[0]instanceof v.a){var t=arguments[0];return this._locator.locate(t)}if(arguments[0]instanceof d.a){var e=arguments[0];return this._locator.locate(new v.a(e))}}else if(2===arguments.length){var i=arguments[0],n=arguments[1],r=this._locator.locate(new v.a(i));if(null===r)return null;var o=r;r.dest().getCoordinate().equals2D(i)&&(o=r.sym());var a=o;do{if(a.dest().getCoordinate().equals2D(n))return a;a=a.oNext()}while(a!==o);return null}},interfaces_:function(){return[]},getClass:function(){return n}}),n.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new p.a("Edges do not form a triangle")},Object(_.a)(r.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),i=t[1].orig().getCoordinate(),n=t[2].orig().getCoordinate(),r=C.a.circumcentre(e,i,n),o=new v.a(r),a=0;a<3;a++)t[a].rot().setOrig(o)},interfaces_:function(){return[I.a]},getClass:function(){return r}}),Object(_.a)(o.prototype,{getTriangleEdges:function(){return this._triList},visit:function(t){this._triList.add(t.clone())},interfaces_:function(){return[I.a]},getClass:function(){return o}}),Object(_.a)(a.prototype,{visit:function(t){this._triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this._triList},interfaces_:function(){return[I.a]},getClass:function(){return a}}),Object(_.a)(s.prototype,{checkTriangleSize:function(t){t.length>=2?c.a.toLineString(t[0],t[1]):t.length>=1&&c.a.toPoint(t[0])},visit:function(t){this._coordList.clear();for(var e=0;e<3;e++){var i=t[e].orig();this._coordList.add(i.getCoordinate())}if(this._coordList.size()>0){this._coordList.closeRing();var n=this._coordList.toCoordinateArray();if(4!==n.length)return null;this._triCoords.add(n)}},getTriangles:function(){return this._triCoords},interfaces_:function(){return[I.a]},getClass:function(){return s}}),n.TriangleCircumcentreVisitor=r,n.TriangleEdgesListVisitor=o,n.TriangleVertexListVisitor=a,n.TriangleCoordinatesVisitor=s,n.EDGE_COINCIDENCE_TOL_FACTOR=1e3},function(t,e,i){function n(){this._siteCoords=null,this._tolerance=0,this._subdiv=null}e.a=n;var r=i(18),o=i(12),a=i(60),s=i(5),l=i(24),h=i(108),u=i(109),c=i(0),f=i(85),d=i(19),p=i(1),g=i(7);Object(c.a)(n.prototype,{create:function(){if(null!==this._subdiv)return null;var t=n.envelope(this._siteCoords),e=n.toVertices(this._siteCoords);this._subdiv=new u.a(t,this._tolerance),new h.a(this._subdiv).insertSites(e)},setTolerance:function(t){this._tolerance=t},setSites:function(){if(arguments[0]instanceof o.a){var t=arguments[0];this._siteCoords=n.extractUniqueCoordinates(t)}else if(Object(s.a)(arguments[0],l.a)){var e=arguments[0];this._siteCoords=n.unique(d.a.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this._subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this._subdiv},getTriangles:function(t){return this.create(),this._subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return n}}),n.extractUniqueCoordinates=function(t){if(null===t)return new r.a;var e=t.getCoordinates();return n.unique(e)},n.envelope=function(t){for(var e=new g.a,i=t.iterator();i.hasNext();){var n=i.next();e.expandToInclude(n)}return e},n.unique=function(t){var e=d.a.copyDeep(t);return a.a.sort(e),new r.a(e,!1)},n.toVertices=function(t){for(var e=new p.a,i=t.iterator();i.hasNext();){var n=i.next();e.add(new f.a(n))}return e}},function(t,e,i){function n(t,e){var i,n,r,o,a,s,l,h,u,c,f=0,d="FeatureCollection"===t.type,p="Feature"===t.type,g=d?t.features.length:1;for(i=0;i<g;i++){for(s=d?t.features[i].geometry:p?t.geometry:t,h=d?t.features[i].properties:p?t.properties:{},u=d?t.features[i].bbox:p?t.bbox:void 0,c=d?t.features[i].id:p?t.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,r=0;r<a;r++)if(null!==(o=l?s.geometries[r]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,f,h,u,c);break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)e(o.geometries[n],f,h,u,c);break;default:throw new Error("Unknown Geometry Type")}else e(null,f,h,u,c);f++}}e.a=function t(e,i,n){if(null!==e){var r,o,a,s,l,h,u,c,f,d,p=0,g=0,_=e.type,m="FeatureCollection"===_,y="Feature"===_,v=m?e.features.length:1;for(r=0;r<v;r++)for(u=(d=!!(f=m?e.features[r].geometry:y?e.geometry:e)&&"GeometryCollection"===f.type)?f.geometries.length:1,o=0;o<u;o++){var b=0;if(null!==(h=d?f.geometries[o]:f)){c=h.coordinates;var x=h.type;switch(p=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":i(c,g,r,b),g++,b++;break;case"LineString":case"MultiPoint":for(a=0;a<c.length;a++)i(c[a],g,r,b),g++,"MultiPoint"===x&&b++;"LineString"===x&&b++;break;case"Polygon":case"MultiLineString":for(a=0;a<c.length;a++){for(s=0;s<c[a].length-p;s++)i(c[a][s],g,r,b),g++;"MultiLineString"===x&&b++}"Polygon"===x&&b++;break;case"MultiPolygon":for(a=0;a<c.length;a++){for(s=0;s<c[a].length;s++)for(l=0;l<c[a][s].length-p;l++)i(c[a][s][l],g,r,b),g++;b++}break;case"GeometryCollection":for(a=0;a<h.geometries.length;a++)t(h.geometries[a],i,n);break;default:throw new Error("Unknown Geometry Type")}}}}},e.c=function(t,e,i){var r=i;return n(t,function(t,n,o){r=0===n&&void 0===i?t:e(r,t,n,o)}),r},e.b=function(t,e){n(t,function(t,i,n,o,a){var s,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return void e(Object(r.a)(t,n,o,a),i,0)}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}t.coordinates.forEach(function(t,o){var a={type:s,coordinates:t};e(Object(r.a)(a,n),i,o)})})};var r=i(44)},function(t,e,i){e.a=function(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return function t(e){if(e.length>1&&Object(n.b)(e[0])&&Object(n.b)(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")}(e),e;throw new Error("No valid coordinates")},e.b=function(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")},e.c=function(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")};var n=i(44)},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this.isPolygon()?this._markers.map(this._assignEvents,this):this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_assignEvents:function(t){var e=this;t.forEach(function(t){t.off("drag",e._handleSnapping,e),t.on("drag",e._handleSnapping,e),t.off("dragend",e._cleanupSnapping,e),t.on("dragend",e._cleanupSnapping,e)})},_unsnap:function(){delete this._snapLatLng},_cleanupSnapping:function(){delete this._snapList,this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(function(t){t.remove()})},_handleSnapLayerRemoval:function(t){var e=t.layer,i=this._snapList.findIndex(function(t){return t._leaflet_id===e._leaflet_id});this._snapList.splice(i,1)},_handleSnapping:function(t){if(t.originalEvent.altKey)return!1;if(void 0===this._snapList&&this._createSnapList(t),this._snapList.length<=0)return!1;var e,i=t.target,n=this._calcClosestLayer(i.getLatLng(),this._snapList);e=n.layer instanceof L.Marker||n.layer instanceof L.CircleMarker?n.latlng:this._checkPrioritiySnapping(n);var r=this.options.snapDistance,o={marker:i,snapLatLng:e,segment:n.segment,layer:this._layer,layerInteractedWith:n.layer};if(n.distance<r){i.setLatLng(e),i._snapped=!0;var a=this._snapLatLng||{},s=e||{};a.lat===s.lat&&a.lng===s.lng||(this._snapLatLng=e,i.fire("pm:snap",o),this._layer.fire("pm:snap",o))}else this._snapLatLng&&(this._unsnap(o),i._snapped=!1,o.marker.fire("pm:unsnap",o),this._layer.fire("pm:unsnap",o));return!0},_checkPrioritiySnapping:function(t){var e,i=this._map,n=t.segment[0],r=t.segment[1],o=t.latlng,a=this._getDistance(i,n,o),s=this._getDistance(i,r,o),l=a<s?n:r;return e=(a<s?a:s)<this.options.snapDistance?l:o,Object.assign({},e)},_createSnapList:function(){var t=this,e=[],i=[],n=this._map;n.eachLayer(function(r){if(r instanceof L.Polyline||r instanceof L.Marker||r instanceof L.CircleMarker){e.push(r),n.off("pm:remove",t._handleSnapLayerRemoval,t),n.on("pm:remove",t._handleSnapLayerRemoval,t);var o=L.polyline([],{color:"red",pmIgnore:!0});i.push(o)}}),e=(e=(e=e.filter(function(e){return t._layer!==e})).filter(function(t){return t._latlng||t._latlngs&&t._latlngs.length>0})).filter(function(t){return!t._pmTempLayer}),this._otherSnapLayers?this._snapList=e.concat(this._otherSnapLayers):this._snapList=e,this.debugIndicatorLines=i},_calcClosestLayer:function(t,e){var i=this,n={};return e.forEach(function(e,r){var o=i._calcLayerDistances(t,e);i.debugIndicatorLines[r].setLatLngs([t,o.latlng]),(void 0===n.distance||o.distance<n.distance)&&((n=o).layer=e)}),n},_calcLayerDistances:function(t,e){var i=this,n=this._map,r=e instanceof L.Polygon,o=!(e instanceof L.Polygon)&&e instanceof L.Polyline,a=e instanceof L.Marker||e instanceof L.CircleMarker,s=t,l=void 0;if(r)l=e.getLatLngs()[0];else if(o)l=e.getLatLngs();else if(a)return l=e.getLatLng(),{latlng:Object.assign({},l),distance:this._getDistance(n,l,s)};var h=void 0,u=void 0;l.forEach(function(t,e){var o,a=t;o=r?e+1===l.length?0:e+1:e+1===l.length?void 0:e+1;var c=l[o];if(c){var f=i._getDistanceToSegment(n,s,a,c);(void 0===u||f<u)&&(u=f,h=[a,c])}return!0});var c=this._getClosestPointOnSegment(n,t,h[0],h[1]);return{latlng:Object.assign({},c),segment:h,distance:u}},_getClosestPointOnSegment:function(t,e,i,n){var r=t.getMaxZoom();r===1/0&&(r=t.getZoom());var o=t.project(e,r),a=t.project(i,r),s=t.project(n,r),l=L.LineUtil.closestPointOnSegment(o,a,s);return t.unproject(l,r)},_getDistanceToSegment:function(t,e,i,n){var r=t.latLngToLayerPoint(e),o=t.latLngToLayerPoint(i),a=t.latLngToLayerPoint(n);return L.LineUtil.pointToSegmentDistance(r,o,a)},_getDistance:function(t,e,i){return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(i))}};e.default=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(44);e.default=function(t){var e,i,r={type:"FeatureCollection",features:[]};if("LineString"===(i="Feature"===t.type?t.geometry:t).type)e=[i.coordinates];else if("MultiLineString"===i.type)e=i.coordinates;else if("MultiPolygon"===i.type)e=[].concat.apply([],i.coordinates);else{if("Polygon"!==i.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=i.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var i=0;i<t.length-1;i++)for(var o=i;o<e.length-1;o++){if(t===e){if(1===Math.abs(i-o))continue;if(0===i&&o===t.length-2&&t[i][0]===t[t.length-1][0]&&t[i][1]===t[t.length-1][1])continue}var a=(s=t[i][0],l=t[i][1],h=t[i+1][0],u=t[i+1][1],c=e[o][0],f=e[o][1],d=e[o+1][0],p=e[o+1][1],g=void 0,_=void 0,m=void 0,y=void 0,v=void 0,v={x:null,y:null,onLine1:!1,onLine2:!1},0==(g=(p-f)*(h-s)-(d-c)*(u-l))?null!==v.x&&null!==v.y&&v:(y=(h-s)*(_=l-f)-(u-l)*(m=s-c),_=((d-c)*_-(p-f)*m)/g,m=y/g,v.x=s+_*(h-s),v.y=l+_*(u-l),_>=0&&_<=1&&(v.onLine1=!0),m>=0&&m<=1&&(v.onLine2=!0),!(!v.onLine1||!v.onLine2)&&[v.x,v.y]));a&&r.features.push(Object(n.e)([a[0],a[1]]))}var s,l,h,u,c,f,d,p,g,_,m,y,v})}),r}},function(t,e,i){i(190),i(206),i(260),i(262),i(267),i(268);var n=i(274);i.d(e,"a",function(){return n.a}),i.d(e,"b",function(){return n.b}),i(279);var r=i(280);i.d(e,"c",function(){return r.a}),i(338),i(341),i(348),i(363)},function(t,e,i){function n(){}e.a=n;var r=i(2),o=i(0),a=i(117);Object(o.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.orientationIndex=function(t,e,i){var r=n.orientationIndexFilter(t,e,i);if(r<=1)return r;var o=a.a.valueOf(e.x).selfAdd(-t.x),s=a.a.valueOf(e.y).selfAdd(-t.y),l=a.a.valueOf(i.x).selfAdd(-e.x),h=a.a.valueOf(i.y).selfAdd(-e.y);return o.selfMultiply(h).selfSubtract(s.selfMultiply(l)).signum()},n.signOfDet2x2=function(t,e,i,n){return t.multiply(n).selfSubtract(e.multiply(i)).signum()},n.intersection=function(t,e,i,n){var o=a.a.valueOf(n.y).selfSubtract(i.y).selfMultiply(a.a.valueOf(e.x).selfSubtract(t.x)),s=a.a.valueOf(n.x).selfSubtract(i.x).selfMultiply(a.a.valueOf(e.y).selfSubtract(t.y)),l=o.subtract(s),h=a.a.valueOf(n.x).selfSubtract(i.x).selfMultiply(a.a.valueOf(t.y).selfSubtract(i.y)),u=a.a.valueOf(n.y).selfSubtract(i.y).selfMultiply(a.a.valueOf(t.x).selfSubtract(i.x)),c=h.subtract(u).selfDivide(l).doubleValue(),f=a.a.valueOf(t.x).selfAdd(a.a.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),d=a.a.valueOf(e.x).selfSubtract(t.x).selfMultiply(a.a.valueOf(t.y).selfSubtract(i.y)),p=a.a.valueOf(e.y).selfSubtract(t.y).selfMultiply(a.a.valueOf(t.x).selfSubtract(i.x)),g=d.subtract(p).selfDivide(l).doubleValue(),_=a.a.valueOf(i.y).selfAdd(a.a.valueOf(n.y).selfSubtract(i.y).selfMultiply(g)).doubleValue();return new r.a(f,_)},n.orientationIndexFilter=function(t,e,i){var r=null,o=(t.x-i.x)*(e.y-i.y),a=(t.y-i.y)*(e.x-i.x),s=o-a;if(o>0){if(a<=0)return n.signum(s);r=o+a}else{if(!(o<0))return n.signum(s);if(a>=0)return n.signum(s);r=-o-a}var l=n.DP_SAFE_EPSILON*r;return s>=l||-s>=l?n.signum(s):2},n.signum=function(t){return t>0?1:t<0?-1:0},n.DP_SAFE_EPSILON=1e-15},function(t,e,i){function n(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof n){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var i=arguments[0];n.call(this,n.parse(i))}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}}e.a=n;var r=i(33),o=i(11),a=i(0),s=i(57),l=i(118),h=i(20),u=i(55),c=i(21);Object(a.a)(n.prototype,{le:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo},extractSignificantDigits:function(t,e){var i=this.abs(),o=n.magnitude(i._hi),a=n.TEN.pow(o);(i=i.divide(a)).gt(n.TEN)?(i=i.divide(n.TEN),o+=1):i.lt(n.ONE)&&(i=i.multiply(n.TEN),o-=1);for(var s=o+1,l=new r.a,h=n.MAX_PRINT_DIGITS-1,u=0;u<=h;u++){t&&u===s&&l.append(".");var c=Math.trunc(i._hi);if(c<0)break;var f=!1,d=0;c>9?(f=!0,d="9"):d="0"+c,l.append(d),i=i.subtract(n.valueOf(c)).multiply(n.TEN),f&&i.selfAdd(n.TEN);var p=!0,g=n.magnitude(i._hi);if(g<0&&Math.abs(g)>=h-u&&(p=!1),!p)break}return e[0]=o,l.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this._hi+this._lo},subtract:function(){if(arguments[0]instanceof n){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},isZero:function(){return 0===this._hi&&0===this._lo},selfSubtract:function(){if(arguments[0]instanceof n){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof n){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var i,r,o,a,s=arguments[0],l=arguments[1],h=null,u=null,c=null,f=null;return o=this._hi/s,f=(h=(c=n.SPLIT*o)-(h=c-o))*(u=(f=n.SPLIT*s)-(u=f-s))-(a=o*s)+h*(r=s-u)+(i=o-h)*u+i*r,f=o+(c=(this._hi-a-f+this._lo-o*l)/s),this._hi=f,this._lo=o-f+c,this}},dump:function(){return"DD<"+this._hi+", "+this._lo+">"},divide:function(){if(arguments[0]instanceof n){var t,e,i,r,a=arguments[0],s=null,l=null,h=null,u=null;return t=(i=this._hi/a._hi)-(s=(h=n.SPLIT*i)-(s=h-i)),u=s*(l=(u=n.SPLIT*a._hi)-(l=u-a._hi))-(r=i*a._hi)+s*(e=a._hi-l)+t*l+t*e,new n(u=i+(h=(this._hi-r-u+this._lo-i*a._lo)/a._hi),i-u+h)}if("number"==typeof arguments[0]){var c=arguments[0];return o.a.isNaN(c)?n.createNaN():n.copy(this).selfDivide(c,0)}},ge:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo},pow:function(t){if(0===t)return n.valueOf(1);var e=new n(this),i=n.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&i.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else i=e;return t<0?i.reciprocal():i},ceil:function(){if(this.isNaN())return n.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new n(t,e)},compareTo:function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},rint:function(){return this.isNaN()?this:this.add(.5).floor()},setValue:function(){if(arguments[0]instanceof n){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return n.valueOf(0);if(this.isNegative())return n.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,i=n.valueOf(e),r=this.subtract(i.sqr())._hi*(.5*t);return i.add(r)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof n){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],i=null,r=null,o=null,a=null,s=null,l=null;return a=(o=this._hi+e)-(s=o-this._hi),r=(l=(a=e-s+(this._hi-a))+this._lo)+(o-(i=o+l)),this._hi=i+r,this._lo=r+(i-this._hi),this}}else if(2===arguments.length){var h,u=arguments[0],c=arguments[1],f=(i=null,r=null,null);o=null,a=null,s=null,l=null;o=this._hi+u,h=this._lo+c,a=o-(s=o-this._hi),f=h-(l=h-this._lo);var d=(i=o+(s=(a=u-s+(this._hi-a))+h))+(s=(f=c-l+(this._lo-f))+(r=s+(o-i))),p=s+(i-d);return this._hi=d,this._lo=p,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof n){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var i,r,o=arguments[0],a=arguments[1],s=null,l=null,h=null,u=null;s=(h=n.SPLIT*this._hi)-this._hi,u=n.SPLIT*o,s=h-s,i=this._hi-s,l=u-o;var c=(h=this._hi*o)+(u=s*(l=u-l)-h+s*(r=o-l)+i*l+i*r+(this._hi*a+this._lo*o)),f=u+(s=h-c);return this._hi=c,this._lo=f,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return n.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new n(t,e)},negate:function(){return this.isNaN()?this:new n(-this._hi,-this._lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}},multiply:function(){if(arguments[0]instanceof n){var t=arguments[0];return t.isNaN()?n.createNaN():n.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return o.a.isNaN(e)?n.createNaN():n.copy(this).selfMultiply(e,0)}},isNaN:function(){return o.a.isNaN(this._hi)},intValue:function(){return Math.trunc(this._hi)},toString:function(){var t=n.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),i=this.extractSignificantDigits(!0,e),r=e[0]+1,o=i;if("."===i.charAt(0))o="0"+i;else if(r<0)o="0."+n.stringOfChar("0",-r)+i;else if(-1===i.indexOf(".")){var a=r-i.length;o=i+n.stringOfChar("0",a)+".0"}return this.isNegative()?"-"+o:o},reciprocal:function(){var t,e,i,r,o=null,a=null,s=null,l=null;t=(i=1/this._hi)-(o=(s=n.SPLIT*i)-(o=s-i)),a=(l=n.SPLIT*this._hi)-this._hi;var h=i+(s=(1-(r=i*this._hi)-(l=o*(a=l-a)-r+o*(e=this._hi-a)+t*a+t*e)-i*this._lo)/this._hi);return new n(h,i-h+s)},toSciNotation:function(){if(this.isZero())return n.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),i=this.extractSignificantDigits(!1,e),r=n.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===i.charAt(0))throw new IllegalStateException("Found leading zero: "+i);var o="";i.length>1&&(o=i.substring(1));var a=i.charAt(0)+"."+o;return this.isNegative()?"-"+a+r:a+r},abs:function(){return this.isNaN()?n.NaN:this.isNegative()?this.negate():new n(this)},isPositive:function(){return this._hi>0||0===this._hi&&this._lo>0},lt:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo},add:function(){if(arguments[0]instanceof n){var t=arguments[0];return n.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return n.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof n){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this._hi=i,this._lo=r}},gt:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo},isNegative:function(){return this._hi<0||0===this._hi&&this._lo<0},trunc:function(){return this.isNaN()?n.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},interfaces_:function(){return[c.a,h.a,u.a]},getClass:function(){return n}}),n.sqr=function(t){return n.valueOf(t).selfMultiply(t)},n.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return n.parse(t)}if("number"==typeof arguments[0])return new n(arguments[0])},n.sqrt=function(t){return n.valueOf(t).sqrt()},n.parse=function(t){for(var e=0,i=t.length;l.a.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<i){var o=t.charAt(e);"-"!==o&&"+"!==o||(e++,"-"===o&&(r=!0))}for(var a=new n,h=0,u=0,c=0;!(e>=i);){var f=t.charAt(e);if(e++,l.a.isDigit(f)){var d=f-"0";a.selfMultiply(n.TEN),a.selfAdd(d),h++}else{if("."!==f){if("e"===f||"E"===f){var p=t.substring(e);try{c=s.a.parseInt(p)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+p+" in string "+t):e}break}throw new NumberFormatException("Unexpected character '"+f+"' at position "+e+" in string "+t)}u=h}}var g=a,_=h-u-c;if(0===_)g=a;else if(_>0)m=n.TEN.pow(_),g=a.divide(m);else if(_<0){var m=n.TEN.pow(-_);g=a.multiply(m)}return r?g.negate():g},n.createNaN=function(){return new n(o.a.NaN,o.a.NaN)},n.copy=function(t){return new n(t)},n.magnitude=function(t){var e=Math.abs(t),i=Math.log(e)/Math.log(10),n=Math.trunc(Math.floor(i));return 10*Math.pow(10,n)<=e&&(n+=1),n},n.stringOfChar=function(t,e){for(var i=new r.a,n=0;n<e;n++)i.append(t);return i.toString()},n.PI=new n(3.141592653589793,1.2246467991473532e-16),n.TWO_PI=new n(6.283185307179586,2.4492935982947064e-16),n.PI_2=new n(1.5707963267948966,6.123233995736766e-17),n.E=new n(2.718281828459045,1.4456468917292502e-16),n.NaN=new n(o.a.NaN,o.a.NaN),n.EPS=1.23259516440783e-32,n.SPLIT=134217729,n.MAX_PRINT_DIGITS=32,n.TEN=n.valueOf(10),n.ONE=n.valueOf(1),n.SCI_NOT_EXPONENT_CHAR="E",n.SCI_NOT_ZERO="0.0E0"},function(t,e,i){function n(){}e.a=n,n.isWhitespace=function(t){return t<=32&&t>=0||127==t},n.toUpperCase=function(t){return t.toUpperCase()}},function(t,e,i){function n(t){this.geometryFactory=t||new o.a}e.a=n;var r=i(2),o=i(15),a=i(0),s={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};Object(a.a)(n.prototype,{read:function(t){var e,i,n;t=t.replace(/[\n\r]/g," ");var r=s.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=s.emptyTypeStr.exec(t))[2]=void 0),r&&(i=r[1].toLowerCase(),n=r[2],h[i]&&(e=h[i].apply(this,[n]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!l[e])return null;var i=e.toUpperCase();return t.isEmpty()?i+" EMPTY":i+"("+l[e].apply(this,[t])+")"}});var l={coordinate:function(t){return t.x+" "+t.y},point:function(t){return l.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],i=0,n=t._geometries.length;i<n;++i)e.push("("+l.point.apply(this,[t._geometries[i]])+")");return e.join(",")},linestring:function(t){for(var e=[],i=0,n=t._points._coordinates.length;i<n;++i)e.push(l.coordinate.apply(this,[t._points._coordinates[i]]));return e.join(",")},linearring:function(t){for(var e=[],i=0,n=t._points._coordinates.length;i<n;++i)e.push(l.coordinate.apply(this,[t._points._coordinates[i]]));return e.join(",")},multilinestring:function(t){for(var e=[],i=0,n=t._geometries.length;i<n;++i)e.push("("+l.linestring.apply(this,[t._geometries[i]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+l.linestring.apply(this,[t._shell])+")");for(var i=0,n=t._holes.length;i<n;++i)e.push("("+l.linestring.apply(this,[t._holes[i]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],i=0,n=t._geometries.length;i<n;++i)e.push("("+l.polygon.apply(this,[t._geometries[i]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],i=0,n=t._geometries.length;i<n;++i)e.push(this.extractGeometry(t._geometries[i]));return e.join(",")}},h={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(s.spaces);return this.geometryFactory.createPoint(new r.a(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,i=t.trim().split(","),n=[],r=0,o=i.length;r<o;++r)e=i[r].replace(s.trimParens,"$1"),n.push(h.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(n)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,i=t.trim().split(","),n=[],o=0,a=i.length;o<a;++o)e=i[o].trim().split(s.spaces),n.push(new r.a(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(n)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,i=t.trim().split(","),n=[],o=0,a=i.length;o<a;++o)e=i[o].trim().split(s.spaces),n.push(new r.a(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(n)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,i=t.trim().split(s.parenComma),n=[],r=0,o=i.length;r<o;++r)e=i[r].replace(s.trimParens,"$1"),n.push(h.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(n)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,i,n,r,o=t.trim().split(s.parenComma),a=[],l=0,u=o.length;l<u;++l)e=o[l].replace(s.trimParens,"$1"),i=h.linestring.apply(this,[e]),n=this.geometryFactory.createLinearRing(i._points),0===l?r=n:a.push(n);return this.geometryFactory.createPolygon(r,a)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,i=t.trim().split(s.doubleParenComma),n=[],r=0,o=i.length;r<o;++r)e=i[r].replace(s.trimParens,"$1"),n.push(h.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(n)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),i=[],n=0,r=e.length;n<r;++n)i.push(this.read(e[n]));return this.geometryFactory.createGeometryCollection(i)}}},function(t,e,i){function n(){}e.a=n;var r=i(5),o=i(0),a=i(36);Object(o.a)(n.prototype,{create:function(){1===arguments.length?arguments[0]instanceof Array?arguments[0]:Object(r.a)(arguments[0],a.a)&&arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n,n.prototype.get=function(){},n.prototype.put=function(){},n.prototype.size=function(){},n.prototype.values=function(){},n.prototype.entrySet=function(){}},function(t,e,i){function n(){}e.a=n;var r=i(24);(n.prototype=new r.a).contains=function(){}},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t}e.a=n;var r=i(10),o=i(5),a=i(2),s=i(0),l=i(36),h=i(125);Object(s.a)(n.prototype,{countSegment:function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var i=t.x,n=e.x;return i>n&&(i=e.x,n=t.x),this._p.x>=i&&this._p.x<=n&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,a=e.x-this._p.x,s=e.y-this._p.y,l=h.a.signOfDet2x2(r,o,a,s);if(0===l)return this._isPointOnSegment=!0,null;s<o&&(l=-l),l>0&&this._crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==r.a.EXTERIOR},getLocation:function(){return this._isPointOnSegment?r.a.BOUNDARY:this._crossingCount%2==1?r.a.INTERIOR:r.a.EXTERIOR},isOnSegment:function(){return this._isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return n}}),n.locatePointInRing=function(){if(arguments[0]instanceof a.a&&Object(o.a)(arguments[1],l.a)){for(var t=arguments[0],e=arguments[1],i=new n(t),r=new a.a,s=new a.a,h=1;h<e.size();h++)if(e.getCoordinate(h,r),e.getCoordinate(h-1,s),i.countSegment(r,s),i.isOnSegment())return i.getLocation();return i.getLocation()}if(arguments[0]instanceof a.a&&arguments[1]instanceof Array){var u=arguments[0],c=arguments[1];for(i=new n(u),h=1;h<c.length;h++){r=c[h],s=c[h-1];if(i.countSegment(r,s),i.isOnSegment())return i.getLocation()}return i.getLocation()}}},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.orientationIndex=function(t,e,i){var r=e.x-t.x,o=e.y-t.y,a=i.x-e.x,s=i.y-e.y;return n.signOfDet2x2(r,o,a,s)},n.signOfDet2x2=function(t,e,i,n){var r=null,o=null,a=null;if(r=1,0===t||0===n)return 0===e||0===i?0:e>0?i>0?-r:r:i>0?r:-r;if(0===e||0===i)return n>0?t>0?r:-r:t>0?-r:r;if(0<e?0<n?e<=n||(r=-r,o=t,t=i,i=o,o=e,e=n,n=o):e<=-n?(r=-r,i=-i,n=-n):(o=t,t=-i,i=o,o=e,e=-n,n=o):0<n?-e<=n?(r=-r,t=-t,e=-e):(o=-t,t=i,i=o,o=-e,e=n,n=o):e>=n?(t=-t,e=-e,i=-i,n=-n):(r=-r,o=-t,t=-i,i=o,o=-e,e=-n,n=o),0<t){if(!(0<i))return r;if(!(t<=i))return r}else{if(0<i)return-r;if(!(t>=i))return-r;r=-r,t=-t,i=-i}for(;;){if(i-=(a=Math.floor(i/t))*t,(n-=a*e)<0)return-r;if(n>e)return r;if(t>i+i){if(e<n+n)return r}else{if(e>n+n)return-r;i=t-i,n=e-n,r=-r}if(0===n)return 0===i?0:-r;if(0===i)return r;if(t-=(a=Math.floor(t/i))*i,(e-=a*n)<0)return r;if(e>n)return-r;if(i>t+t){if(n<e+e)return-r}else{if(n>e+e)return r;t=i-t,e=n-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}}},function(t,e,i){function n(){if(this._matrix=null,0===arguments.length)this._matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(l.a.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];n.call(this),this.set(t)}else if(arguments[0]instanceof n){var e=arguments[0];n.call(this),this._matrix[o.a.INTERIOR][o.a.INTERIOR]=e._matrix[o.a.INTERIOR][o.a.INTERIOR],this._matrix[o.a.INTERIOR][o.a.BOUNDARY]=e._matrix[o.a.INTERIOR][o.a.BOUNDARY],this._matrix[o.a.INTERIOR][o.a.EXTERIOR]=e._matrix[o.a.INTERIOR][o.a.EXTERIOR],this._matrix[o.a.BOUNDARY][o.a.INTERIOR]=e._matrix[o.a.BOUNDARY][o.a.INTERIOR],this._matrix[o.a.BOUNDARY][o.a.BOUNDARY]=e._matrix[o.a.BOUNDARY][o.a.BOUNDARY],this._matrix[o.a.BOUNDARY][o.a.EXTERIOR]=e._matrix[o.a.BOUNDARY][o.a.EXTERIOR],this._matrix[o.a.EXTERIOR][o.a.INTERIOR]=e._matrix[o.a.EXTERIOR][o.a.INTERIOR],this._matrix[o.a.EXTERIOR][o.a.BOUNDARY]=e._matrix[o.a.EXTERIOR][o.a.BOUNDARY],this._matrix[o.a.EXTERIOR][o.a.EXTERIOR]=e._matrix[o.a.EXTERIOR][o.a.EXTERIOR]}}e.a=n;var r=i(33),o=i(10),a=i(6),s=i(0),l=i(37),h=i(55);Object(s.a)(n.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){return(n.isTrue(this._matrix[o.a.INTERIOR][o.a.INTERIOR])||n.isTrue(this._matrix[o.a.INTERIOR][o.a.BOUNDARY])||n.isTrue(this._matrix[o.a.BOUNDARY][o.a.INTERIOR])||n.isTrue(this._matrix[o.a.BOUNDARY][o.a.BOUNDARY]))&&this._matrix[o.a.EXTERIOR][o.a.INTERIOR]===l.a.FALSE&&this._matrix[o.a.EXTERIOR][o.a.BOUNDARY]===l.a.FALSE},isCoveredBy:function(){return(n.isTrue(this._matrix[o.a.INTERIOR][o.a.INTERIOR])||n.isTrue(this._matrix[o.a.INTERIOR][o.a.BOUNDARY])||n.isTrue(this._matrix[o.a.BOUNDARY][o.a.INTERIOR])||n.isTrue(this._matrix[o.a.BOUNDARY][o.a.BOUNDARY]))&&this._matrix[o.a.INTERIOR][o.a.EXTERIOR]===l.a.FALSE&&this._matrix[o.a.BOUNDARY][o.a.EXTERIOR]===l.a.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var i=Math.trunc(e/3),n=e%3;this._matrix[i][n]=l.a.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this._matrix[r][o]=a}},isContains:function(){return n.isTrue(this._matrix[o.a.INTERIOR][o.a.INTERIOR])&&this._matrix[o.a.EXTERIOR][o.a.INTERIOR]===l.a.FALSE&&this._matrix[o.a.EXTERIOR][o.a.BOUNDARY]===l.a.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var i=Math.trunc(e/3),n=e%3;this.setAtLeast(i,n,l.a.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2];this._matrix[r][o]<a&&(this._matrix[r][o]=a)}},setAtLeastIfValid:function(t,e,i){t>=0&&e>=0&&this.setAtLeast(t,e,i)},isWithin:function(){return n.isTrue(this._matrix[o.a.INTERIOR][o.a.INTERIOR])&&this._matrix[o.a.INTERIOR][o.a.EXTERIOR]===l.a.FALSE&&this._matrix[o.a.BOUNDARY][o.a.EXTERIOR]===l.a.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):(t===l.a.A&&e===l.a.A||t===l.a.L&&e===l.a.L||t===l.a.L&&e===l.a.A||t===l.a.P&&e===l.a.A||t===l.a.P&&e===l.a.L)&&this._matrix[o.a.INTERIOR][o.a.INTERIOR]===l.a.FALSE&&(n.isTrue(this._matrix[o.a.INTERIOR][o.a.BOUNDARY])||n.isTrue(this._matrix[o.a.BOUNDARY][o.a.INTERIOR])||n.isTrue(this._matrix[o.a.BOUNDARY][o.a.BOUNDARY]))},isOverlaps:function(t,e){return t===l.a.P&&e===l.a.P||t===l.a.A&&e===l.a.A?n.isTrue(this._matrix[o.a.INTERIOR][o.a.INTERIOR])&&n.isTrue(this._matrix[o.a.INTERIOR][o.a.EXTERIOR])&&n.isTrue(this._matrix[o.a.EXTERIOR][o.a.INTERIOR]):t===l.a.L&&e===l.a.L&&1===this._matrix[o.a.INTERIOR][o.a.INTERIOR]&&n.isTrue(this._matrix[o.a.INTERIOR][o.a.EXTERIOR])&&n.isTrue(this._matrix[o.a.EXTERIOR][o.a.INTERIOR])},isEquals:function(t,e){return t===e&&n.isTrue(this._matrix[o.a.INTERIOR][o.a.INTERIOR])&&this._matrix[o.a.INTERIOR][o.a.EXTERIOR]===l.a.FALSE&&this._matrix[o.a.BOUNDARY][o.a.EXTERIOR]===l.a.FALSE&&this._matrix[o.a.EXTERIOR][o.a.INTERIOR]===l.a.FALSE&&this._matrix[o.a.EXTERIOR][o.a.BOUNDARY]===l.a.FALSE},toString:function(){for(var t=new r.a("123456789"),e=0;e<3;e++)for(var i=0;i<3;i++)t.setCharAt(3*e+i,l.a.toDimensionSymbol(this._matrix[e][i]));return t.toString()},setAll:function(t){for(var e=0;e<3;e++)for(var i=0;i<3;i++)this._matrix[e][i]=t},get:function(t,e){return this._matrix[t][e]},transpose:function(){var t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new a.a("Should be length 9: "+t);for(var e=0;e<3;e++)for(var i=0;i<3;i++)if(!n.matches(this._matrix[e][i],t.charAt(3*e+i)))return!1;return!0},add:function(t){for(var e=0;e<3;e++)for(var i=0;i<3;i++)this.setAtLeast(e,i,t.get(e,i))},isDisjoint:function(){return this._matrix[o.a.INTERIOR][o.a.INTERIOR]===l.a.FALSE&&this._matrix[o.a.INTERIOR][o.a.BOUNDARY]===l.a.FALSE&&this._matrix[o.a.BOUNDARY][o.a.INTERIOR]===l.a.FALSE&&this._matrix[o.a.BOUNDARY][o.a.BOUNDARY]===l.a.FALSE},isCrosses:function(t,e){return t===l.a.P&&e===l.a.L||t===l.a.P&&e===l.a.A||t===l.a.L&&e===l.a.A?n.isTrue(this._matrix[o.a.INTERIOR][o.a.INTERIOR])&&n.isTrue(this._matrix[o.a.INTERIOR][o.a.EXTERIOR]):t===l.a.L&&e===l.a.P||t===l.a.A&&e===l.a.P||t===l.a.A&&e===l.a.L?n.isTrue(this._matrix[o.a.INTERIOR][o.a.INTERIOR])&&n.isTrue(this._matrix[o.a.EXTERIOR][o.a.INTERIOR]):t===l.a.L&&e===l.a.L&&0===this._matrix[o.a.INTERIOR][o.a.INTERIOR]},interfaces_:function(){return[h.a]},getClass:function(){return n}}),n.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===l.a.SYM_DONTCARE||e===l.a.SYM_TRUE&&(t>=0||t===l.a.TRUE)||e===l.a.SYM_FALSE&&t===l.a.FALSE||e===l.a.SYM_P&&t===l.a.P||e===l.a.SYM_L&&t===l.a.L||e===l.a.SYM_A&&t===l.a.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var i=arguments[0],r=arguments[1];return new n(i).matches(r)}},n.isTrue=function(t){return t>=0||t===l.a.TRUE}},function(t,e,i){function n(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}e.a=n;var r=i(51),o=i(72),a=i(0),s=i(13);Object(a.a)(n.prototype,{next:function(){if(this._atStart)return this._atStart=!1,n.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new o.a;var t=this._parent.getGeometryN(this._index++);return t instanceof s.a?(this._subcollectionIterator=new n(t),this._subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},interfaces_:function(){return[r.a]},getClass:function(){return n}}),n.isAtomic=function(t){return!(t instanceof s.a)}},function(t,e,i){function n(){}e.a=n;var r=i(2),o=i(6),a=i(0);Object(a.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new o.a("Cannot compute the octant for point ( "+t+", "+e+" )");var i=Math.abs(t),a=Math.abs(e);return t>=0?e>=0?i>=a?0:1:i>=a?7:6:e>=0?i>=a?3:2:i>=a?4:5}if(arguments[0]instanceof r.a&&arguments[1]instanceof r.a){var s=arguments[0],l=arguments[1],h=l.x-s.x,u=l.y-s.y;if(0===h&&0===u)throw new o.a("Cannot compute the octant for two identical points "+s);return n.octant(h,u)}}},function(t,e,i){function n(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e}e.a=n;var r=i(130),o=i(0),a=i(21);Object(o.a)(n.prototype,{getItem:function(){return this._item},getBounds:function(){return this._bounds},interfaces_:function(){return[r.a,a.a]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){1===arguments.length?arguments[0]:2===arguments.length&&(arguments[0],arguments[1])},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(228),o=i(0),a=i(57),s=i(1),l=i(48);Object(o.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.getChainStartIndices=function(t){var e=0,i=new s.a;i.add(new a.a(e));do{var r=n.findChainEnd(t,e);i.add(new a.a(r)),e=r}while(e<t.length-1);return n.toIntArray(i)},n.findChainEnd=function(t,e){for(var i=e;i<t.length-1&&t[i].equals2D(t[i+1]);)i++;if(i>=t.length-1)return t.length-1;for(var n=l.a.quadrant(t[i],t[i+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||l.a.quadrant(t[r-1],t[r])===n);)r++;return r-1},n.getChains=function(){if(1===arguments.length){var t=arguments[0];return n.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],i=arguments[1],o=new s.a,a=n.getChainStartIndices(e),l=0;l<a.length-1;l++){var h=new r.a(e,a[l],a[l+1],i);o.add(h)}return o}},n.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),i=0;i<e.length;i++)e[i]=t.get(i).intValue();return e}},function(t,e,i){function n(){this._geometryFactory=null,this._shellList=new l.a;var t=arguments[0];this._geometryFactory=t}e.a=n;var r=i(8),o=i(42),a=i(0),s=i(134),l=i(1),h=i(4),u=i(66);Object(a.a)(n.prototype,{sortShellsAndHoles:function(t,e,i){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()?i.add(r):e.add(r)}},computePolygons:function(t){for(var e=new l.a,i=t.iterator();i.hasNext();){var n=i.next().toPolygon(this._geometryFactory);e.add(n)}return e},placeFreeHoles:function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next();if(null===n.getShell()){var r=this.findEdgeRingContaining(n,t);if(null===r)throw new o.a("unable to assign hole to a shell",n.getCoordinate(0));n.setShell(r)}}},buildMinimalEdgeRings:function(t,e,i){for(var n=new l.a,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),e.add(s)):i.addAll(a)}else n.add(o)}return n},containsPoint:function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},buildMaximalEdgeRings:function(t){for(var e=new l.a,i=t.iterator();i.hasNext();){var n=i.next();if(n.isInResult()&&n.getLabel().isArea()&&null===n.getEdgeRing()){var r=new s.a(n,this._geometryFactory);e.add(r),r.setInResult()}}return e},placePolygonHoles:function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next();n.isHole()&&n.setShell(t)}},getPolygons:function(){return this.computePolygons(this._shellList)},findEdgeRingContaining:function(t,e){for(var i=t.getLinearRing(),n=i.getEnvelopeInternal(),o=i.getCoordinateN(0),a=null,s=null,l=e.iterator();l.hasNext();){var h=l.next(),u=h.getLinearRing(),c=u.getEnvelopeInternal();null!==a&&(s=a.getLinearRing().getEnvelopeInternal());var f=!1;c.contains(n)&&r.a.isPointInRing(o,u.getCoordinates())&&(f=!0),f&&(null===a||s.contains(c))&&(a=h)}return a},findShell:function(t){for(var e=0,i=null,n=t.iterator();n.hasNext();){var r=n.next();r.isHole()||(i=r,e++)}return h.a.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),i},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],i=arguments[1];u.a.linkResultDirectedEdges(i);var n=this.buildMaximalEdgeRings(e),r=new l.a,o=this.buildMinimalEdgeRings(n,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){var t=arguments[0],e=arguments[1];a.a.call(this,t,e)}e.a=n;var r=i(232),o=i(0),a=i(135),s=i(1),l=i(3);Object(l.a)(n,a.a),Object(o.a)(n.prototype,{buildMinimalRings:function(){var t=new s.a,e=this._startDe;do{if(null===e.getMinEdgeRing()){var i=new r.a(e,this._geometryFactory);t.add(i)}e=e.getNext()}while(e!==this._startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new u.a,this._pts=new u.a,this._label=new h.a(r.a.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new u.a,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()}e.a=n;var r=i(10),o=i(8),a=i(17),s=i(42),l=i(0),h=i(26),u=i(1),c=i(4);Object(l.a)(n.prototype,{computeRing:function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=o.a.isCCW(this._ring.getCoordinates())},isIsolated:function(){return 1===this._label.getGeometryCount()},computePoints:function(t){this._startDe=t;var e=t,i=!0;do{if(null===e)throw new s.a("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new s.a("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var n=e.getLabel();c.a.isTrue(n.isArea()),this.mergeLabel(n),this.addPoints(e.getEdge(),e.isForward(),i),i=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},getLinearRing:function(){return this._ring},getCoordinate:function(t){return this._pts.get(t)},computeMaxNodeDegree:function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},addPoints:function(t,e,i){var n=t.getCoordinates();if(e)for(r=1,i&&(r=0),o=r;o<n.length;o++)this._pts.add(n[o]);else{var r=n.length-2;i&&(r=n.length-1);for(var o=r;o>=0;o--)this._pts.add(n[o])}},isHole:function(){return this._isHole},setInResult:function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},containsPoint:function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!o.a.isPointInRing(t,e.getCoordinates()))return!1;for(var i=this._holes.iterator();i.hasNext();)if(i.next().containsPoint(t))return!1;return!0},addHole:function(t){this._holes.add(t)},isShell:function(){return null===this._shell},getLabel:function(){return this._label},getEdges:function(){return this._edges},getMaxNodeDegree:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},getShell:function(){return this._shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],n=e.getLocation(i,a.a.RIGHT);if(n===r.a.NONE)return null;if(this._label.getLocation(i)===r.a.NONE)return this._label.setLocation(i,n),null}},setShell:function(t){this._shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this._holes.size()).fill(null),i=0;i<this._holes.size();i++)e[i]=this._holes.get(i).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}}e.a=n;var r=i(0),o=i(4);Object(r.a)(n.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this._label=t},getLabel:function(){return this._label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){o.a.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(o.a.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var i=t.getNumPoints()-1;this.init(t.getCoordinate(i),t.getCoordinate(i-1))}this.computeDirectedLabel()}e.a=n;var r=i(10),o=i(100),a=i(17),s=i(42),l=i(0),h=i(26),u=i(3);Object(u.a)(n,o.a),Object(l.a)(n.prototype,{getNextMin:function(){return this._nextMin},getDepth:function(t){return this._depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this._label=new h.a(this._edge.getLabel()),this._isForward||this._label.flip()},getNext:function(){return this._next},setDepth:function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new s.a("assigned depths do not match",this.getCoordinate());this._depth[t]=e},isInteriorAreaEdge:function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,a.a.LEFT)===r.a.INTERIOR&&this._label.getLocation(e,a.a.RIGHT)===r.a.INTERIOR||(t=!1);return t},setNextMin:function(t){this._nextMin=t},print:function(t){o.a.prototype.print.call(this,t),t.print(" "+this._depth[a.a.LEFT]+"/"+this._depth[a.a.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this._minEdgeRing=t},isLineEdge:function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,r.a.EXTERIOR),i=!this._label.isArea(1)||this._label.allPositionsEqual(1,r.a.EXTERIOR);return t&&e&&i},setEdgeRing:function(t){this._edgeRing=t},getMinEdgeRing:function(){return this._minEdgeRing},getDepthDelta:function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this._sym},isForward:function(){return this._isForward},getEdge:function(){return this._edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},setSym:function(t){this._sym=t},setVisitedEdge:function(t){this.setVisited(t),this._sym.setVisited(t)},setEdgeDepths:function(t,e){var i=this.getEdge().getDepthDelta();this._isForward||(i=-i);var n=1;t===a.a.LEFT&&(n=-1);var r=a.a.opposite(t),o=e+i*n;this.setDepth(t,e),this.setDepth(r,o)},getEdgeRing:function(){return this._edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this._next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return n}}),n.depthFactor=function(t,e){return t===r.a.EXTERIOR&&e===r.a.INTERIOR?1:t===r.a.INTERIOR&&e===r.a.EXTERIOR?-1:0}},function(t,e,i){function n(){this._edgeMap=new d.a,this._edgeList=null,this._ptInAreaLocation=[o.a.NONE,o.a.NONE]}e.a=n;var r=i(33),o=i(10),a=i(17),s=i(42),l=i(0),h=i(23),u=i(139),c=i(1),f=i(4),d=i(34);Object(l.a)(n.prototype,{getNextCW:function(t){this.getEdges();var e=this._edgeList.indexOf(t),i=e-1;return 0===e&&(i=this._edgeList.size()-1),this._edgeList.get(i)},propagateSideLabels:function(t){for(var e=o.a.NONE,i=this.iterator();i.hasNext();)(l=(r=i.next()).getLabel()).isArea(t)&&l.getLocation(t,a.a.LEFT)!==o.a.NONE&&(e=l.getLocation(t,a.a.LEFT));if(e===o.a.NONE)return null;var n=e;for(i=this.iterator();i.hasNext();){var r=i.next(),l=r.getLabel();if(l.getLocation(t,a.a.ON)===o.a.NONE&&l.setLocation(t,a.a.ON,n),l.isArea(t)){var h=l.getLocation(t,a.a.LEFT),u=l.getLocation(t,a.a.RIGHT);if(u!==o.a.NONE){if(u!==n)throw new s.a("side location conflict",r.getCoordinate());h===o.a.NONE&&f.a.shouldNeverReachHere("found single null side (at "+r.getCoordinate()+")"),n=h}else f.a.isTrue(l.getLocation(t,a.a.LEFT)===o.a.NONE,"found single null side"),l.setLocation(t,a.a.RIGHT,n),l.setLocation(t,a.a.LEFT,n)}}},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},print:function(t){h.a.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var i=e.size()-1,n=e.get(i).getLabel().getLocation(t,a.a.LEFT);f.a.isTrue(n!==o.a.NONE,"Found unlabelled area edge");for(var r=n,s=this.iterator();s.hasNext();){var l=s.next().getLabel();f.a.isTrue(l.isArea(t),"Found non-area edge");var h=l.getLocation(t,a.a.LEFT),u=l.getLocation(t,a.a.RIGHT);if(h===u)return!1;if(u!==r)return!1;r=h}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this._edgeList&&(this._edgeList=new c.a(this._edgeMap.values())),this._edgeList},getLocation:function(t,e,i){return this._ptInAreaLocation[t]===o.a.NONE&&(this._ptInAreaLocation[t]=u.a.locate(e,i[t].getGeometry())),this._ptInAreaLocation[t]},toString:function(){var t=new r.a;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var i=e.next();t.append(i),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],i=this.iterator();i.hasNext();)for(var n=(a=i.next()).getLabel(),r=0;r<2;r++)n.isLine(r)&&n.getLocation(r)===o.a.BOUNDARY&&(e[r]=!0);for(i=this.iterator();i.hasNext();){var a=i.next();for(n=a.getLabel(),r=0;r<2;r++)if(n.isAnyNull(r)){var s=o.a.NONE;if(e[r])s=o.a.EXTERIOR;else{var l=a.getCoordinate();s=this.getLocation(r,l,t)}n.setAllLocationsIfNull(r,s)}}},getDegree:function(){return this._edgeMap.size()},insertEdgeEnd:function(t,e){this._edgeMap.put(t,e),this._edgeList=null},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._geom=null;var t=arguments[0];this._geom=t}e.a=n;var r=i(10),o=i(8),a=i(16),s=i(140),l=i(0),h=i(127),u=i(13);Object(l.a)(n.prototype,{locate:function(t){return n.locate(t,this._geom)},interfaces_:function(){return[s.a]},getClass:function(){return n}}),n.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&o.a.isPointInRing(t,e.getCoordinates())},n.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var i=e.getExteriorRing();if(!n.isPointInRing(t,i))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r);if(n.isPointInRing(t,o))return!1}return!0},n.containsPoint=function(t,e){if(e instanceof a.a)return n.containsPointInPolygon(t,e);if(e instanceof u.a)for(var i=new h.a(e);i.hasNext();){var r=i.next();if(r!==e&&n.containsPoint(t,r))return!0}return!1},n.locate=function(t,e){return e.isEmpty()?r.a.EXTERIOR:n.containsPoint(t,e)?r.a.INTERIOR:r.a.EXTERIOR}},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],i=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=i}e.a=n;var r=i(0);Object(r.a)(n.prototype,{isTrivialIntersection:function(t,e,i,r){if(t===i&&1===this._li.getIntersectionNum()){if(n.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var o=t.getNumPoints()-1;if(0===e&&r===o||0===r&&e===o)return!0}}return!1},getProperIntersectionPoint:function(){return this._properIntersectionPoint},setIsDoneIfProperInt:function(t){this._isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this._hasProperInterior},isBoundaryPointInternal:function(t,e){for(var i=e.iterator();i.hasNext();){var n=i.next().getCoordinate();if(t.isIntersection(n))return!0}return!1},hasProperIntersection:function(){return this._hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},setBoundaryNodes:function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},addIntersections:function(t,e,i,n){if(t===i&&e===n)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=i.getCoordinates()[n],s=i.getCoordinates()[n+1];this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),i.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,i,n)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),i.addIntersections(this._li,n,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return n}}),n.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)}},function(t,e,i){function n(){this._min=s.a.POSITIVE_INFINITY,this._max=s.a.NEGATIVE_INFINITY}function r(){}e.a=n;var o=i(27),a=i(2),s=i(11),l=i(0),h=i(50);Object(l.a)(n.prototype,{getMin:function(){return this._min},intersects:function(t,e){return!(this._min>e||this._max<t)},getMax:function(){return this._max},toString:function(){return o.a.toLineString(new a.a(this._min,0),new a.a(this._max,0))},interfaces_:function(){return[]},getClass:function(){return n}}),Object(l.a)(r.prototype,{compare:function(t,e){var i=t,n=e,r=(i._min+i._max)/2,o=(n._min+n._max)/2;return r<o?-1:r>o?1:0},interfaces_:function(){return[h.a]},getClass:function(){return r}}),n.NodeComparator=r},function(t,e,i){function n(){this._items=new a.a}e.a=n;var r=i(54),o=i(0),a=i(1);Object(o.a)(n.prototype,{visitItem:function(t){this._items.add(t)},getItems:function(){return this._items},interfaces_:function(){return[r.a]},getClass:function(){return n}})},function(t,e,i){function n(){this._edges=new a.a,this._ocaMap=new s.a}e.a=n;var r=i(250),o=i(0),a=i(1),s=i(34);Object(o.a)(n.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var i=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var n=i.getCoordinates(),r=0;r<n.length;r++)r>0&&t.print(","),t.print(n[r].x+" "+n[r].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},iterator:function(){return this._edges.iterator()},getEdges:function(){return this._edges},get:function(t){return this._edges.get(t)},findEqualEdge:function(t){var e=new r.a(t.getCoordinates());return this._ocaMap.get(e)},add:function(t){this._edges.add(t);var e=new r.a(t.getCoordinates());this._ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._ring=null,this._tree=null,this._crossings=0,this._interval=new s.a;var t=arguments[0];this._ring=t,this.buildIndex()}function r(){o.a.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}e.a=n;var o=i(146),a=i(253),s=i(79),l=i(11),h=i(0),u=i(132),c=i(19),f=i(125),d=i(7),p=i(3),g=i(257);Object(h.a)(n.prototype,{testLineSegment:function(t,e){var i,n,r,o,a=e.p0,s=e.p1;i=a.x-t.x,n=a.y-t.y,r=s.x-t.x,o=s.y-t.y,(n>0&&o<=0||o>0&&n<=0)&&0<f.a.signOfDet2x2(i,n,r,o)/(o-n)&&this._crossings++},buildIndex:function(){this._tree=new a.a;for(var t=c.a.removeRepeatedPoints(this._ring.getCoordinates()),e=u.a.getChains(t),i=0;i<e.size();i++){var n=e.get(i),r=n.getEnvelope();this._interval.min=r.getMinY(),this._interval.max=r.getMaxY(),this._tree.insert(this._interval,n)}},testMonotoneChain:function(t,e,i){i.select(t,e)},isInside:function(t){this._crossings=0;var e=new d.a(l.a.NEGATIVE_INFINITY,l.a.POSITIVE_INFINITY,t.y,t.y);this._interval.min=t.y,this._interval.max=t.y;for(var i=this._tree.query(this._interval),n=new r(this,t),o=i.iterator();o.hasNext();){var a=o.next();this.testMonotoneChain(e,n,a)}return this._crossings%2==1},interfaces_:function(){return[g.a]},getClass:function(){return n}}),Object(p.a)(r,o.a),Object(h.a)(r.prototype,{select:function(){if(1!==arguments.length)return o.a.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return r}}),n.MCSelecter=r},function(t,e,i){function n(){this.tempEnv1=new a.a,this.selectedSegment=new o.a}e.a=n;var r=i(0),o=i(14),a=i(7);Object(r.a)(n.prototype,{select:function(){if(1===arguments.length)arguments[0];else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._items=new o.a,this._subnode=[null,null]}e.a=n;var r=i(0),o=i(1);Object(r.a)(n.prototype,{hasChildren:function(){for(var t=0;t<2;t++)if(null!==this._subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this._items);for(var e=0;e<2;e++)null!==this._subnode[e]&&this._subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;e<2;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+this._items.size()},addAllItemsFromOverlapping:function(t,e){if(null!==t&&!this.isSearchMatch(t))return null;e.addAll(this._items),null!==this._subnode[0]&&this._subnode[0].addAllItemsFromOverlapping(t,e),null!==this._subnode[1]&&this._subnode[1].addAllItemsFromOverlapping(t,e)},hasItems:function(){return!this._items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var i=!1,n=0;n<2;n++)if(null!==this._subnode[n]&&(i=this._subnode[n].remove(t,e))){this._subnode[n].isPrunable()&&(this._subnode[n]=null);break}return i||this._items.remove(e)},getItems:function(){return this._items},depth:function(){for(var t=0,e=0;e<2;e++)if(null!==this._subnode[e]){var i=this._subnode[e].depth();i>t&&(t=i)}return t+1},nodeSize:function(){for(var t=0,e=0;e<2;e++)null!==this._subnode[e]&&(t+=this._subnode[e].nodeSize());return t+1},add:function(t){this._items.add(t)},interfaces_:function(){return[]},getClass:function(){return n}}),n.getSubnodeIndex=function(t,e){var i=-1;return t.min>=e&&(i=1),t.max<=e&&(i=0),i}},function(t,e,i){function n(){}e.a=n;var r=i(0),o=i(104);Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.isZeroWidth=function(t,e){var i=e-t;if(0===i)return!0;var r=i/Math.max(Math.abs(t),Math.abs(e));return o.a.exponent(r)<=n.MIN_BINARY_EXPONENT},n.MIN_BINARY_EXPONENT=-50},function(t,e,i){function n(){this._isMarked=!1;var t=arguments[0];o.a.call(this,t)}e.a=n;var r=i(0),o=i(150),a=i(3);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return n}}),n.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},n.isMarked=function(t){return t.isMarked()},n.setMark=function(t,e){t.setMark(e)},n.markBoth=function(t){t.mark(),t.sym().mark()},n.mark=function(t){t.mark()}},function(t,e,i){function n(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}e.a=n;var r=i(8),o=i(0),a=i(48),s=i(4);Object(o.a)(n.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),i=this;do{var n=i.oNext();if(n.compareTo(t)!==e||n===this)return i.insertAfter(t),null;i=n}while(i!==this);s.a.shouldNeverReachHere()},insertAfter:function(t){s.a.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),i=this.deltaY(),n=t.deltaX(),o=t.deltaY();if(e===n&&i===o)return 0;var s=a.a.quadrant(e,i),l=a.a.quadrant(n,o);return s>l?1:s<l?-1:r.a.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if((t=t.prev())===this)return null;return t},compareTo:function(t){var e=t;return this.compareAngularDirection(e)},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return n}}),n.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},n.create=function(t,e){var i=new n(t),r=new n(e);return i.init(r),i}},function(t,e,i){function n(){this._root=null,this._minExtent=1,this._root=new r.a}e.a=n;var r=i(270),o=i(131),a=i(0),s=i(1),l=i(143),h=i(21),u=i(7);Object(a.a)(n.prototype,{size:function(){return null!==this._root?this._root.size():0},insert:function(t,e){this.collectStats(t);var i=n.ensureExtent(t,this._minExtent);this._root.insert(i,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new l.a;return this.query(t,e),e.getItems()}if(2===arguments.length){var i=arguments[0],n=arguments[1];this._root.visit(i,n)}},queryAll:function(){var t=new s.a;return this._root.addAllItems(t),t},remove:function(t,e){var i=n.ensureExtent(t,this._minExtent);return this._root.remove(i,e)},collectStats:function(t){var e=t.getWidth();e<this._minExtent&&e>0&&(this._minExtent=e);var i=t.getHeight();i<this._minExtent&&i>0&&(this._minExtent=i)},depth:function(){return null!==this._root?this._root.depth():0},isEmpty:function(){return null===this._root},interfaces_:function(){return[o.a,h.a]},getClass:function(){return n}}),n.ensureExtent=function(t,e){var i=t.getMinX(),n=t.getMaxX(),r=t.getMinY(),o=t.getMaxY();return i!==n&&r!==o?t:(i===n&&(n=(i-=e/2)+e/2),r===o&&(o=(r-=e/2)+e/2),new u.a(i,n,r,o))},n.serialVersionUID=-0x678b60c967a25400},function(t,e,i){function n(){this._items=new o.a,this._subnode=new Array(4).fill(null)}e.a=n;var r=i(0),o=i(1),a=i(21);Object(r.a)(n.prototype,{hasChildren:function(){for(var t=0;t<4;t++)if(null!==this._subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this._items);for(var e=0;e<4;e++)null!==this._subnode[e]&&this._subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;e<4;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+1},size:function(){for(var t=0,e=0;e<4;e++)null!==this._subnode[e]&&(t+=this._subnode[e].size());return t+this._items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this._items);for(var i=0;i<4;i++)null!==this._subnode[i]&&this._subnode[i].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var i=this._items.iterator();i.hasNext();)e.visitItem(i.next())},hasItems:function(){return!this._items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var i=!1,n=0;n<4;n++)if(null!==this._subnode[n]&&(i=this._subnode[n].remove(t,e))){this._subnode[n].isPrunable()&&(this._subnode[n]=null);break}return i||this._items.remove(e)},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var i=0;i<4;i++)null!==this._subnode[i]&&this._subnode[i].visit(t,e)},getItems:function(){return this._items},depth:function(){for(var t=0,e=0;e<4;e++)if(null!==this._subnode[e]){var i=this._subnode[e].depth();i>t&&(t=i)}return t+1},isEmpty:function(){var t=!0;this._items.isEmpty()||(t=!1);for(var e=0;e<4;e++)null!==this._subnode[e]&&(this._subnode[e].isEmpty()||(t=!1));return t},add:function(t){this._items.add(t)},interfaces_:function(){return[a.a]},getClass:function(){return n}}),n.getSubnodeIndex=function(t,e,i){var n=-1;return t.getMinX()>=e&&(t.getMinY()>=i&&(n=3),t.getMaxY()<=i&&(n=1)),t.getMaxX()<=e&&(t.getMinY()>=i&&(n=2),t.getMaxY()<=i&&(n=0)),n}},function(t,e,i){function n(t){this.geometryFactory=t||new o.a}e.a=n;var r=i(2),o=i(15),a=i(0),s=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];Object(a.a)(n.prototype,{read:function(t){var e,i=(e="string"==typeof t?JSON.parse(t):t).type;if(!l[i])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==s.indexOf(i)?l[i].apply(this,[e.coordinates]):"GeometryCollection"===i?l[i].apply(this,[e.geometries]):l[i].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!h[e])throw new Error("Geometry is not supported");return h[e].apply(this,[t])}});var l={Feature:function(t){var e={};for(var i in t)e[i]=t[i];if(t.geometry){var n=t.geometry.type;if(!l[n])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=l.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var i=0;i<t.features.length;++i)e.features.push(this.read(t.features[i]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],i=0;i<t.length;++i){var n=t[i];e.push(new r.a(n[0],n[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new r.a(t[0],t[1]),new r.a(t[2],t[1]),new r.a(t[2],t[3]),new r.a(t[0],t[3]),new r.a(t[0],t[1])])},Point:function(t){var e=new r.a(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],i=0;i<t.length;++i)e.push(l.Point.apply(this,[t[i]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=l.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],i=0;i<t.length;++i)e.push(l.LineString.apply(this,[t[i]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=l.coordinates.apply(this,[t[0]]),i=this.geometryFactory.createLinearRing(e),n=[],r=1;r<t.length;++r){var o=t[r],a=l.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);n.push(s)}return this.geometryFactory.createPolygon(i,n)},MultiPolygon:function(t){for(var e=[],i=0;i<t.length;++i){var n=t[i];e.push(l.Polygon.apply(this,[n]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],i=0;i<t.length;++i){var n=t[i];e.push(this.read(n))}return this.geometryFactory.createGeometryCollection(e)}},h={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:h.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var n=t._geometries[i],r=h.Point.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],i=t.getCoordinates(),n=0;n<i.length;++n){var r=i[n];e.push(h.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var n=t._geometries[i],r=h.LineString.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],i=h.LineString.apply(this,[t._shell]);e.push(i.coordinates);for(var n=0;n<t._holes.length;++n){var r=t._holes[n],o=h.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var n=t._geometries[i],r=h.Polygon.apply(this,[n]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],i=0;i<t._geometries.length;++i){var n=t._geometries[i],r=n.getGeometryType();e.push(h[r].apply(this,[n]))}return{type:"GeometryCollection",geometries:e}}}},function(t,e,i){function n(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];n.call(this,t,e,0,0)}else if(4===arguments.length){var i=arguments[0],r=arguments[1];arguments[2],arguments[3],this._noder=i,this._scaleFactor=r,this._isScaled=!this.isIntegerPrecision()}}e.a=n;var r=i(5),o=i(24),a=i(97),s=i(2),l=i(65),h=i(0),u=i(23),c=i(19),f=i(1);Object(h.a)(n.prototype,{rescale:function(){if(Object(r.a)(arguments[0],o.a))for(i=arguments[0].iterator();i.hasNext();){var t=i.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){var e=arguments[0];2===e.length&&(new s.a(e[0]),new s.a(e[1]));for(var i=0;i<e.length;i++)e[i].x=e[i].x/this._scaleFactor+this._offsetX,e[i].y=e[i].y/this._scaleFactor+this._offsetY;2===e.length&&e[0].equals2D(e[1])&&u.a.out.println(e)}},scale:function(){if(Object(r.a)(arguments[0],o.a)){for(var t=arguments[0],e=new f.a,i=t.iterator();i.hasNext();){var n=i.next();e.add(new l.a(this.scale(n.getCoordinates()),n.getData()))}return e}if(arguments[0]instanceof Array){var a=arguments[0],h=new Array(a.length).fill(null);for(i=0;i<a.length;i++)h[i]=new s.a(Math.round((a[i].x-this._offsetX)*this._scaleFactor),Math.round((a[i].y-this._offsetY)*this._scaleFactor),a[i].z);return c.a.removeRepeatedPoints(h)}},isIntegerPrecision:function(){return 1===this._scaleFactor},getNodedSubstrings:function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},interfaces_:function(){return[a.a]},getClass:function(){return n}})},function(t,e,i){function n(){this._comps=null;var t=arguments[0];this._comps=t}e.a=n;var r=i(16),o=i(0),a=i(13),s=i(1),l=i(38);Object(o.a)(n.prototype,{filter:function(t){t instanceof r.a&&this._comps.add(t)},interfaces_:function(){return[l.a]},getClass:function(){return n}}),n.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return n.getPolygons(t,new s.a)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e instanceof r.a?i.add(e):e instanceof a.a&&e.apply(new n(i)),i}}},function(t,e,i){function n(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];n.call(this,t,n.INSIDE_AREA,e)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._component=i,this._segIndex=r,this._pt=o}}e.a=n;var r=i(0);Object(r.a)(n.prototype,{isInsideArea:function(){return this._segIndex===n.INSIDE_AREA},getCoordinate:function(){return this._pt},getGeometryComponent:function(){return this._component},getSegmentIndex:function(){return this._segIndex},interfaces_:function(){return[]},getClass:function(){return n}}),n.INSIDE_AREA=-1},function(t,e,i){function n(){this._edges=new r.a,this._dirEdges=new r.a,this._nodeMap=new s.a}e.a=n;var r=i(46),o=i(83),a=i(0),s=i(311),l=i(70),h=i(1),u=i(84);Object(a.a)(n.prototype,{findNodesOfDegree:function(t){for(var e=new h.a,i=this.nodeIterator();i.hasNext();){var n=i.next();n.getDegree()===t&&e.add(n)}return e},dirEdgeIterator:function(){return this._dirEdges.iterator()},edgeIterator:function(){return this._edges.iterator()},remove:function(){if(arguments[0]instanceof u.a){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this._edges.remove(t),t.remove()}else if(arguments[0]instanceof l.a){var e=arguments[0];null!==(a=e.getSym())&&a.setSym(null),e.getFromNode().remove(e),e.remove(),this._dirEdges.remove(e)}else if(arguments[0]instanceof o.a){for(var i=arguments[0],n=i.getOutEdges().getEdges().iterator();n.hasNext();){var r=n.next(),a=r.getSym();null!==a&&this.remove(a),this._dirEdges.remove(r);var s=r.getEdge();null!==s&&this._edges.remove(s)}this._nodeMap.remove(i.getCoordinate()),i.remove()}},findNode:function(t){return this._nodeMap.find(t)},getEdges:function(){return this._edges},nodeIterator:function(){return this._nodeMap.iterator()},contains:function(){if(arguments[0]instanceof u.a){var t=arguments[0];return this._edges.contains(t)}if(arguments[0]instanceof l.a){var e=arguments[0];return this._dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof o.a){var t=arguments[0];this._nodeMap.add(t)}else if(arguments[0]instanceof u.a){var e=arguments[0];this._edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof l.a){var i=arguments[0];this._dirEdges.add(i)}},getNodes:function(){return this._nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._factory=null,this._deList=new g.a,this._lowestEdge=null,this._ring=null,this._ringPts=null,this._holes=null,this._shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this._factory=t}function r(){}e.a=n;var o=i(8),a=i(18),s=i(27),l=i(62),h=i(106),u=i(29),c=i(0),f=i(88),d=i(23),p=i(19),g=i(1),_=i(50),m=i(4);Object(c.a)(n.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this._ringPts){for(var t=new a.a,e=this._deList.iterator();e.hasNext();){var i=e.next(),r=i.getEdge();n.addEdge(r.getLine().getCoordinates(),i.getEdgeDirection(),t)}this._ringPts=t.toCoordinateArray()}return this._ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),!(this._ringPts.length<=3)&&(this.getRing(),h.a.isValid(this._ring))},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),m.a.isTrue(null!==e,"found null DE in ring"),m.a.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return!!this._isHole&&!this.hasShell()},getPolygon:function(){var t=null;if(null!==this._holes){t=new Array(this._holes.size()).fill(null);for(var e=0;e<this._holes.size();e++)t[e]=this._holes.get(e)}return this._factory.createPolygon(this._ring,t)},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof u.a){var t=arguments[0];null===this._holes&&(this._holes=new g.a),this._holes.add(t)}else if(arguments[0]instanceof n){var e=arguments[0];e.setShell(this);var i=e.getRing();null===this._holes&&(this._holes=new g.a),this._holes.add(i)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this._deList.size();t++){var e=this._deList.get(t).getSym().getRing();if(e.isOuterHole())return e}return null},computeHole:function(){var t=this.getRing();this._isHole=o.a.isCCW(t.getCoordinates())},hasShell:function(){return null!==this._shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this._factory.createLineString(this._ringPts)},toString:function(){return s.a.toLineString(new l.a(this.getCoordinates()))},getShell:function(){return this.isHole()?this._shell:this},add:function(t){this._deList.add(t)},getRing:function(){if(null!==this._ring)return this._ring;this.getCoordinates(),this._ringPts.length<3&&d.a.out.println(this._ringPts);try{this._ring=this._factory.createLinearRing(this._ringPts)}catch(t){if(!(t instanceof f.a))throw t;d.a.out.println(this._ringPts)}return this._ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this._deList.size();t++){var e=this._deList.get(t).getSym().getRing().getShell();if(null!==e&&e.isIncludedSet())return this.setIncluded(!e.isIncluded()),null}},setShell:function(t){this._shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return n}}),n.findDirEdgesInRing=function(t){var e=t,i=new g.a;do{i.add(e),e=e.getNext(),m.a.isTrue(null!==e,"found null DE in ring"),m.a.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return i},n.addEdge=function(t,e,i){if(e)for(n=0;n<t.length;n++)i.add(t[n],!1);else for(var n=t.length-1;n>=0;n--)i.add(t[n],!1)},n.findEdgeRingContaining=function(t,e){for(var i=t.getRing(),n=i.getEnvelopeInternal(),r=i.getCoordinateN(0),a=null,s=null,l=e.iterator();l.hasNext();){var h=l.next(),u=h.getRing(),c=u.getEnvelopeInternal();if(!c.equals(n)&&c.contains(n)){r=p.a.ptNotInList(i.getCoordinates(),u.getCoordinates());var f=!1;o.a.isPointInRing(r,u.getCoordinates())&&(f=!0),f&&(null===a||s.contains(c))&&(s=(a=h).getRing().getEnvelopeInternal())}}return a},Object(c.a)(r.prototype,{compare:function(t,e){var i=e;return t.getRing().getEnvelope().compareTo(i.getRing().getEnvelope())},interfaces_:function(){return[_.a]},getClass:function(){return r}}),n.EnvelopeComparator=r},function(t,e,i){function n(){this._li=new a.a,this._geomGraph=null,this._nodeGraph=new r.a,this._invalidPoint=null;var t=arguments[0];this._geomGraph=t}e.a=n;var r=i(319),o=i(0),a=i(22);Object(o.a)(n.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this._nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this._geomGraph))return this._invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this._invalidPoint},hasDuplicateRings:function(){for(var t=this._nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next().getEdges().iterator();e.hasNext();){var i=e.next();if(i.getEdgeEnds().size()>1)return this._invalidPoint=i.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this._geomGraph.computeSelfNodes(this._li,!0,!0);return t.hasProperIntersection()?(this._invalidPoint=t.getProperIntersectionPoint(),!1):(this._nodeGraph.build(this._geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(100),o=i(0),a=i(26),s=i(1);Object(o.a)(n.prototype,{createEdgeEndForNext:function(t,e,i,n){var o=i.segmentIndex+1;if(o>=t.getNumPoints()&&null===n)return null;var s=t.getCoordinate(o);null!==n&&n.segmentIndex===i.segmentIndex&&(s=n.coord);var l=new r.a(t,i.coord,s,new a.a(t.getLabel()));e.add(l)},createEdgeEndForPrev:function(t,e,i,n){var o=i.segmentIndex;if(0===i.dist){if(0===o)return null;o--}var s=t.getCoordinate(o);null!==n&&n.segmentIndex>=o&&(s=n.coord);var l=new a.a(t.getLabel());l.flip();var h=new r.a(t,i.coord,s,l);e.add(h)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new s.a,i=t;i.hasNext();){var n=i.next();this.computeEdgeEnds(n,e)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1],a=r.getEdgeIntersectionList();a.addEndpoints();var l=a.iterator(),h=null,u=null;if(!l.hasNext())return null;var c=l.next();do{h=u,u=c,c=null,l.hasNext()&&(c=l.next()),null!==u&&(this.createEdgeEndForPrev(r,o,u,h),this.createEdgeEndForNext(r,o,u,c))}while(null!==u)}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){l.a.apply(this)}e.a=n;var r=i(320),o=i(0),a=i(322),s=i(3),l=i(101);Object(s.a)(n,l.a),Object(o.a)(n.prototype,{createNode:function(t){return new a.a(t,new r.a)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new f.a)}e.a=n;var r=i(155),o=i(77),a=i(12),s=i(5),l=i(15),h=i(0),u=i(107),c=i(39),f=i(1),d=i(32);Object(h.a)(n.prototype,{reduceToGeometries:function(t){for(var e=new f.a,i=t.iterator();i.hasNext();){var n=i.next(),r=null;Object(s.a)(n,d.a)?r=this.unionTree(n):n instanceof a.a&&(r=n),e.add(r)}return e},extractByEnvelope:function(t,e,i){for(var n=new f.a,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?n.add(o):i.add(o)}return this._geomFactory.buildGeometry(n)},unionOptimized:function(t,e){var i=t.getEnvelopeInternal(),n=e.getEnvelopeInternal();if(!i.intersects(n))return u.a.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=i.intersection(n);return this.unionUsingEnvelopeIntersection(t,e,r)},union:function(){if(null===this._inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new o.a(n.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var i=e.next();t.insert(i.getEnvelopeInternal(),i)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],i=arguments[1],r=arguments[2];if(r-i<=1)return a=n.getGeometry(e,i),this.unionSafe(a,null);if(r-i==2)return this.unionSafe(n.getGeometry(e,i),n.getGeometry(e,i+1));var o=Math.trunc((r+i)/2),a=this.binaryUnion(e,i,o),s=this.binaryUnion(e,o,r);return this.unionSafe(a,s)}},repeatedUnion:function(t){for(var e=null,i=t.iterator();i.hasNext();){var n=i.next();e=null===e?n.copy():e.union(n)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return n.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},unionUsingEnvelopeIntersection:function(t,e,i){var n=new f.a,r=this.extractByEnvelope(i,t,n),o=this.extractByEnvelope(i,e,n),a=this.unionActual(r,o);return n.add(a),u.a.combine(n)},bufferUnion:function(){if(1===arguments.length){var t=arguments[0];return(r=(n=t.get(0).getFactory()).buildGeometry(t)).buffer(0)}if(2===arguments.length){var e=arguments[0],i=arguments[1],n=e.getFactory(),r=n.createGeometryCollection([e,i]),o=r.buffer(0);return o}},interfaces_:function(){return[]},getClass:function(){return n}}),n.restrictToPolygons=function(t){if(Object(s.a)(t,c.a))return t;var e=r.a.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(l.a.toPolygonArray(e))},n.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},n.union=function(t){return new n(t).union()},n.STRTREE_NODE_CAPACITY=4},function(t,e,i){function n(){this._pointGeom=null,this._otherGeom=null,this._geomFact=null;var t=arguments[0],e=arguments[1];this._pointGeom=t,this._otherGeom=e,this._geomFact=e.getFactory()}e.a=n;var r=i(64),o=i(10),a=i(47),s=i(0),l=i(107),h=i(19);Object(s.a)(n.prototype,{union:function(){for(var t=new r.a,e=new a.a,i=0;i<this._pointGeom.getNumGeometries();i++){var n=this._pointGeom.getGeometryN(i).getCoordinate();t.locate(n,this._otherGeom)===o.a.EXTERIOR&&e.add(n)}if(0===e.size())return this._otherGeom;var s,u=h.a.toCoordinateArray(e);return s=1===u.length?this._geomFact.createPoint(u[0]):this._geomFact.createMultiPointFromCoords(u),l.a.combine(s,this._otherGeom)},interfaces_:function(){return[]},getClass:function(){return n}}),n.union=function(t,e){return new n(t,e).union()}},function(t,e,i){function n(){this._index=new o.a}function r(){this._querySeg=null,this._items=new h.a;var t=arguments[0];this._querySeg=t}e.a=n;var o=i(151),a=i(54),s=i(0),l=i(14),h=i(1),u=i(7),c=i(165);Object(s.a)(n.prototype,{remove:function(t){this._index.remove(new u.a(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof c.a)for(var t=arguments[0].getSegments(),e=0;e<t.length;e++){var i=t[e];this.add(i)}else if(arguments[0]instanceof l.a){var n=arguments[0];this._index.insert(new u.a(n.p0,n.p1),n)}},query:function(t){var e=new u.a(t.p0,t.p1),i=new r(t);return this._index.query(e,i),i.getItems()},interfaces_:function(){return[]},getClass:function(){return n}}),Object(s.a)(r.prototype,{visitItem:function(t){var e=t;u.a.intersects(e.p0,e.p1,this._querySeg.p0,this._querySeg.p1)&&this._items.add(t)},getItems:function(){return this._items},interfaces_:function(){return[a.a]},getClass:function(){return r}})},function(t,e,i){function n(){if(this._parentLine=null,this._segs=null,this._resultSegs=new a.a,this._minimumSize=null,1===arguments.length){var t=arguments[0];n.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._parentLine=e,this._minimumSize=i,this.init()}}e.a=n;var r=i(0),o=i(347),a=i(1);Object(r.a)(n.prototype,{addToResult:function(t){this._resultSegs.add(t)},asLineString:function(){return this._parentLine.getFactory().createLineString(n.extractCoordinates(this._resultSegs))},getResultSize:function(){var t=this._resultSegs.size();return 0===t?0:t+1},getParent:function(){return this._parentLine},getSegment:function(t){return this._segs[t]},getParentCoordinates:function(){return this._parentLine.getCoordinates()},getMinimumSize:function(){return this._minimumSize},asLinearRing:function(){return this._parentLine.getFactory().createLinearRing(n.extractCoordinates(this._resultSegs))},getSegments:function(){return this._segs},init:function(){var t=this._parentLine.getCoordinates();this._segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var i=new o.a(t[e],t[e+1],this._parentLine,e);this._segs[e]=i}},getResultCoordinates:function(){return n.extractCoordinates(this._resultSegs)},interfaces_:function(){return[]},getClass:function(){return n}}),n.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),i=null,n=0;n<t.size();n++)i=t.get(n),e[n]=i.p0;return e[e.length-1]=i.p1,e}},function(t,e,i){function n(){this._isOnConstraint=null,this._constraint=null;var t=arguments[0];o.a.call(this,t)}e.a=n;var r=i(0),o=i(85),a=i(3);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{getConstraint:function(){return this._constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this._constraint=t._constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this._constraint=t},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._rot=null,this._vertex=null,this._next=null,this._data=null}e.a=n;var r=i(27),o=i(0),a=i(14);Object(o.a)(n.prototype,{equalsNonOriented:function(t){return!!this.equalsOriented(t)||!!this.equalsOriented(t.sym())},toLineSegment:function(){return new a.a(this._vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this._next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this._next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot._next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this._vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this._data=t},getData:function(){return this._data},delete:function(){this._rot=null},orig:function(){return this._vertex},rNext:function(){return this._rot._next.invRot()},toString:function(){var t=this._vertex.getCoordinate(),e=this.dest().getCoordinate();return r.a.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this._next=t},interfaces_:function(){return[]},getClass:function(){return n}}),n.makeEdge=function(t,e){var i=new n,r=new n,o=new n,a=new n;i._rot=r,r._rot=o,o._rot=a,a._rot=i,i.setNext(i),r.setNext(a),o.setNext(o),a.setNext(r);var s=i;return s.setOrig(t),s.setDest(e),s},n.swap=function(t){var e=t.oPrev(),i=t.sym().oPrev();n.splice(t,e),n.splice(t.sym(),i),n.splice(t,e.lNext()),n.splice(t.sym(),i.lNext()),t.setOrig(e.dest()),t.setDest(i.dest())},n.splice=function(t,e){var i=t.oNext().rot(),n=e.oNext().rot(),r=e.oNext(),o=t.oNext(),a=n.oNext(),s=i.oNext();t.setNext(r),e.setNext(o),i.setNext(a),n.setNext(s)},n.connect=function(t,e){var i=n.makeEdge(t.dest(),e.orig());return n.splice(i,t.lNext()),n.splice(i.sym(),e),i}},function(t,e,i){function n(){this._subdiv=null,this._lastEdge=null;var t=arguments[0];this._subdiv=t,this.init()}e.a=n;var r=i(0),o=i(355);Object(r.a)(n.prototype,{init:function(){this._lastEdge=this.findEdge()},locate:function(t){this._lastEdge.isLive()||this.init();var e=this._subdiv.locateFromEdge(t,this._lastEdge);return this._lastEdge=e,e},findEdge:function(){return this._subdiv.getEdges().iterator().next()},interfaces_:function(){return[o.a]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._ls=null,this._data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._ls=new a.a(t,e)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._ls=new a.a(i,o),this._data=s}else if(6===arguments.length){var l=arguments[0],h=arguments[1],u=arguments[2],c=arguments[3],f=arguments[4],d=arguments[5];n.call(this,new r.a(l,h,u),new r.a(c,f,d))}else if(7===arguments.length){var p=arguments[0],g=arguments[1],_=arguments[2],m=arguments[3],y=arguments[4],v=arguments[5],b=arguments[6];n.call(this,new r.a(p,g,_),new r.a(m,y,v),b)}}e.a=n;var r=i(2),o=i(0),a=i(14);Object(o.a)(n.prototype,{getLineSegment:function(){return this._ls},getEndZ:function(){return this._ls.getCoordinate(1).z},getStartZ:function(){return this._ls.getCoordinate(0).z},intersection:function(t){return this._ls.intersection(t.getLineSegment())},getStart:function(){return this._ls.getCoordinate(0)},getEnd:function(){return this._ls.getCoordinate(1)},getEndY:function(){return this._ls.getCoordinate(1).y},getStartX:function(){return this._ls.getCoordinate(0).x},equalsTopo:function(t){return this._ls.equalsTopo(t.getLineSegment())},getStartY:function(){return this._ls.getCoordinate(0).y},setData:function(t){this._data=t},getData:function(){return this._data},getEndX:function(){return this._ls.getCoordinate(1).x},toString:function(){return this._ls.toString()},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t,this.checkGeometryType()}e.a=n;var r=i(9),o=i(6),a=i(86),s=i(0),l=i(171),h=i(172),u=i(173),c=i(28);Object(s.a)(n.prototype,{clampIndex:function(t){var e=t.clone();return e.clamp(this._linearGeom),e},project:function(t){return l.a.indexOf(this._linearGeom,t)},checkGeometryType:function(){if(!(this._linearGeom instanceof r.a||this._linearGeom instanceof c.a))throw new o.a("Input geometry must be linear")},extractPoint:function(){if(1===arguments.length)return arguments[0].getCoordinate(this._linearGeom);if(2===arguments.length){var t=arguments[0],e=arguments[1],i=t.toLowest(this._linearGeom);return i.getSegment(this._linearGeom).pointAlongOffset(i.getSegmentFraction(),e)}},isValidIndex:function(t){return t.isValid(this._linearGeom)},getEndIndex:function(){return a.a.getEndLocation(this._linearGeom)},getStartIndex:function(){return new a.a},indexOfAfter:function(t,e){return l.a.indexOfAfter(this._linearGeom,t,e)},extractLine:function(t,e){return u.a.extract(this._linearGeom,t,e)},indexOf:function(t){return l.a.indexOf(this._linearGeom,t)},indicesOf:function(t){return h.a.indicesOf(this._linearGeom,t)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}e.a=n;var r=i(71),o=i(86),a=i(11),s=i(0),l=i(14),h=i(4);Object(s.a)(n.prototype,{indexOf:function(t){return this.indexOfFromStart(t,null)},indexOfFromStart:function(t,e){for(var i=a.a.MAX_VALUE,n=0,s=0,h=-1,u=new l.a,c=new r.a(this._linearGeom);c.hasNext();c.next())if(!c.isEndOfLine()){u.p0=c.getSegmentStart(),u.p1=c.getSegmentEnd();var f=u.distance(t),d=u.segmentFraction(t),p=c.getComponentIndex(),g=c.getVertexIndex();f<i&&(null===e||e.compareLocationValues(p,g,d)<0)&&(n=p,s=g,h=d,i=f)}return i===a.a.MAX_VALUE?new o.a(e):new o.a(n,s,h)},indexOfAfter:function(t,e){if(null===e)return this.indexOf(t);var i=o.a.getEndLocation(this._linearGeom);if(i.compareTo(e)<=0)return i;var n=this.indexOfFromStart(t,e);return h.a.isTrue(n.compareTo(e)>=0,"computed location is before specified minimum location"),n},interfaces_:function(){return[]},getClass:function(){return n}}),n.indexOf=function(t,e){return new n(t).indexOf(e)},n.indexOfAfter=function(t,e,i){return new n(t).indexOfAfter(e,i)}},function(t,e,i){function n(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}e.a=n;var r=i(0),o=i(171);Object(r.a)(n.prototype,{indicesOf:function(t){var e=t.getGeometryN(0).getCoordinateN(0),i=t.getGeometryN(t.getNumGeometries()-1),n=i.getCoordinateN(i.getNumPoints()-1),r=new o.a(this._linearGeom),a=new Array(2).fill(null);return a[0]=r.indexOf(e),0===t.getLength()?a[1]=a[0].clone():a[1]=r.indexOfAfter(n,a[0]),a},interfaces_:function(){return[]},getClass:function(){return n}}),n.indicesOf=function(t,e){return new n(t).indicesOf(e)}},function(t,e,i){function n(){this._line=null;var t=arguments[0];this._line=t}e.a=n;var r=i(9),o=i(18),a=i(71),s=i(0),l=i(4),h=i(174),u=i(28);Object(s.a)(n.prototype,{computeLinear:function(t,e){var i=new h.a(this._line.getFactory());i.setFixInvalidLines(!0),t.isVertex()||i.add(t.getCoordinate(this._line));for(var n=new a.a(this._line,t);n.hasNext()&&!(e.compareLocationValues(n.getComponentIndex(),n.getVertexIndex(),0)<0);n.next()){var r=n.getSegmentStart();i.add(r),n.isEndOfLine()&&i.endLine()}return e.isVertex()||i.add(e.getCoordinate(this._line)),i.getGeometry()},computeLine:function(t,e){var i=this._line.getCoordinates(),n=new o.a,r=t.getSegmentIndex();t.getSegmentFraction()>0&&(r+=1);var a=e.getSegmentIndex();1===e.getSegmentFraction()&&(a+=1),a>=i.length&&(a=i.length-1),t.isVertex()||n.add(t.getCoordinate(this._line));for(var s=r;s<=a;s++)n.add(i[s]);e.isVertex()||n.add(e.getCoordinate(this._line)),n.size()<=0&&n.add(t.getCoordinate(this._line));var l=n.toCoordinateArray();return l.length<=1&&(l=[l[0],l[0]]),this._line.getFactory().createLineString(l)},extract:function(t,e){return e.compareTo(t)<0?this.reverse(this.computeLinear(e,t)):this.computeLinear(t,e)},reverse:function(t){return t instanceof r.a?t.reverse():t instanceof u.a?t.reverse():(l.a.shouldNeverReachHere("non-linear geometry encountered"),null)},interfaces_:function(){return[]},getClass:function(){return n}}),n.extract=function(t,e,i){return new n(t).extract(e,i)}},function(t,e,i){function n(){this._geomFact=null,this._lines=new s.a,this._coordList=null,this._ignoreInvalidLines=!1,this._fixInvalidLines=!1,this._lastPt=null;var t=arguments[0];this._geomFact=t}e.a=n;var r=i(18),o=i(6),a=i(0),s=i(1);Object(a.a)(n.prototype,{getGeometry:function(){return this.endLine(),this._geomFact.buildGeometry(this._lines)},getLastCoordinate:function(){return this._lastPt},endLine:function(){if(null===this._coordList)return null;if(this._ignoreInvalidLines&&this._coordList.size()<2)return this._coordList=null,null;var t=this._coordList.toCoordinateArray(),e=t;this._fixInvalidLines&&(e=this.validCoordinateSequence(t)),this._coordList=null;var i=null;try{i=this._geomFact.createLineString(e)}catch(t){if(!(t instanceof o.a))throw t;if(!this._ignoreInvalidLines)throw t}null!==i&&this._lines.add(i)},setFixInvalidLines:function(t){this._fixInvalidLines=t},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];null===this._coordList&&(this._coordList=new r.a),this._coordList.add(e,i),this._lastPt=e}},setIgnoreInvalidLines:function(t){this._ignoreInvalidLines=t},validCoordinateSequence:function(t){return t.length>=2?t:[t[0],t[0]]},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}e.a=n;var r=i(71),o=i(86),a=i(0);Object(a.a)(n.prototype,{getLength:function(t){for(var e=0,i=new r.a(this._linearGeom);i.hasNext();){if(!i.isEndOfLine()){var n=i.getSegmentStart(),o=i.getSegmentEnd().distance(n);if(t.getComponentIndex()===i.getComponentIndex()&&t.getSegmentIndex()===i.getVertexIndex())return e+o*t.getSegmentFraction();e+=o}i.next()}return e},resolveHigher:function(t){if(!t.isEndpoint(this._linearGeom))return t;var e=t.getComponentIndex();if(e>=this._linearGeom.getNumGeometries()-1)return t;do{e++}while(e<this._linearGeom.getNumGeometries()-1&&0===this._linearGeom.getGeometryN(e).getLength());return new o.a(e,0,0)},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.getLocation(t,!0)}if(2===arguments.length){var e=arguments[0],i=arguments[1],n=e;e<0&&(n=this._linearGeom.getLength()+e);var r=this.getLocationForward(n);return i?r:this.resolveHigher(r)}},getLocationForward:function(t){if(t<=0)return new o.a;for(var e=0,i=new r.a(this._linearGeom);i.hasNext();){if(i.isEndOfLine()){if(e===t){var n=i.getComponentIndex(),a=i.getVertexIndex();return new o.a(n,a,0)}}else{var s=i.getSegmentStart(),l=i.getSegmentEnd().distance(s);if(e+l>t){var h=(t-e)/l;n=i.getComponentIndex(),a=i.getVertexIndex();return new o.a(n,a,h)}e+=l}i.next()}return o.a.getEndLocation(this._linearGeom)},interfaces_:function(){return[]},getClass:function(){return n}}),n.getLength=function(t,e){return new n(t).getLength(e)},n.getLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return(a=new n(t)).getLocation(e)}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],a=new n(i);return a.getLocation(r,o)}}},function(t,e,i){t.exports=i(177)},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}i(178);var r=i(179),o=n(i(180)),a=n(i(181)),s=n(i(43));i(183),i(184),i(185),i(186),i(187),i(188);var l=n(i(49));i(371),i(372),i(373),i(374),i(375),i(376),i(377),i(378),L.PM=L.PM||{Map:o.default,Toolbar:a.default,Draw:s.default,Edit:l.default,version:r.version,initialize:function(){this.addInitHooks()},addInitHooks:function(){L.Map.addInitHook(function(){this.options.pmIgnore||(this.pm=new L.PM.Map(this))}),L.LayerGroup.addInitHook(function(){this.pm=new L.PM.Edit.LayerGroup(this)}),L.Marker.addInitHook(function(){this.options.pmIgnore||(this.pm=new L.PM.Edit.Marker(this))}),L.Polyline.addInitHook(function(){this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}),L.Polygon.addInitHook(function(){this.options.pmIgnore||(this.pm=new L.PM.Edit.Poly(this))}),L.Rectangle.addInitHook(function(){this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}),L.Circle.addInitHook(function(){this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))})}},L.PM.initialize()},function(t,e,i){Array.prototype.findIndex=Array.prototype.findIndex||function(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=Object(this),i=e.length>>>0,n=arguments[1],r=0;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1},Array.prototype.find=Array.prototype.find||function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=Object(this),i=e.length>>>0,n=arguments[1],r=0;r<i;r++){var o=e[r];if(t.call(n,o,r,e))return o}},"function"!=typeof Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})},function(t,e){t.exports={name:"leaflet.pm",version:"0.23.0",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet.pm.min.js",dependencies:{"@turf/difference":"^5.0.4","@turf/intersect":"^5.0.4","@turf/kinks":"^5.0.4"},devDependencies:{"babel-core":"^6.26.0","babel-loader":"^7.1.2","babel-preset-env":"^1.6.1","css-loader":"^0.28.0",eslint:"^4.11.0","eslint-config-airbnb-base":"^12.1.0","eslint-plugin-import":"^2.8.0","extract-text-webpack-plugin":"^3.0.2","file-loader":"^0.11.1",leaflet:"^1.2.0","style-loader":"^0.19.0",tape:"^4.8.0","tape-run":"^3.0.0","uglifyjs-webpack-plugin":"^1.1.0","url-loader":"^0.6.2",webpack:"^3.8.1"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"npm run dev",dev:"./node_modules/.bin/webpack --config=webpack.dev.js",test:"browserify ./spec/test.spec.js | tape-run",build:"./node_modules/.bin/webpack --config=webpack.build.js",prepare:"npm run build"},repository:{type:"git",url:"git+https://github.com/codeofsumit/leaflet.pm.git"},author:{name:"Sumit Kumar",email:"sk@outlook.com",url:"http://twitter.com/TweetsOfSumit"},license:"MIT",bugs:{url:"https://github.com/codeofsumit/leaflet.pm/issues"},homepage:"https://leafletpm.now.sh"}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=L.Class.extend({initialize:function(t){var e=this;this.map=t,this.Draw=new L.PM.Draw(t),this.Toolbar=new L.PM.Toolbar(t),this.map.on("layerremove",function(t){t.layer.pm&&!t.layer._pmTempLayer&&e.map.fire("pm:remove",t)}),this._globalRemovalMode=!1},addControls:function(t){this.Toolbar.addControls(t)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Poly",e=arguments[1];this.Draw.enable(t,e)},disableDraw:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Poly";this.Draw.disable(t)},setPathOptions:function(t){this.Draw.setPathOptions(t)},removeLayer:function(t){var e=t.target;e._layers||e.pm&&e.pm.dragging()||t.target.remove()},toggleGlobalRemovalMode:function(){var t=this;this.globalRemovalEnabled()?(this._globalRemovalMode=!1,this.map.eachLayer(function(e){e.off("click",t.removeLayer)})):(this._globalRemovalMode=!0,this.map.eachLayer(function(e){e.pm&&e.on("click",t.removeLayer)})),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode)},globalRemovalEnabled:function(){return this._globalRemovalMode},globalEditEnabled:function(){return this._globalEditMode},enableGlobalEditMode:function(t){var e=[];this.map.eachLayer(function(t){(t instanceof L.Polyline||t instanceof L.Marker||t instanceof L.Circle)&&e.push(t)}),e=(e=e.filter(function(t){return!!t.pm})).filter(function(t){return!t._pmTempLayer}),this._globalEditMode=!0,e.forEach(function(e){e.pm.enable(t)}),this.Toolbar.toggleButton("editPolygon",this._globalEditMode),this._fireEditModeEvent(!0)},disableGlobalEditMode:function(){var t=[];this.map.eachLayer(function(e){(e instanceof L.Polyline||e instanceof L.Marker||e instanceof L.Circle)&&t.push(e)}),t=(t=t.filter(function(t){return!!t.pm})).filter(function(t){return!t._pmTempLayer}),this._globalEditMode=!1,t.forEach(function(t){t.pm.disable()}),this.Toolbar.toggleButton("editPolygon",this._globalEditMode),this._fireEditModeEvent(!1)},_fireEditModeEvent:function(t){this.map.fire("pm:globaleditmodetoggled",{enabled:t,map:this.map})},toggleGlobalEditMode:function(t){this.globalEditEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(t)}});e.default=n},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=i(182))&&n.__esModule?n:{default:n};L.Control.PMButton=r.default;var o=L.Class.extend({options:{drawMarker:!0,drawPolygon:!0,drawPolyline:!0,drawCircle:!0,drawRectangle:!0,editMode:!0,cutPolygon:!0,dragPolygon:!1,removalMode:!0,position:"topleft"},initialize:function(t){this.map=t,this.buttons={},this.isVisible=!1,this.container=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-bar leaflet-control"),this._defineButtons()},getButtons:function(){return this.buttons},addControls:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;void 0!==t.editPolygon&&(t.editMode=t.editPolygon),void 0!==t.deleteLayer&&(t.removalMode=t.deleteLayer),L.Util.setOptions(this,t),this._showHideButtons(),this.isVisible=!0},removeControls:function(){var t=this.getButtons();for(var e in t)t[e].remove();this.isVisible=!1},toggleControls:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(t)},_addButton:function(t,e){return this.buttons[t]=e,this.options[t]=this.options[t]||!1,this.buttons[t]},triggerClickOnToggledButtons:function(t){for(var e in this.buttons)this.buttons[e]!==t&&this.buttons[e].toggled()&&this.buttons[e]._triggerClick()},toggleButton:function(t,e){return"editPolygon"===t&&(t="editMode"),"deleteLayer"===t&&(t="removalMode"),this.triggerClickOnToggledButtons(this.buttons[t]),this.buttons[t].toggle(e)},_defineButtons:function(){var t=this,e={className:" leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position},i={className:"leaflet-pm-icon-polygon",onClick:function(){},afterClick:function(){t.map.pm.Draw.Poly.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position},n={className:"leaflet-pm-icon-cut",onClick:function(){},afterClick:function(){t.map.pm.Draw.Cut.toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position},r={className:"leaflet-pm-icon-marker",onClick:function(){},afterClick:function(){t.map.pm.Draw.Marker.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position},o={className:"leaflet-pm-icon-polyline",onClick:function(){},afterClick:function(){t.map.pm.Draw.Line.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position},a={className:"leaflet-pm-icon-circle",onClick:function(){},afterClick:function(){t.map.pm.Draw.Circle.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position},s={className:"leaflet-pm-icon-rectangle",onClick:function(){},afterClick:function(){t.map.pm.Draw.Rectangle.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position},l={className:"leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position},h={className:"leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position};this._addButton("drawMarker",new L.Control.PMButton(r)),this._addButton("drawPolyline",new L.Control.PMButton(o)),this._addButton("drawRectangle",new L.Control.PMButton(s)),this._addButton("drawPolygon",new L.Control.PMButton(i)),this._addButton("drawCircle",new L.Control.PMButton(a)),this._addButton("cutPolygon",new L.Control.PMButton(n)),this._addButton("editMode",new L.Control.PMButton(l)),this._addButton("dragPolygon",new L.Control.PMButton(h)),this._addButton("removalMode",new L.Control.PMButton(e))},_showHideButtons:function(){this.removeControls();var t=this.getButtons();for(var e in t)this.options[e]&&(t[e].setPosition(this.options.position),t[e].addTo(this.map))}});e.default=o},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=L.Control.extend({options:{position:"topleft"},initialize:function(t){this._button=L.Util.setOptions(this,t)},onAdd:function(t){return this._map=t,this._container=this._map.pm.Toolbar.container,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(t){return this._button.toggleStatus="boolean"==typeof t?t:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},_triggerClick:function(t){this._button.onClick(t),this._clicked(t),this._button.afterClick(t)},_makeButton:function(t){var e=this,i=L.DomUtil.create("a","leaflet-buttons-control-button",this._container);t.toggleStatus&&L.DomUtil.addClass(i,"active");var n=L.DomUtil.create("div","control-icon",i);return t.iconUrl&&n.setAttribute("src",t.iconUrl),t.className&&L.DomUtil.addClass(n,t.className),L.DomEvent.addListener(i,"click",function(){e._button.disableOtherButtons&&e._map.pm.Toolbar.triggerClickOnToggledButtons(e)}),L.DomEvent.addListener(i,"click",this._triggerClick,this),L.DomEvent.disableClickPropagation(i),i},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus?L.DomUtil.addClass(this.buttonsDomNode,"active"):L.DomUtil.removeClass(this.buttonsDomNode,"active"))},_clicked:function(){this._button.doToggle&&this.toggle()}});e.default=n},function(t,e,i){var n,r=(n=i(43))&&n.__esModule?n:{default:n};r.default.Marker=r.default.extend({initialize:function(t){this._map=t,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(t){L.Util.setOptions(this,t),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker([0,0],this.options.markerStyle),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.eachLayer(function(t){t instanceof L.Marker&&t.pm&&t.pm.enable()})},disable:function(){this._enabled&&(this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(function(t){t instanceof L.Marker&&t.pm&&!t._pmTempLayer&&t.pm.disable()}),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this._enabled=!1)},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_createMarker:function(t){if(t.latlng){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var e=this._hintMarker.getLatLng(),i=new L.Marker(e,this.options.markerStyle);i.addTo(this._map),i.pm.enable(),this._map.fire("pm:create",{shape:this._shape,marker:i,layer:i}),this._cleanupSnapping()}},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var e=t;e.target=this._hintMarker,this._handleSnapping(e)}}})},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}var r=n(i(114)),o=n(i(43));o.default.Line=o.default.extend({initialize:function(t){this._map=t,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(t){L.Util.setOptions(this,t),this.options.finishOnDoubleClick&&!this.options.finishOn&&(this.options.finishOn="dblclick"),this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],this.options.templineStyle),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this._map.on(this.options.finishOn,this._finishShape,this),"dblclick"===this.options.finishOn&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="default",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},hasSelfIntersection:function(){return(0,r.default)(this._layer.toGeoJSON()).features.length>0},_syncHintLine:function(){var t=this._layer.getLatLngs();if(t.length>0){var e=t[t.length-1];this._hintline.setLatLngs([e,this._hintMarker.getLatLng()])}},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var e=t;e.target=this._hintMarker,this._handleSnapping(e)}this.options.allowSelfIntersection||this._handleSelfIntersection()},_handleSelfIntersection:function(){var t=L.polyline(this._layer.getLatLngs());t.addLatLng(this._hintMarker.getLatLng());var e=(0,r.default)(t.toGeoJSON());this._doesSelfIntersect=e.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"red"}):this._hintline.setStyle({color:"#3388ff"})},_createVertex:function(t){if(this.options.allowSelfIntersection||!this._doesSelfIntersect){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var e=this._hintMarker.getLatLng();if(e.equals(this._layer.getLatLngs()[0]))this._finishShape(t);else{var i=0===this._layer.getLatLngs().length;this._layer.addLatLng(e);var n=this._createMarker(e,i);this._hintline.setLatLngs([e,e]),this._layer.fire("pm:vertexadded",{shape:this._shape,workingLayer:this._layer,marker:n,latlng:e})}}},_finishShape:function(){if(this.options.allowSelfIntersection||!this._doesSelfIntersect){var t=this._layer.getLatLngs(),e=L.polyline(t,this.options.pathOptions).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:e}),this.options.snappable&&this._cleanupSnapping()}},_createMarker:function(t){var e=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return e._pmTempLayer=!0,this._layerGroup.addLayer(e),e.on("click",this._finishShape,this),e}})},function(t,e,i){var n,r=(n=i(43))&&n.__esModule?n:{default:n};r.default.Poly=r.default.Line.extend({initialize:function(t){this._map=t,this._shape="Poly",this.toolbarButtonName="drawPolygon"},_finishShape:function(){if(this.options.allowSelfIntersection||!this._doesSelfIntersect){var t=this._layer.getLatLngs(),e=L.polygon(t,this.options.pathOptions).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:e}),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex}},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return i._pmTempLayer=!0,this._layerGroup.addLayer(i),e&&(i.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(i)-1,this.options.snappable&&this._cleanupSnapping()),i}})},function(t,e,i){var n,r=(n=i(43))&&n.__esModule?n:{default:n};r.default.Rectangle=r.default.extend({initialize:function(t){this._map=t,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(t){if(L.Util.setOptions(this,t),this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._layer._pmTempLayer=!0,this._startMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!0,zIndexOffset:100,opacity:this.options.cursorMarker?1:0}),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker){L.DomUtil.addClass(this._hintMarker._icon,"visible"),this._styleMarkers=[];for(var e=0;e<2;e+=1){var i=L.marker([0,0],{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!0,zIndexOffset:100});i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._styleMarkers.push(i)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="default",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_placeStartingMarkers:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var e=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(e),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(function(t){L.DomUtil.addClass(t._icon,"visible"),t.setLatLng(e)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._setRectangleOrigin()},_setRectangleOrigin:function(){var t=this._startMarker.getLatLng();t&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([t,t]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var e=t;e.target=this._hintMarker,this._handleSnapping(e)}},_syncRectangleSize:function(){var t=this,e=this._startMarker.getLatLng(),i=this._hintMarker.getLatLng();if(this._layer.setBounds([e,i]),this.options.cursorMarker&&this._styleMarkers){var n=[];this._findCorners().forEach(function(e){e.equals(t._startMarker.getLatLng())||e.equals(t._hintMarker.getLatLng())||n.push(e)}),n.forEach(function(e,i){t._styleMarkers[i].setLatLng(e)})}},_finishShape:function(){var t=this._startMarker.getLatLng(),e=this._hintMarker.getLatLng(),i=L.rectangle([t,e],this.options.pathOptions).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:i})},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}})},function(t,e,i){var n,r=(n=i(43))&&n.__esModule?n:{default:n};r.default.Circle=r.default.extend({initialize:function(t){this._map=t,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(t){L.Util.setOptions(this,t),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle([0,0],this.options.templineStyle),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._centerMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._centerMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._centerMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this._hintline=L.polyline([],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="default",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintLine:function(){var t=this._centerMarker.getLatLng();this._hintline.setLatLngs([t,this._hintMarker.getLatLng()])},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),e=this._hintMarker.getLatLng(),i=t.distanceTo(e);this._layer.setRadius(i)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var e=t;e.target=this._hintMarker,this._handleSnapping(e)}},_placeCenterMarker:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var e=this._hintMarker.getLatLng();this._centerMarker.setLatLng(e),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var t=this._centerMarker.getLatLng();t&&(this._layer.setLatLng(t),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._layer.fire("pm:centerplaced",{shape:this._shape,workingLayer:this._layer,latlng:t}))},_finishShape:function(){var t=this._centerMarker.getLatLng(),e=this._hintMarker.getLatLng(),i=t.distanceTo(e),n=L.circle(t,{radius:i}).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:n})},_createMarker:function(t){var e=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return e._pmTempLayer=!0,this._layerGroup.addLayer(e),e}})},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}var r=n(i(189)),o=n(i(368)),a=n(i(43));a.default.Cut=a.default.Poly.extend({initialize:function(t){this._map=t,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_cut:function(t){var e=this,i=this._map._layers,n=[];Object.keys(i).map(function(t){return i[t]}).filter(function(t){return t.pm}).filter(function(t){return t instanceof L.Polygon}).filter(function(e){return e!==t}).filter(function(e){try{return!!(0,r.default)(t.toGeoJSON(),e.toGeoJSON())}catch(t){return console.error("You cant cut polygons with self-intersections"),!1}}).forEach(function(i){var r=(0,o.default)(i.toGeoJSON(),t.toGeoJSON());if("MultiPolygon"===r.geometry.type)r.geometry.coordinates.reduce(function(t,e){return t.push({type:"Polygon",coordinates:e}),t},[]).forEach(function(t){var r=L.geoJSON(t,i.options);n.push(r),r.addTo(e._map),r.pm.enable(e.options),r.pm.disable()});else{var a=L.geoJSON(r,i.options).addTo(e._map);n.push(a),a.addTo(e._map),a.pm.enable(e.options),a.pm.disable()}i.fire("pm:cut",{shape:e._shape,layer:i,resultingLayers:n}),e._map.fire("pm:cut",{shape:e._shape,cuttedLayer:i,resultingLayers:n}),i._pmTempLayer=!0,t._pmTempLayer=!0,i.remove(),t.remove()})},_finishShape:function(){var t=this._layer.getLatLngs(),e=L.polygon(t,this.options.pathOptions);this._cut(e),this.disable(),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex}})},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(115),r=i(366),o=i(112),a=i(44),s=i(367);e.default=function(t,e){var i=Object(o.b)(t),l=Object(o.b)(e);if(Object(s.a)(Object(r.a)(l,{precision:4})).coordinates[0].length<4)return null;if(Object(s.a)(Object(r.a)(i,{precision:4})).coordinates[0].length<4)return null;var h=new n.a,u=h.read(Object(r.a)(i)),c=h.read(Object(r.a)(l)),f=n.c.intersection(u,c);if(f.isEmpty())return null;var d=(new n.b).write(f);return Object(a.a)(d)}},function(t,e,i){i(2),i(18),i(7),i(14),i(15),i(12),i(25),i(9),i(29),i(16),i(13),i(40),i(28),i(30),i(37),i(126),i(53)},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.equalsWithTolerance=function(t,e,i){return Math.abs(t-e)<=i}},function(t,e,i){function n(){if(0===arguments.length)o.a.call(this);else if(1===arguments.length){var t=arguments[0];o.a.call(this,t)}}e.a=n;var r=i(0),o=i(45),a=i(3);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(t){this.message=t||""}e.a=n,(n.prototype=new Error).name="IndexOutOfBoundsException"},function(t,e,i){function n(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new a.a,this._intPt[1]=new a.a,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}e.a=n;var r=i(33),o=i(27),a=i(2),s=i(0),l=i(4);Object(s.a)(n.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},getTopologySummary:function(){var t=new r.a;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,i,n){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=i,this._inputLines[1][1]=n,this._result=this.computeIntersect(t,e,i,n)},getIntersectionNum:function(){return this._result},computeIntLineIndex:function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this._precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this._intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this._result!==n.NO_INTERSECTION},getEdgeDistance:function(t,e){return n.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},isCollinear:function(){return this._result===n.COLLINEAR_INTERSECTION},toString:function(){return o.a.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+o.a.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this._inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return n}}),n.computeEdgeDistance=function(t,e,i){var n=Math.abs(i.x-e.x),r=Math.abs(i.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(i))o=n>r?n:r;else{var a=Math.abs(t.x-e.x),s=Math.abs(t.y-e.y);0!==(o=n>r?a:s)||t.equals(e)||(o=Math.max(a,s))}return l.a.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},n.nonRobustComputeEdgeDistance=function(t,e,i){var n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r);return l.a.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},n.DONT_INTERSECT=0,n.DO_INTERSECT=1,n.COLLINEAR=2,n.NO_INTERSECTION=0,n.POINT_INTERSECTION=1,n.COLLINEAR_INTERSECTION=2},function(t,e,i){function n(){}e.a=n;var r=i(121);n.prototype=new r.a},function(t,e,i){function n(){}e.a=n;var r=i(122);n.prototype=new r.a},function(t,e,i){function n(){}e.a=n;var r=i(198),o=i(199),a=i(200),s=i(0),l=i(23),h=i(1),u=i(201),c=i(4),f=i(202),d=i(203);Object(s.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.chars=function(t,e){for(var i=new Array(e).fill(null),n=0;n<e;n++)i[n]=t;return new String(i)},n.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new u.a,i=new r.a(e);return t.printStackTrace(i),e.toString()}if(2===arguments.length){for(var a=arguments[0],s=arguments[1],l="",h=new o.a(n.getStackTrace(a)),p=new d.a(h),g=0;g<s;g++)try{l+=p.readLine()+n.NEWLINE}catch(t){if(!(t instanceof f.a))throw t;c.a.shouldNeverReachHere()}return l}},n.split=function(t,e){for(var i=e.length,n=new h.a,r=""+t,o=r.indexOf(e);o>=0;){var a=r.substring(0,o);n.add(a),o=(r=r.substring(o+i)).indexOf(e)}r.length>0&&n.add(r);for(var s=new Array(n.size()).fill(null),l=0;l<s.length;l++)s[l]=n.get(l);return s},n.toString=function(){if(1===arguments.length){var t=arguments[0];return n.SIMPLE_ORDINATE_FORMAT.format(t)}},n.spaces=function(t){return n.chars(" ",t)},n.NEWLINE=l.a.getProperty("line.separator"),n.SIMPLE_ORDINATE_FORMAT=new a.a("0.#")},function(t,e,i){e.a=function(){}},function(t,e,i){e.a=function(){}},function(t,e,i){e.a=function(){}},function(t,e,i){e.a=function(){}},function(t,e,i){e.a=function(){}},function(t,e,i){e.a=function(){}},function(t,e,i){function n(){}e.a=n;var r=i(120),o=i(5),a=i(62),s=i(0),l=i(36),h=i(21);Object(s.a)(n.prototype,{readResolve:function(){return n.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new a.a(t)}if(Object(o.a)(arguments[0],l.a)){var e=arguments[0];return new a.a(e)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];return n>3&&(n=3),n<2?new a.a(i):new a.a(i,n)}},interfaces_:function(){return[r.a,h.a]},getClass:function(){return n}}),n.instance=function(){return n.instanceObject},n.serialVersionUID=-0x38e49fa6cf6f2e00,n.instanceObject=new n},function(t,e,i){function n(t,e,i){var n=[0],r=!1;return t.push(n),{next:function(){var o,a=n[0];return!r&&a<e.length?(o=i?[e[a],i[a]]:e[a],n[0]++):(r=!0,t.splice(t.indexOf(n),1)),{done:r,value:o}}}}function r(){return this._values.length}var o,a=Object.defineProperty;e.a=function(t,e){function i(t){if(!this||this.constructor!==i)return new i(t);this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,t&&function(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}.call(this,t)}return e||a(t,"size",{get:r}),t.constructor=i,i.prototype=t,i}({delete:function(t){return this.has(t)&&(this._keys.splice(o,1),this._values.splice(o,1),this._itp.forEach(function(t){o<t[0]&&t[0]--})),o>-1},has:function(t){return function(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(o=t.length;o--&&((i=t[o])!==(n=e)&&(i==i||n==n)););else o=t.indexOf(e);var i,n;return o>-1}.call(this,this._keys,t)},get:function(t){return this.has(t)?this._values[o]:void 0},set:function(t,e){return this.has(t)?this._values[o]=e:this._values[this._keys.push(t)-1]=e,this},keys:function(){return n(this._itp,this._keys)},values:function(){return n(this._itp,this._values)},entries:function(){return n(this._itp,this._keys,this._values)},forEach:function(t,e){for(var i=this.entries();;){var n=i.next();if(n.done)break;t.call(e,n.value[1],n.value[0],this)}},clear:function(){(this._keys||0).length=this._values.length=0}})},function(t,e,i){i(207),i(8),i(94),i(210),i(251),i(252),i(22),i(145),i(258),i(259)},function(t,e,i){function n(){this._areaBasePt=null,this._triangleCent3=new s.a,this._areasum2=0,this._cg3=new s.a,this._lineCentSum=new s.a,this._totalLength=0,this._ptCount=0,this._ptCentSum=new s.a;var t=arguments[0];this._areaBasePt=null,this.add(t)}var r=i(9),o=i(8),a=i(12),s=i(2),l=i(25),h=i(16),u=i(0),c=i(13);Object(u.a)(n.prototype,{addPoint:function(t){this._ptCount+=1,this._ptCentSum.x+=t.x,this._ptCentSum.y+=t.y},setBasePoint:function(t){null===this._areaBasePt&&(this._areaBasePt=t)},addLineSegments:function(t){for(var e=0,i=0;i<t.length-1;i++){var n=t[i].distance(t[i+1]);if(0!==n){e+=n;var r=(t[i].x+t[i+1].x)/2;this._lineCentSum.x+=n*r;var o=(t[i].y+t[i+1].y)/2;this._lineCentSum.y+=n*o}}this._totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=o.a.isCCW(t),i=0;i<t.length-1;i++)this.addTriangle(this._areaBasePt,t[i],t[i+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new s.a;if(Math.abs(this._areasum2)>0)t.x=this._cg3.x/3/this._areasum2,t.y=this._cg3.y/3/this._areasum2;else if(this._totalLength>0)t.x=this._lineCentSum.x/this._totalLength,t.y=this._lineCentSum.y/this._totalLength;else{if(!(this._ptCount>0))return null;t.x=this._ptCentSum.x/this._ptCount,t.y=this._ptCentSum.y/this._ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!o.a.isCCW(t),i=0;i<t.length-1;i++)this.addTriangle(this._areaBasePt,t[i],t[i+1],e);this.addLineSegments(t)},addTriangle:function(t,e,i,r){var o=r?1:-1;n.centroid3(t,e,i,this._triangleCent3);var a=n.area2(t,e,i);this._cg3.x+=o*a*this._triangleCent3.x,this._cg3.y+=o*a*this._triangleCent3.y,this._areasum2+=o*a},add:function(){if(arguments[0]instanceof h.a){var t=arguments[0];for(this.addShell(t.getExteriorRing().getCoordinates()),o=0;o<t.getNumInteriorRing();o++)this.addHole(t.getInteriorRingN(o).getCoordinates())}else if(arguments[0]instanceof a.a){var e=arguments[0];if(e.isEmpty())return null;if(e instanceof l.a)this.addPoint(e.getCoordinate());else if(e instanceof r.a)this.addLineSegments(e.getCoordinates());else if(e instanceof h.a){var i=e;this.add(i)}else if(e instanceof c.a)for(var n=e,o=0;o<n.getNumGeometries();o++)this.add(n.getGeometryN(o))}},interfaces_:function(){return[]},getClass:function(){return n}}),n.area2=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(i.x-t.x)*(e.y-t.y)},n.centroid3=function(t,e,i,n){return n.x=t.x+e.x+i.x,n.y=t.y+e.y+i.y,null},n.getCentroid=function(t){return new n(t).getCentroid()}},function(t,e,i){function n(t){this.message=t||""}e.a=n,(n.prototype=new Error).name="EmptyStackException"},function(t,e,i){function n(){this.treeSet=new r.a,this.list=new s.a}e.a=n;var r=i(47),o=i(52),a=i(0),s=i(1);Object(a.a)(n.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[o.a]},getClass:function(){return n}}),n.filterCoordinates=function(t){for(var e=new n,i=0;i<t.length;i++)e.filter(t[i]);return e.getCoordinates()}},function(t,e,i){function n(){this._factory=null,this._interiorPoint=null,this._maxWidth=0;var t=arguments[0];this._factory=t.getFactory(),this.add(t)}function r(){this._poly=null,this._centreY=null,this._hiY=h.a.MAX_VALUE,this._loY=-h.a.MAX_VALUE;var t=arguments[0];this._poly=t,this._hiY=t.getEnvelopeInternal().getMaxY(),this._loY=t.getEnvelopeInternal().getMinY(),this._centreY=n.avg(this._loY,this._hiY)}var o=i(12),a=i(2),s=i(16),l=i(74),h=i(11),u=i(0),c=i(13),f=i(41);Object(u.a)(n.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,i=0,r=this.horizontalBisector(t);if(0===r.getLength())i=0,e=r.getCoordinate();else{var o=l.a.overlayOp(r,t,f.a.INTERSECTION),a=this.widestGeometry(o);i=a.getEnvelopeInternal().getWidth(),e=n.centre(a.getEnvelopeInternal())}(null===this._interiorPoint||i>this._maxWidth)&&(this._interiorPoint=e,this._maxWidth=i)},getInteriorPoint:function(){return this._interiorPoint},widestGeometry:function(){if(arguments[0]instanceof c.a){var t=arguments[0];if(t.isEmpty())return t;for(var e=t.getGeometryN(0),i=1;i<t.getNumGeometries();i++)t.getGeometryN(i).getEnvelopeInternal().getWidth()>e.getEnvelopeInternal().getWidth()&&(e=t.getGeometryN(i));return e}if(arguments[0]instanceof o.a){var n=arguments[0];return n instanceof c.a?this.widestGeometry(n):n}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),i=r.getBisectorY(t);return this._factory.createLineString([new a.a(e.getMinX(),i),new a.a(e.getMaxX(),i)])},add:function(t){if(t instanceof s.a)this.addPolygon(t);else if(t instanceof c.a)for(var e=t,i=0;i<e.getNumGeometries();i++)this.add(e.getGeometryN(i))},interfaces_:function(){return[]},getClass:function(){return n}}),n.centre=function(t){return new a.a(n.avg(t.getMinX(),t.getMaxX()),n.avg(t.getMinY(),t.getMaxY()))},n.avg=function(t,e){return(t+e)/2},Object(u.a)(r.prototype,{updateInterval:function(t){t<=this._centreY?t>this._loY&&(this._loY=t):t>this._centreY&&t<this._hiY&&(this._hiY=t)},getBisectorY:function(){this.process(this._poly.getExteriorRing());for(var t=0;t<this._poly.getNumInteriorRing();t++)this.process(this._poly.getInteriorRingN(t));return n.avg(this._hiY,this._loY)},process:function(t){for(var e=t.getCoordinateSequence(),i=0;i<e.size();i++){var n=e.getY(i);this.updateInterval(n)}},interfaces_:function(){return[]},getClass:function(){return r}}),r.getBisectorY=function(t){return new r(t).getBisectorY()},n.SafeBisectorFinder=r},function(t,e,i){function n(){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null;var t=arguments[0],e=arguments[1];this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()}e.a=n;var r=i(212),o=i(0),a=i(23),s=i(214),l=i(41);Object(o.a)(n.prototype,{selfSnap:function(t){return new r.a(t).snapTo(t,this._snapTolerance)},removeCommonBits:function(t){this._cbr=new s.a,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this._cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this._geom),i=l.a.overlayOp(e[0],e[1],t);return this.prepareResult(i)},checkValid:function(t){t.isValid()||a.a.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this._snapTolerance=r.a.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},snap:function(t){var e=this.removeCommonBits(t);return r.a.snap(e[0],e[1],this._snapTolerance)},interfaces_:function(){return[]},getClass:function(){return n}}),n.overlayOp=function(t,e,i){return new n(t,e).getResultGeometry(i)},n.union=function(t,e){return n.overlayOp(t,e,l.a.UNION)},n.intersection=function(t,e){return n.overlayOp(t,e,l.a.INTERSECTION)},n.symDifference=function(t,e){return n.overlayOp(t,e,l.a.SYMDIFFERENCE)},n.difference=function(t,e){return n.overlayOp(t,e,l.a.DIFFERENCE)}},function(t,e,i){function n(){this._srcGeom=null;var t=arguments[0];this._srcGeom=t}function r(){if(a.a.apply(this),this._snapTolerance=null,this._snapPts=null,this._isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._snapTolerance=t,this._snapPts=e}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];this._snapTolerance=i,this._snapPts=n,this._isSelfSnap=r}}e.a=n;var o=i(47),a=i(75),s=i(5),l=i(11),h=i(0),u=i(213),c=i(53),f=i(39),d=i(3);Object(h.a)(n.prototype,{snapTo:function(t,e){return new r(e,this.extractTargetCoordinates(t)).transform(this._srcGeom)},snapToSelf:function(t,e){var i=new r(t,this.extractTargetCoordinates(this._srcGeom),!0).transform(this._srcGeom),n=i;return e&&Object(s.a)(n,f.a)&&(n=i.buffer(0)),n},computeSnapTolerance:function(t){return this.computeMinimumSegmentLength(t)/10},extractTargetCoordinates:function(t){for(var e=new o.a,i=t.getCoordinates(),n=0;n<i.length;n++)e.add(i[n]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=l.a.MAX_VALUE,i=0;i<t.length-1;i++){var n=t[i].distance(t[i+1]);n<e&&(e=n)}return e},interfaces_:function(){return[]},getClass:function(){return n}}),n.snap=function(t,e,i){var r=new Array(2).fill(null),o=new n(t);r[0]=o.snapTo(e,i);var a=new n(e);return r[1]=a.snapTo(r[0],i),r},n.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=n.computeSizeBasedSnapTolerance(t),i=t.getPrecisionModel();if(i.getType()===c.a.FIXED){var r=1/i.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var o=arguments[0],a=arguments[1];return Math.min(n.computeOverlaySnapTolerance(o),n.computeOverlaySnapTolerance(a))}},n.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*n.SNAP_PRECISION_FACTOR},n.snapToSelf=function(t,e,i){return new n(t).snapToSelf(e,i)},n.SNAP_PRECISION_FACTOR=1e-9,Object(d.a)(r,a.a),Object(h.a)(r.prototype,{snapLine:function(t,e){var i=new u.a(t,this._snapTolerance);return i.setAllowSnappingToSourceVertices(this._isSelfSnap),i.snapTo(e)},transformCoordinates:function(t,e){var i=t.toCoordinateArray(),n=this.snapLine(i,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(n)},interfaces_:function(){return[]},getClass:function(){return r}})},function(t,e,i){function n(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new h.a,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof r.a&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];n.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var i=arguments[0],o=arguments[1];this._srcPts=i,this._isClosed=n.isClosed(i),this._snapTolerance=o}}e.a=n;var r=i(9),o=i(18),a=i(2),s=i(11),l=i(0),h=i(14);Object(l.a)(n.prototype,{snapVertices:function(t,e){for(var i=this._isClosed?t.size()-1:t.size(),n=0;n<i;n++){var r=t.get(n),o=this.findSnapForVertex(r,e);null!==o&&(t.set(n,new a.a(o)),0===n&&this._isClosed&&t.set(t.size()-1,new a.a(o)))}},findSnapForVertex:function(t,e){for(var i=0;i<e.length;i++){if(t.equals2D(e[i]))return null;if(t.distance(e[i])<this._snapTolerance)return e[i]}return null},snapTo:function(t){var e=new o.a(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},snapSegments:function(t,e){if(0===e.length)return null;var i=e.length;e[0].equals2D(e[e.length-1])&&(i=e.length-1);for(var n=0;n<i;n++){var r=e[n],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new a.a(r),!1)}},findSegmentIndexToSnap:function(t,e){for(var i=s.a.MAX_VALUE,n=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<i&&(i=o,n=r)}return n},setAllowSnappingToSourceVertices:function(t){this._allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return n}}),n.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])}},function(t,e,i){function n(){this._commonCoord=null,this._ccFilter=new r}function r(){this._commonBitsX=new a.a,this._commonBitsY=new a.a}function o(){this.trans=null;var t=arguments[0];this.trans=t}e.a=n;var a=i(215),s=i(52),l=i(2),h=i(0),u=i(61);Object(h.a)(n.prototype,{addCommonBits:function(t){var e=new o(this._commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new l.a(this._commonCoord);e.x=-e.x,e.y=-e.y;var i=new o(e);return t.apply(i),t.geometryChanged(),t},getCommonCoordinate:function(){return this._commonCoord},add:function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return n}}),Object(h.a)(r.prototype,{filter:function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},getCommonCoordinate:function(){return new l.a(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},interfaces_:function(){return[s.a]},getClass:function(){return r}}),Object(h.a)(o.prototype,{filter:function(t,e){var i=t.getOrdinate(e,0)+this.trans.x,n=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,i),t.setOrdinate(e,1,n)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[u.a]},getClass:function(){return o}}),n.CommonCoordinateFilter=r,n.Translater=o},function(t,e,i){function n(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null}e.a=n;var r=i(11),o=i(0);Object(o.a)(n.prototype,{getCommon:function(){return r.a.longBitsToDouble(this._commonBits)},add:function(t){var e=r.a.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=n.signExpBits(this._commonBits),this._isFirst=!1,null):n.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=n.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=n.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=r.a.longBitsToDouble(t),i="0000000000000000000000000000000000000000000000000000000000000000"+Long.toBinaryString(t),n=i.substring(i.length-64);return n.substring(0,1)+"  "+n.substring(1,12)+"(exp) "+n.substring(12)+" [ "+e+" ]"}},interfaces_:function(){return[]},getClass:function(){return n}}),n.getBit=function(t,e){return 0!=(t&1<<e)?1:0},n.signExpBits=function(t){return t>>52},n.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},n.numCommonMostSigMantissaBits=function(t,e){for(var i=0,r=52;r>=0;r--){if(n.getBit(t,r)!==n.getBit(e,r))return i;i++}return 52}},function(t,e,i){function n(){this._nv=null;var t=arguments[0];this._nv=new a.a(n.toSegmentStrings(t))}e.a=n;var r=i(217),o=i(0),a=i(218),s=i(1);Object(o.a)(n.prototype,{checkValid:function(){this._nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return n}}),n.toSegmentStrings=function(t){for(var e=new s.a,i=t.iterator();i.hasNext();){var n=i.next();e.add(new r.a(n.getCoordinates(),n))}return e},n.checkValid=function(t){new n(t).checkValid()}},function(t,e,i){function n(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}e.a=n;var r=i(27),o=i(62),a=i(128),s=i(0),l=i(95);Object(s.a)(n.prototype,{getCoordinates:function(){return this._pts},size:function(){return this._pts.length},getCoordinate:function(t){return this._pts[t]},isClosed:function(){return this._pts[0].equals(this._pts[this._pts.length-1])},getSegmentOctant:function(t){return t===this._pts.length-1?-1:a.a.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this._data=t},getData:function(){return this._data},toString:function(){return r.a.toLineString(new o.a(this._pts))},interfaces_:function(){return[l.a]},getClass:function(){return n}})},function(t,e,i){function n(){this._li=new l.a,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t}e.a=n;var r=i(27),o=i(76),a=i(42),s=i(0),l=i(22),h=i(230);Object(s.a)(n.prototype,{execute:function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},getIntersections:function(){return this._segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this._findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this._segInt=new h.a(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new o.a;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},checkValid:function(){if(this.execute(),!this._isValid)throw new a.a(this.getErrorMessage(),this._segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+r.a.toLineString(t[0],t[1])+" and "+r.a.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return n}}),n.computeIntersections=function(t){var e=new n(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()}},function(t,e,i){function n(){this._size=null,this._items=null,this._size=0,this._items=new o.a,this._items.add(null)}e.a=n;var r=i(0),o=i(1);Object(r.a)(n.prototype,{poll:function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,i=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(i)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,i)},clear:function(){this._size=0,this._items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],i=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=i,this._distance=this.distance()}e.a=n;var r=i(6),o=i(96),a=i(0),s=i(20);Object(a.a)(n.prototype,{expandToQueue:function(t,e){var i=n.isComposite(this._boundable1),o=n.isComposite(this._boundable2);if(i&&o)return n.area(this._boundable1)>n.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(i)return this.expand(this._boundable1,this._boundable2,t,e),null;if(o)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new r.a("neither boundable is composite")},isLeaves:function(){return!(n.isComposite(this._boundable1)||n.isComposite(this._boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,i,r){for(var o=t.getChildBoundables().iterator();o.hasNext();){var a=new n(o.next(),e,this._itemDistance);a.getDistance()<r&&i.add(a)}},getBoundable:function(t){return 0===t?this._boundable1:this._boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},interfaces_:function(){return[s.a]},getClass:function(){return n}}),n.area=function(t){return t.getBounds().getArea()},n.isComposite=function(t){return t instanceof o.a}},function(t,e,i){function n(){if(this._root=null,this._built=!1,this._itemBoundables=new u.a,this._nodeCapacity=null,0===arguments.length)n.call(this,n.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];f.a.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}}e.a=n;var r=i(129),o=i(5),a=i(54),s=i(96),l=i(0),h=i(35),u=i(1),c=i(21),f=i(4),d=i(32);Object(l.a)(n.prototype,{getNodeCapacity:function(){return this._nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var i=e.next();i instanceof s.a?t+=this.size(i):i instanceof r.a&&(t+=1)}return t}},removeItem:function(t,e){for(var i=null,n=t.getChildBoundables().iterator();n.hasNext();){var o=n.next();o instanceof r.a&&o.getItem()===e&&(i=o)}return null!==i&&(t.getChildBoundables().remove(i),!0)},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new u.a:t}if(1===arguments.length){for(var e=arguments[0],i=new u.a,n=e.getChildBoundables().iterator();n.hasNext();){var o=n.next();if(o instanceof s.a){var a=this.itemsTree(o);null!==a&&i.add(a)}else o instanceof r.a?i.add(o.getItem()):f.a.shouldNeverReachHere()}return i.size()<=0?null:i}},insert:function(t,e){f.a.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new r.a(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new u.a;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var i=arguments[0],n=arguments[1],o=arguments[2];if(f.a.isTrue(i>-2),n.getLevel()===i)return o.add(n),null;for(var a=n.getChildBoundables().iterator();a.hasNext();){var l=a.next();l instanceof s.a?this.boundablesAtLevel(i,l,o):(f.a.isTrue(l instanceof r.a),-1===i&&o.add(l))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new u.a;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var i=arguments[0],n=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),i)&&this.query(i,this._root,n)}else if(3===arguments.length)if(Object(o.a)(arguments[2],a.a)&&arguments[0]instanceof Object&&arguments[1]instanceof s.a)for(var l=arguments[0],h=arguments[1],c=arguments[2],p=h.getChildBoundables(),g=0;g<p.size();g++)v=p.get(g),this.getIntersectsOp().intersects(v.getBounds(),l)&&(v instanceof s.a?this.query(l,v,c):v instanceof r.a?c.visitItem(v.getItem()):f.a.shouldNeverReachHere());else if(Object(o.a)(arguments[2],d.a)&&arguments[0]instanceof Object&&arguments[1]instanceof s.a){var _=arguments[0],m=arguments[1],y=arguments[2];for(p=m.getChildBoundables(),g=0;g<p.size();g++){var v=p.get(g);this.getIntersectsOp().intersects(v.getBounds(),_)&&(v instanceof s.a?this.query(_,v,y):v instanceof r.a?y.add(v.getItem()):f.a.shouldNeverReachHere())}}},build:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},getRoot:function(){return this.build(),this._root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2],o=this.removeItem(n,r);if(o)return!0;for(var a=null,l=n.getChildBoundables().iterator();l.hasNext();){var h=l.next();if(this.getIntersectsOp().intersects(h.getBounds(),i)&&h instanceof s.a&&(o=this.remove(i,h,r))){a=h;break}}return null!==a&&a.getChildBoundables().isEmpty()&&n.getChildBoundables().remove(a),o}},createHigherLevels:function(t,e){f.a.isTrue(!t.isEmpty());var i=this.createParentBoundables(t,e+1);return 1===i.size()?i.get(0):this.createHigherLevels(i,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var i=e.next();if(i instanceof s.a){var n=this.depth(i);n>t&&(t=n)}}return t+1}},createParentBoundables:function(t,e){f.a.isTrue(!t.isEmpty());var i=new u.a;i.add(this.createNode(e));var n=new u.a(t);h.a.sort(n,this.getComparator());for(var r=n.iterator();r.hasNext();){var o=r.next();this.lastNode(i).getChildBoundables().size()===this.getNodeCapacity()&&i.add(this.createNode(e)),this.lastNode(i).addChildBoundable(o)}return i},isEmpty:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},interfaces_:function(){return[c.a]},getClass:function(){return n}}),n.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},n.IntersectsOp=function(){},n.serialVersionUID=-0x35ef64c82d4c5400,n.DEFAULT_NODE_CAPACITY=10},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._nodeMap=new g.a,this._edge=null;var t=arguments[0];this._edge=t}function r(){this._nodeList=null,this._edge=null,this._nodeIt=null,this._currNode=null,this._nextNode=null,this._currSegIndex=0;var t=arguments[0];this._nodeList=t,this._edge=t.getEdge(),this._nodeIt=t.iterator(),this.readNextNode()}e.a=n;var o=i(18),a=i(224),s=i(51),l=i(2),h=i(65),u=i(0),c=i(57),f=i(1),d=i(45),p=i(4),g=i(34);Object(u.a)(n.prototype,{getSplitCoordinates:function(){var t=new o.a;this.addEndpoints();for(var e=this.iterator(),i=e.next();e.hasNext();){var n=e.next();this.addEdgeCoordinates(i,n,t),i=n}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new f.a;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var i=e.next().intValue();this.add(this._edge.getCoordinate(i),i)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this._edge.size()-2;e++){var i=this._edge.getCoordinate(e),n=(this._edge.getCoordinate(e+1),this._edge.getCoordinate(e+2));i.equals2D(n)&&t.add(new c.a(e+1))}},addEdgeCoordinates:function(t,e,i){e.segmentIndex,t.segmentIndex;var n=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(n);i.add(new l.a(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)i.add(this._edge.getCoordinate(o));r&&i.add(new l.a(e.coord))},iterator:function(){return this._nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),i=e.next();e.hasNext();){var n=e.next(),r=this.createSplitEdge(i,n);t.add(r),i=n}},findCollapseIndex:function(t,e,i){if(!t.coord.equals2D(e.coord))return!1;var n=e.segmentIndex-t.segmentIndex;return e.isInterior()||n--,1===n&&(i[0]=t.segmentIndex+1,!0)},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),i=this.iterator(),n=i.next();i.hasNext();){var r=i.next();this.findCollapseIndex(n,r,e)&&t.add(new c.a(e[0])),n=r}},getEdge:function(){return this._edge},addEndpoints:function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var i=e.segmentIndex-t.segmentIndex+2,n=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(n);r||i--;var o=new Array(i).fill(null),a=0;o[a++]=new l.a(t.coord);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return r&&(o[a]=new l.a(e.coord)),new h.a(o,this._edge.getData())},add:function(t,e){var i=new a.a(this._edge,t,e,this._edge.getSegmentOctant(e)),n=this._nodeMap.get(i);return null!==n?(p.a.isTrue(n.coord.equals2D(t),"Found equal nodes with different coordinates"),n):(this._nodeMap.put(i,i),i)},checkSplitEdgesCorrectness:function(t){var e=this._edge.getCoordinates(),i=t.get(0).getCoordinate(0);if(!i.equals2D(e[0]))throw new d.a("bad split edge start point at "+i);var n=t.get(t.size()-1).getCoordinates(),r=n[n.length-1];if(!r.equals2D(e[e.length-1]))throw new d.a("bad split edge end point at "+r)},interfaces_:function(){return[]},getClass:function(){return n}}),Object(u.a)(r.prototype,{next:function(){return null===this._currNode?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):null===this._nextNode?null:this._nextNode.segmentIndex===this._currNode.segmentIndex?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):(this._nextNode.segmentIndex,this._currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this._nextNode},readNextNode:function(){this._nodeIt.hasNext()?this._nextNode=this._nodeIt.next():this._nextNode=null},interfaces_:function(){return[s.a]},getClass:function(){return r}})},function(t,e,i){function n(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this._segString=t,this.coord=new r.a(e),this.segmentIndex=i,this._segmentOctant=n,this._isInterior=!e.equals2D(t.getCoordinate(i))}e.a=n;var r=i(2),o=i(0),a=i(225),s=i(20);Object(o.a)(n.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:a.a.compare(this._segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},isInterior:function(){return this._isInterior},interfaces_:function(){return[s.a]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(0),o=i(4);Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.relativeSign=function(t,e){return t<e?-1:t>e?1:0},n.compare=function(t,e,i){if(e.equals2D(i))return 0;var r=n.relativeSign(e.x,i.x),a=n.relativeSign(e.y,i.y);switch(t){case 0:return n.compareValue(r,a);case 1:return n.compareValue(a,r);case 2:return n.compareValue(a,-r);case 3:return n.compareValue(-r,a);case 4:return n.compareValue(-r,-a);case 5:return n.compareValue(-a,-r);case 6:return n.compareValue(-a,r);case 7:return n.compareValue(r,-a)}return o.a.shouldNeverReachHere("invalid octant value"),0},n.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0}},function(t,e,i){function n(){}e.a=n;var r=i(0),o=i(95);Object(r.a)(n.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[o.a]},getClass:function(){return n}})},function(t,e,i){function n(){this.tempEnv1=new a.a,this.tempEnv2=new a.a,this._overlapSeg1=new o.a,this._overlapSeg2=new o.a}e.a=n;var r=i(0),o=i(14),a=i(7);Object(r.a)(n.prototype,{overlap:function(){if(2===arguments.length)arguments[0],arguments[1];else if(4===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];t.getLineSegment(e,this._overlapSeg1),i.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this._pts=t,this._start=e,this._end=i,this._context=n}e.a=n;var r=i(0),o=i(7);Object(r.a)(n.prototype,{getLineSegment:function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},computeSelect:function(t,e,i,n){var r=this._pts[e],o=this._pts[i];if(n.tempEnv1.init(r,o),i-e==1)return n.select(this,e),null;if(!t.intersects(n.tempEnv1))return null;var a=Math.trunc((e+i)/2);e<a&&this.computeSelect(t,e,a,n),a<i&&this.computeSelect(t,a,i,n)},getCoordinates:function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,i=this._start;i<=this._end;i++)t[e++]=this._pts[i];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},setId:function(t){this._id=t},select:function(t,e){this.computeSelect(t,this._start,this._end,e)},getEnvelope:function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new o.a(t,e)}return this._env},getEndIndex:function(){return this._end},getStartIndex:function(){return this._start},getContext:function(){return this._context},getId:function(){return this._id},computeOverlapsInternal:function(t,e,i,n,r,o){var a=this._pts[t],s=this._pts[e],l=i._pts[n],h=i._pts[r];if(e-t==1&&r-n==1)return o.overlap(this,t,i,n),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(l,h),!o.tempEnv1.intersects(o.tempEnv2))return null;var u=Math.trunc((t+e)/2),c=Math.trunc((n+r)/2);t<u&&(n<c&&this.computeOverlapsInternal(t,u,i,n,c,o),c<r&&this.computeOverlapsInternal(t,u,i,c,r,o)),u<e&&(n<c&&this.computeOverlapsInternal(u,e,i,n,c,o),c<r&&this.computeOverlapsInternal(u,e,i,c,r,o))},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}e.a=n;var r=i(97),o=i(0);Object(o.a)(n.prototype,{setSegmentIntersector:function(t){this._segInt=t},interfaces_:function(){return[r.a]},getClass:function(){return n}})},function(t,e,i){function n(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new a.a,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null}e.a=n;var r=i(0),o=i(98),a=i(1);Object(r.a)(n.prototype,{getInteriorIntersection:function(){return this._interiorIntersection},setCheckEndSegmentsOnly:function(t){this._isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this._intSegments},count:function(){return this._intersectionCount},getIntersections:function(){return this._intersections},setFindAllIntersections:function(t){this._findAllIntersections=t},setKeepIntersections:function(t){this._keepIntersections=t},processIntersections:function(t,e,i,n){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===i&&e===n)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(i,n))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=i.getCoordinates()[n],s=i.getCoordinates()[n+1];this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},isEndSegment:function(t,e){return 0===e||e>=t.size()-2},hasIntersection:function(){return null!==this._interiorIntersection},isDone:function(){return!this._findAllIntersections&&null!==this._interiorIntersection},interfaces_:function(){return[o.a]},getClass:function(){return n}}),n.createAllIntersectionsFinder=function(t){var e=new n(t);return e.setFindAllIntersections(!0),e},n.createAnyIntersectionFinder=function(t){return new n(t)},n.createIntersectionCounter=function(t){var e=new n(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e}},function(t,e,i){function n(){this._mapOp=null;var t=arguments[0];this._mapOp=t}e.a=n;var r=i(15),o=i(0),a=i(1);Object(o.a)(n.prototype,{map:function(t){for(var e=new a.a,i=0;i<t.getNumGeometries();i++){var n=this._mapOp.map(t.getGeometryN(i));n.isEmpty()||e.add(n)}return t.getFactory().createGeometryCollection(r.a.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return n}}),n.map=function(t,e){return new n(e).map(t)}},function(t,e,i){function n(){var t=arguments[0],e=arguments[1];o.a.call(this,t,e)}e.a=n;var r=i(0),o=i(135),a=i(3);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[a.a.ON]=e}else if(arguments[0]instanceof n){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],l=arguments[2];this.init(3),this.location[a.a.ON]=o,this.location[a.a.LEFT]=s,this.location[a.a.RIGHT]=l}}e.a=n;var r=i(33),o=i(10),a=i(17),s=i(0);Object(s.a)(n.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==o.a.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===o.a.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[a.a.ON]=this.location[a.a.ON],e[a.a.LEFT]=o.a.NONE,e[a.a.RIGHT]=o.a.NONE,this.location=e}for(var i=0;i<this.location.length;i++)this.location[i]===o.a.NONE&&i<t.location.length&&(this.location[i]=t.location[i])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[a.a.LEFT];this.location[a.a.LEFT]=this.location[a.a.RIGHT],this.location[a.a.RIGHT]=t},toString:function(){var t=new r.a;return this.location.length>1&&t.append(o.a.toLocationSymbol(this.location[a.a.LEFT])),t.append(o.a.toLocationSymbol(this.location[a.a.ON])),this.location.length>1&&t.append(o.a.toLocationSymbol(this.location[a.a.RIGHT])),t.toString()},setLocations:function(t,e,i){this.location[a.a.ON]=t,this.location[a.a.LEFT]=e,this.location[a.a.RIGHT]=i},get:function(t){return t<this.location.length?this.location[t]:o.a.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===o.a.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(a.a.ON,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this.location[e]=i}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(o.a.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new o.a,this._resultLineList=new o.a;var t=arguments[0],e=arguments[1],i=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=i}e.a=n;var r=i(0),o=i(1),a=i(4),s=i(41);Object(r.a)(n.prototype,{collectLines:function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var i=e.next();this.collectLineEdge(i,t,this._lineEdgesList),this.collectBoundaryTouchEdge(i,t,this._lineEdgesList)}},labelIsolatedLine:function(t,e){var i=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,i)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},collectLineEdge:function(t,e,i){var n=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!s.a.isResultOfOp(n,e)||r.isCovered()||(i.add(r),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var i=e.next(),n=i.getEdge();if(i.isLineEdge()&&!n.isCoveredSet()){var r=this._op.isCoveredByA(i.getCoordinate());n.setCovered(r)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),n=i.getLabel();i.isIsolated()&&(n.isNull(0)?this.labelIsolatedLine(i,0):this.labelIsolatedLine(i,1))}},buildLines:function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var i=e.next(),n=(i.getLabel(),this._geometryFactory.createLineString(i.getCoordinates()));this._resultLineList.add(n),i.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,i){var n=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(a.a.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(s.a.isResultOfOp(n,e)&&e===s.a.INTERSECTION&&(i.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._op=null,this._geometryFactory=null,this._resultPointList=new o.a;var t=arguments[0],e=arguments[1];arguments[2],this._op=t,this._geometryFactory=e}e.a=n;var r=i(0),o=i(1),a=i(41);Object(r.a)(n.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var i=this._geometryFactory.createPoint(e);this._resultPointList.add(i)}},extractNonCoveredResultNodes:function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var i=e.next();if(!(i.isInResult()||i.isIncidentEdgeInResult()||0!==i.getEdges().getDegree()&&t!==a.a.INTERSECTION)){var n=i.getLabel();a.a.isResultOfOp(n,t)&&this.filterCoveredNodeToPoint(i)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){l.a.apply(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}e.a=n;var r=i(10),o=i(17),a=i(42),s=i(0),l=i(138),h=i(23),u=i(26),c=i(1),f=i(48),d=i(4),p=i(3);Object(p.a)(n,l.a),Object(s.a)(n.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,i=this._SCANNING_FOR_INCOMING,n=0;n<this._resultAreaEdgeList.size();n++){var r=this._resultAreaEdgeList.get(n),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),i){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),i=this._SCANNING_FOR_INCOMING}}if(i===this._LINKING_TO_OUTGOING){if(null===t)throw new a.a("no outgoing dirEdge found",this.getCoordinate());d.a.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var i=t.get(0);if(1===e)return i;var n=t.get(e-1),r=i.getQuadrant(),o=n.getQuadrant();return f.a.isNorthern(r)&&f.a.isNorthern(o)?i:f.a.isNorthern(r)||f.a.isNorthern(o)?0!==i.getDy()?i:0!==n.getDy()?n:(d.a.shouldNeverReachHere("found two horizontal edges incident on node"),null):n},print:function(t){h.a.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var i=e.next();t.print("out "),i.print(t),t.println(),t.print("in "),i.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new c.a;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var i=e.next().getLabel();i.setAllLocationsIfNull(0,t.getLocation(0)),i.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,i=this._edgeList.size()-1;i>=0;i--){var n=this._edgeList.get(i),r=n.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=n}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),i=(t.getLabel(),t.getDepth(o.a.LEFT)),n=t.getDepth(o.a.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),i);if(this.computeDepths(0,e,r)!==n)throw new a.a("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[0],l=arguments[1],h=arguments[2],u=s;u<l;u++){var c=this._edgeList.get(u);c.getLabel(),c.setEdgeDepths(o.a.RIGHT,h),h=c.getDepth(o.a.LEFT)}return h}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,i=null,n=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),a=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),n){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==t)continue;i=a,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;i.setNextMin(o),n=this._SCANNING_FOR_INCOMING}}n===this._LINKING_TO_OUTGOING&&(d.a.isTrue(null!==e,"found null for first outgoing dirEdge"),d.a.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),i.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)(n=e.next()).isInResult()&&t++;return t}if(1===arguments.length){var i=arguments[0];for(t=0,e=this.iterator();e.hasNext();){var n=e.next();n.getEdgeRing()===i&&t++}return t}},getLabel:function(){return this._label},findCoveredLineEdges:function(){for(var t=r.a.NONE,e=this.iterator();e.hasNext();)if(o=(n=e.next()).getSym(),!n.isLineEdge()){if(n.isInResult()){t=r.a.INTERIOR;break}if(o.isInResult()){t=r.a.EXTERIOR;break}}if(t===r.a.NONE)return null;var i=t;for(e=this.iterator();e.hasNext();){var n=e.next(),o=n.getSym();n.isLineEdge()?n.getEdge().setCovered(i===r.a.INTERIOR):(n.isInResult()&&(i=r.a.EXTERIOR),o.isInResult()&&(i=r.a.INTERIOR))}},computeLabelling:function(t){l.a.prototype.computeLabelling.call(this,t),this._label=new u.a(r.a.NONE);for(var e=this.iterator();e.hasNext();)for(var i=e.next().getEdge().getLabel(),n=0;n<2;n++){var o=i.getLocation(n);o!==r.a.INTERIOR&&o!==r.a.BOUNDARY||this._label.setLocation(n,r.a.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){s.a.apply(this),this.events=new c.a,this.nOverlaps=null}e.a=n;var r=i(5),o=i(238),a=i(239),s=i(240),l=i(0),h=i(35),u=i(141),c=i(1),f=i(3),d=i(32);Object(f.a)(n,s.a),Object(l.a)(n.prototype,{prepareEvents:function(){h.a.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var i=this.events.get(e);if(i.isInsert()&&this.processOverlaps(e,i.getDeleteEventIndex(),i,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof u.a&&Object(r.a)(arguments[0],d.a)&&Object(r.a)(arguments[1],d.a)){var n=arguments[0],o=arguments[1],a=arguments[2];this.addEdges(n,n),this.addEdges(o,o),this.computeIntersections(a)}else if("boolean"==typeof arguments[2]&&Object(r.a)(arguments[0],d.a)&&arguments[1]instanceof u.a){var s=arguments[0],l=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(l)}},addEdge:function(t,e){for(var i=t.getMonotoneChainEdge(),n=i.getStartIndexes(),r=0;r<n.length-1;r++){var s=new o.a(i,r),l=new a.a(e,i.getMinX(r),s);this.events.add(l),this.events.add(new a.a(i.getMaxX(r),l))}},processOverlaps:function(t,e,i,n){for(var r=i.getObject(),o=t;o<e;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();i.isSameLabel(a)||(r.computeIntersections(s,n),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(i=arguments[0].iterator();i.hasNext();)n=i.next(),this.addEdge(n,n);else if(2===arguments.length)for(var t=arguments[0],e=arguments[1],i=t.iterator();i.hasNext();){var n=i.next();this.addEdge(n,e)}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}e.a=n;var r=i(0);Object(r.a)(n.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._eventType=n.DELETE,this._xValue=t,this._insertEvent=e}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._eventType=n.INSERT,this._label=i,this._xValue=r,this._obj=o}}e.a=n;var r=i(0),o=i(20);Object(r.a)(n.prototype,{isDelete:function(){return this._eventType===n.DELETE},setDeleteEventIndex:function(t){this._deleteEventIndex=t},getObject:function(){return this._obj},compareTo:function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},getInsertEvent:function(){return this._insertEvent},isInsert:function(){return this._eventType===n.INSERT},isSameLabel:function(t){return null!==this._label&&this._label===t._label},getDeleteEventIndex:function(){return this._deleteEventIndex},interfaces_:function(){return[o.a]},getClass:function(){return n}}),n.INSERT=1,n.DELETE=2},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._index=null;var t=arguments[0];if(!Object(a.a)(t,d.a))throw new s.a("Argument must be Polygonal");this._index=new o(t)}function r(){this._counter=null;var t=arguments[0];this._counter=t}function o(){this._index=new c.a;var t=arguments[0];this.init(t)}e.a=n;var a=i(5),s=i(6),l=i(54),h=i(140),u=i(0),c=i(242),f=i(14),d=i(39),p=i(69),g=i(143),_=i(124);Object(u.a)(n.prototype,{locate:function(t){var e=new _.a(t),i=new r(e);return this._index.query(t.y,t.y,i),e.getLocation()},interfaces_:function(){return[h.a]},getClass:function(){return n}}),Object(u.a)(r.prototype,{visitItem:function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[l.a]},getClass:function(){return r}}),Object(u.a)(o.prototype,{init:function(t){for(var e=p.a.getLines(t).iterator();e.hasNext();){var i=e.next().getCoordinates();this.addLine(i)}},addLine:function(t){for(var e=1;e<t.length;e++){var i=new f.a(t[e-1],t[e]),n=Math.min(i.p0.y,i.p1.y),r=Math.max(i.p0.y,i.p1.y);this._index.insert(n,r,i)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],i=new g.a;return this._index.query(t,e,i),i.getItems()}if(3===arguments.length){var n=arguments[0],r=arguments[1],o=arguments[2];this._index.query(n,r,o)}},interfaces_:function(){return[]},getClass:function(){return o}}),n.SegmentVisitor=r,n.IntervalIndexedGeometry=o},function(t,e,i){function n(){this._leaves=new u.a,this._root=null,this._level=0}e.a=n;var r=i(27),o=i(2),a=i(243),s=i(0),l=i(35),h=i(23),u=i(1),c=i(244);Object(s.a)(n.prototype,{buildTree:function(){l.a.sort(this._leaves,new IntervalRTreeNode.NodeComparator);for(var t=this._leaves,e=null,i=new u.a;;){if(this.buildLevel(t,i),1===i.size())return i.get(0);e=t,t=i,i=e}},insert:function(t,e,i){if(null!==this._root)throw new IllegalStateException("Index cannot be added to once it has been queried");this._leaves.add(new a.a(t,e,i))},query:function(t,e,i){this.init(),this._root.query(t,e,i)},buildRoot:function(){if(null!==this._root)return null;this._root=this.buildTree()},printNode:function(t){h.a.out.println(r.a.toLineString(new o.a(t._min,this._level),new o.a(t._max,this._level)))},init:function(){if(null!==this._root)return null;this.buildRoot()},buildLevel:function(t,e){this._level++,e.clear();for(var i=0;i<t.size();i+=2){var n=t.get(i);if(null===(i+1<t.size()?t.get(i):null))e.add(n);else{var r=new c.a(t.get(i),t.get(i+1));e.add(r)}}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){r.a.apply(this),this._item=null;var t=arguments[0],e=arguments[1],i=arguments[2];this._min=t,this._max=e,this._item=i}e.a=n;var r=i(142),o=i(0),a=i(3);Object(a.a)(n,r.a),Object(o.a)(n.prototype,{query:function(t,e,i){if(!this.intersects(t,e))return null;i.visitItem(this._item)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){r.a.apply(this),this._node1=null,this._node2=null;var t=arguments[0],e=arguments[1];this._node1=t,this._node2=e,this.buildExtent(this._node1,this._node2)}e.a=n;var r=i(142),o=i(0),a=i(3);Object(a.a)(n,r.a),Object(o.a)(n.prototype,{buildExtent:function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},query:function(t,e,i){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,i),null!==this._node2&&this._node2.query(t,e,i)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._nodeMap=new h.a,this.edge=null;var t=arguments[0];this.edge=t}e.a=n;var r=i(246),o=i(2),a=i(0),s=i(26),l=i(78),h=i(34);Object(a.a)(n.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},iterator:function(){return this._nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),i=e.next();e.hasNext();){var n=e.next(),r=this.createSplitEdge(i,n);t.add(r),i=n}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var i=e.segmentIndex-t.segmentIndex+2,n=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(n);r||i--;var a=new Array(i).fill(null),h=0;a[h++]=new o.a(t.coord);for(var u=t.segmentIndex+1;u<=e.segmentIndex;u++)a[h++]=this.edge.pts[u];return r&&(a[h]=e.coord),new l.a(a,new s.a(this.edge._label))},add:function(t,e,i){var n=new r.a(t,e,i),o=this._nodeMap.get(n);return null!==o?o:(this._nodeMap.put(n,n),n)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],i=arguments[2];this.coord=new r.a(t),this.segmentIndex=e,this.dist=i}e.a=n;var r=i(2),o=i(0),a=i(20);Object(o.a)(n.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[a.a]},getClass:function(){return n}})},function(t,e,i){function n(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new a.a,this.env2=new a.a;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new o.a;this.startIndex=e.getChainStartIndices(this.pts)}e.a=n;var r=i(0),o=i(248),a=i(7);Object(r.a)(n.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return e>i?e:i},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,i=this.pts[this.startIndex[t+1]].x;return e<i?e:i},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[i],e.startIndex[i+1],n)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],h=arguments[5],u=this.pts[r],c=this.pts[o],f=a.pts[s],d=a.pts[l];if(o-r==1&&l-s==1)return h.addIntersections(this.e,r,a.e,s),null;if(this.env1.init(u,c),this.env2.init(f,d),!this.env1.intersects(this.env2))return null;var p=Math.trunc((r+o)/2),g=Math.trunc((s+l)/2);r<p&&(s<g&&this.computeIntersectsForChain(r,p,a,s,g,h),g<l&&this.computeIntersectsForChain(r,p,a,g,l,h)),p<o&&(s<g&&this.computeIntersectsForChain(p,o,a,s,g,h),g<l&&this.computeIntersectsForChain(p,o,a,g,l,h))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var i=0;i<this.startIndex.length-1;i++)for(var n=0;n<t.startIndex.length-1;n++)this.computeIntersectsForChain(i,t,n,e)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(0),o=i(57),a=i(1),s=i(48);Object(r.a)(n.prototype,{getChainStartIndices:function(t){var e=0,i=new a.a;i.add(new o.a(e));do{var r=this.findChainEnd(t,e);i.add(new o.a(r)),e=r}while(e<t.length-1);return n.toIntArray(i)},findChainEnd:function(t,e){for(var i=s.a.quadrant(t[e],t[e+1]),n=e+1;n<t.length&&s.a.quadrant(t[n-1],t[n])===i;)n++;return n-1},interfaces_:function(){return[]},getClass:function(){return n}}),n.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),i=0;i<e.length;i++)e[i]=t.get(i).intValue();return e}},function(t,e,i){function n(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;t<2;t++)for(var e=0;e<3;e++)this._depth[t][e]=n.NULL_VALUE}e.a=n;var r=i(10),o=i(17),a=i(0);Object(a.a)(n.prototype,{getDepth:function(t,e){return this._depth[t][e]},setDepth:function(t,e,i){this._depth[t][e]=i},isNull:function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==n.NULL_VALUE)return!1;return!0}if(1===arguments.length){var i=arguments[0];return this._depth[i][1]===n.NULL_VALUE}if(2===arguments.length){var r=arguments[0],o=arguments[1];return this._depth[r][o]===n.NULL_VALUE}},normalize:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var i=1;i<3;i++){var n=0;this._depth[t][i]>e&&(n=1),this._depth[t][i]=n}}},getDelta:function(t){return this._depth[t][o.a.RIGHT]-this._depth[t][o.a.LEFT]},getLocation:function(t,e){return this._depth[t][e]<=0?r.a.EXTERIOR:r.a.INTERIOR},toString:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var i=1;i<3;i++){var o=t.getLocation(e,i);o!==r.a.EXTERIOR&&o!==r.a.INTERIOR||(this.isNull(e,i)?this._depth[e][i]=n.depthAtLocation(o):this._depth[e][i]+=n.depthAtLocation(o))}else if(3===arguments.length){var a=arguments[0],s=arguments[1];arguments[2]===r.a.INTERIOR&&this._depth[a][s]++}},interfaces_:function(){return[]},getClass:function(){return n}}),n.depthAtLocation=function(t){return t===r.a.EXTERIOR?0:t===r.a.INTERIOR?1:n.NULL_VALUE},n.NULL_VALUE=-1},function(t,e,i){function n(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=n.orientation(t)}e.a=n;var r=i(0),o=i(20),a=i(19);Object(r.a)(n.prototype,{compareTo:function(t){var e=t;return n.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},interfaces_:function(){return[o.a]},getClass:function(){return n}}),n.orientation=function(t){return 1===a.a.increasingDirection(t)},n.compareOriented=function(t,e,i,n){for(var r=e?1:-1,o=n?1:-1,a=e?t.length:-1,s=n?i.length:-1,l=e?0:t.length-1,h=n?0:i.length-1;;){var u=t[l].compareTo(i[h]);if(0!==u)return u;var c=(l+=r)===a,f=(h+=o)===s;if(c&&!f)return-1;if(!c&&f)return 1;if(c&&f)return 0}}},function(t,e,i){function n(){this._centroid=null,this._minDistance=s.a.MAX_VALUE,this._interiorPoint=null;var t=arguments[0];this._centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this._interiorPoint&&this.addEndpoints(t)}var r=i(9),o=i(12),a=i(2),s=i(11),l=i(0),h=i(13);Object(l.a)(n.prototype,{addEndpoints:function(){if(arguments[0]instanceof o.a){var t=arguments[0];if(t instanceof r.a)this.addEndpoints(t.getCoordinates());else if(t instanceof h.a)for(var e=t,i=0;i<e.getNumGeometries();i++)this.addEndpoints(e.getGeometryN(i))}else if(arguments[0]instanceof Array){var n=arguments[0];this.add(n[0]),this.add(n[n.length-1])}},getInteriorPoint:function(){return this._interiorPoint},addInterior:function(){if(arguments[0]instanceof o.a){var t=arguments[0];if(t instanceof r.a)this.addInterior(t.getCoordinates());else if(t instanceof h.a)for(var e=t,i=0;i<e.getNumGeometries();i++)this.addInterior(e.getGeometryN(i))}else if(arguments[0]instanceof Array){var n=arguments[0];for(i=1;i<n.length-1;i++)this.add(n[i])}},add:function(t){var e=t.distance(this._centroid);e<this._minDistance&&(this._interiorPoint=new a.a(t),this._minDistance=e)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._centroid=null,this._minDistance=s.a.MAX_VALUE,this._interiorPoint=null;var t=arguments[0];this._centroid=t.getCentroid().getCoordinate(),this.add(t)}var r=i(12),o=i(2),a=i(25),s=i(11),l=i(0),h=i(13);Object(l.a)(n.prototype,{getInteriorPoint:function(){return this._interiorPoint},add:function(){if(arguments[0]instanceof r.a){var t=arguments[0];if(t instanceof a.a)this.add(t.getCoordinate());else if(t instanceof h.a)for(var e=t,i=0;i<e.getNumGeometries();i++)this.add(e.getGeometryN(i))}else if(arguments[0]instanceof o.a){var n=arguments[0],s=n.distance(this._centroid);s<this._minDistance&&(this._interiorPoint=new o.a(n),this._minDistance=s)}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._root=null,this._minExtent=1,this._root=new r.a}e.a=n;var r=i(254),o=i(79),a=i(0),s=i(1);Object(a.a)(n.prototype,{size:function(){return null!==this._root?this._root.size():0},insert:function(t,e){this.collectStats(t);var i=n.ensureExtent(t,this._minExtent);this._root.insert(i,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new o.a(t,t))}if(arguments[0]instanceof o.a){var e=arguments[0],i=new s.a;return this.query(e,i),i}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._root.addAllItemsFromOverlapping(n,r)}},iterator:function(){var t=new s.a;return this._root.addAllItems(t),t.iterator()},remove:function(t,e){var i=n.ensureExtent(t,this._minExtent);return this._root.remove(i,e)},collectStats:function(t){var e=t.getWidth();e<this._minExtent&&e>0&&(this._minExtent=e)},depth:function(){return null!==this._root?this._root.depth():0},nodeSize:function(){return null!==this._root?this._root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return n}}),n.ensureExtent=function(t,e){var i=t.getMin(),n=t.getMax();return i!==n?t:(i===n&&(n=(i-=e/2)+e/2),new o.a(i,n))}},function(t,e,i){function n(){r.a.apply(this)}e.a=n;var r=i(147),o=i(255),a=i(0),s=i(148),l=i(4),h=i(3);Object(h.a)(n,r.a),Object(a.a)(n.prototype,{insert:function(t,e){var i=r.a.getSubnodeIndex(t,n.origin);if(-1===i)return this.add(e),null;var a=this._subnode[i];if(null===a||!a.getInterval().contains(t)){var s=o.a.createExpanded(a,t);this._subnode[i]=s}this.insertContained(this._subnode[i],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,i){l.a.isTrue(t.getInterval().contains(e)),(s.a.isZeroWidth(e.getMin(),e.getMax())?t.find(e):t.getNode(e)).add(i)},interfaces_:function(){return[]},getClass:function(){return n}}),n.origin=0},function(t,e,i){function n(){r.a.apply(this),this._interval=null,this._centre=null,this._level=null;var t=arguments[0],e=arguments[1];this._interval=t,this._level=e,this._centre=(t.getMin()+t.getMax())/2}e.a=n;var r=i(147),o=i(79),a=i(0),s=i(4),l=i(3),h=i(256);Object(l.a)(n,r.a),Object(a.a)(n.prototype,{getInterval:function(){return this._interval},find:function(t){var e=r.a.getSubnodeIndex(t,this._centre);return-1===e?this:null!==this._subnode[e]?this._subnode[e].find(t):this},insert:function(t){s.a.isTrue(null===this._interval||this._interval.contains(t._interval));var e=r.a.getSubnodeIndex(t._interval,this._centre);if(t._level===this._level-1)this._subnode[e]=t;else{var i=this.createSubnode(e);i.insert(t),this._subnode[e]=i}},isSearchMatch:function(t){return t.overlaps(this._interval)},getSubnode:function(t){return null===this._subnode[t]&&(this._subnode[t]=this.createSubnode(t)),this._subnode[t]},getNode:function(t){var e=r.a.getSubnodeIndex(t,this._centre);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,i=0;switch(t){case 0:e=this._interval.getMin(),i=this._centre;break;case 1:e=this._centre,i=this._interval.getMax()}return new n(new o.a(e,i),this._level-1)},interfaces_:function(){return[]},getClass:function(){return n}}),n.createNode=function(t){var e=new h.a(t);return new n(e.getInterval(),e.getLevel())},n.createExpanded=function(t,e){var i=new o.a(e);null!==t&&i.expandToInclude(t._interval);var r=n.createNode(i);return null!==t&&r.insert(t),r}},function(t,e,i){function n(){this._pt=0,this._level=0,this._interval=null;var t=arguments[0];this.computeKey(t)}e.a=n;var r=i(79),o=i(0),a=i(104);Object(o.a)(n.prototype,{getInterval:function(){return this._interval},getLevel:function(){return this._level},computeKey:function(t){for(this._level=n.computeLevel(t),this._interval=new r.a,this.computeInterval(this._level,t);!this._interval.contains(t);)this._level+=1,this.computeInterval(this._level,t)},computeInterval:function(t,e){var i=a.a.powerOf2(t);this._pt=Math.floor(e.getMin()/i)*i,this._interval.init(this._pt,this._pt+i)},getPoint:function(){return this._pt},interfaces_:function(){return[]},getClass:function(){return n}}),n.computeLevel=function(t){var e=t.getWidth();return a.a.exponent(e)+1}},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._input=null,this._extremalPts=null,this._centre=null,this._radius=0;var t=arguments[0];this._input=t}var r=i(2),o=i(11),a=i(0),s=i(19),l=i(105),h=i(4),u=i(80);Object(a.a)(n.prototype,{getRadius:function(){return this.compute(),this._radius},getDiameter:function(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var t=this._extremalPts[0],e=this._extremalPts[1];return this._input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this._extremalPts},computeCirclePoints:function(){if(this._input.isEmpty())return this._extremalPts=new Array(0).fill(null),null;if(1===this._input.getNumPoints())return e=this._input.getCoordinates(),this._extremalPts=[new r.a(e[0])],null;var t=this._input.convexHull().getCoordinates(),e=t;if(t[0].equals2D(t[t.length-1])&&(e=new Array(t.length-1).fill(null),s.a.copyDeep(t,0,e,0,t.length-1)),e.length<=2)return this._extremalPts=s.a.copyDeep(e),null;for(var i=n.lowestPoint(e),o=n.pointWitMinAngleWithX(e,i),a=0;a<e.length;a++){var u=n.pointWithMinAngleWithSegment(e,i,o);if(l.a.isObtuse(i,u,o))return this._extremalPts=[new r.a(i),new r.a(o)],null;if(l.a.isObtuse(u,i,o))i=u;else{if(!l.a.isObtuse(u,o,i))return this._extremalPts=[new r.a(i),new r.a(o),new r.a(u)],null;o=u}}h.a.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){if(null!==this._extremalPts)return null;this.computeCirclePoints(),this.computeCentre(),null!==this._centre&&(this._radius=this._centre.distance(this._extremalPts[0]))},getFarthestPoints:function(){switch(this.compute(),this._extremalPts.length){case 0:return this._input.getFactory().createLineString();case 1:return this._input.getFactory().createPoint(this._centre)}var t=this._extremalPts[0],e=this._extremalPts[this._extremalPts.length-1];return this._input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this._centre)return this._input.getFactory().createPolygon();var t=this._input.getFactory().createPoint(this._centre);return 0===this._radius?t:t.buffer(this._radius)},getCentre:function(){return this.compute(),this._centre},computeCentre:function(){switch(this._extremalPts.length){case 0:this._centre=null;break;case 1:this._centre=this._extremalPts[0];break;case 2:this._centre=new r.a((this._extremalPts[0].x+this._extremalPts[1].x)/2,(this._extremalPts[0].y+this._extremalPts[1].y)/2);break;case 3:this._centre=u.a.circumcentre(this._extremalPts[0],this._extremalPts[1],this._extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return n}}),n.pointWitMinAngleWithX=function(t,e){for(var i=o.a.MAX_VALUE,n=null,r=0;r<t.length;r++){var a=t[r];if(a!==e){var s=a.x-e.x,l=a.y-e.y;l<0&&(l=-l);var h=l/Math.sqrt(s*s+l*l);h<i&&(i=h,n=a)}}return n},n.lowestPoint=function(t){for(var e=t[0],i=1;i<t.length;i++)t[i].y<e.y&&(e=t[i]);return e},n.pointWithMinAngleWithSegment=function(t,e,i){for(var n=o.a.MAX_VALUE,r=null,a=0;a<t.length;a++){var s=t[a];if(s!==e&&s!==i){var h=l.a.angleBetween(e,s,i);h<n&&(n=h,r=s)}}return r}},function(t,e,i){function n(){if(this._inputGeom=null,this._isConvex=null,this._convexHullPts=null,this._minBaseSeg=new l.a,this._minWidthPt=null,this._minPtIndex=null,this._minWidth=0,1===arguments.length){var t=arguments[0];n.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._inputGeom=e,this._isConvex=i}}var r=i(2),o=i(16),a=i(11),s=i(0),l=i(14),h=i(94);Object(s.a)(n.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this._minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this._inputGeom.getFactory().createLineString([this._minBaseSeg.p0,this._minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this._minWidthPt)return this._inputGeom.getFactory().createLineString(null);var t=this._minBaseSeg.project(this._minWidthPt);return this._inputGeom.getFactory().createLineString([t,this._minWidthPt])},computeWidthConvex:function(t){t instanceof o.a?this._convexHullPts=t.getExteriorRing().getCoordinates():this._convexHullPts=t.getCoordinates(),0===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=null,this._minBaseSeg=null):1===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[0]):2===this._convexHullPts.length||3===this._convexHullPts.length?(this._minWidth=0,this._minWidthPt=this._convexHullPts[0],this._minBaseSeg.p0=this._convexHullPts[0],this._minBaseSeg.p1=this._convexHullPts[1]):this.computeConvexRingMinDiameter(this._convexHullPts)},computeConvexRingMinDiameter:function(t){this._minWidth=a.a.MAX_VALUE;for(var e=1,i=new l.a,n=0;n<t.length-1;n++)i.p0=t[n],i.p1=t[n+1],e=this.findMaxPerpDistance(t,i,e)},computeMinimumDiameter:function(){if(null!==this._minWidthPt)return null;if(this._isConvex)this.computeWidthConvex(this._inputGeom);else{var t=new h.a(this._inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this._minWidth},findMaxPerpDistance:function(t,e,i){for(var r=e.distancePerpendicular(t[i]),o=r,a=i,s=a;o>=r;)r=o,s=n.nextIndex(t,a=s),o=e.distancePerpendicular(t[s]);return r<this._minWidth&&(this._minPtIndex=a,this._minWidth=r,this._minWidthPt=t[this._minPtIndex],this._minBaseSeg=new l.a(e)),a},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this._minWidth)return this._minBaseSeg.p0.equals2D(this._minBaseSeg.p1)?this._inputGeom.getFactory().createPoint(this._minBaseSeg.p0):this._minBaseSeg.toGeometry(this._inputGeom.getFactory());for(var t=this._minBaseSeg.p1.x-this._minBaseSeg.p0.x,e=this._minBaseSeg.p1.y-this._minBaseSeg.p0.y,i=a.a.MAX_VALUE,r=-a.a.MAX_VALUE,o=a.a.MAX_VALUE,s=-a.a.MAX_VALUE,l=0;l<this._convexHullPts.length;l++){var h=n.computeC(t,e,this._convexHullPts[l]);h>r&&(r=h),h<i&&(i=h);var u=n.computeC(-e,t,this._convexHullPts[l]);u>s&&(s=u),u<o&&(o=u)}var c=n.computeSegmentForLine(-t,-e,s),f=n.computeSegmentForLine(-t,-e,o),d=n.computeSegmentForLine(-e,t,r),p=n.computeSegmentForLine(-e,t,i),g=d.lineIntersection(c),_=p.lineIntersection(c),m=p.lineIntersection(f),y=d.lineIntersection(f),v=this._inputGeom.getFactory().createLinearRing([g,_,m,y,g]);return this._inputGeom.getFactory().createPolygon(v,null)},interfaces_:function(){return[]},getClass:function(){return n}}),n.nextIndex=function(t,e){return++e>=t.length&&(e=0),e},n.computeC=function(t,e,i){return t*i.y-e*i.x},n.getMinimumDiameter=function(t){return new n(t).getDiameter()},n.getMinimumRectangle=function(t){return new n(t).getMinimumRectangle()},n.computeSegmentForLine=function(t,e,i){var n=null,o=null;return Math.abs(e)>Math.abs(t)?(n=new r.a(0,i/e),o=new r.a(1,i/e-t/e)):(n=new r.a(i/t,0),o=new r.a(i/t-e/t,1)),new l.a(n,o)}},function(t,e,i){i(261)},function(t,e,i){function n(){this._inputGeom=null,this._distanceTolerance=null;var t=arguments[0];this._inputGeom=t}function r(){s.a.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}var o=i(9),a=i(18),s=i(75),l=i(6),h=i(0),u=i(30),c=i(14),f=i(3);Object(h.a)(n.prototype,{getResultGeometry:function(){return new r(this._distanceTolerance).transform(this._inputGeom)},setDistanceTolerance:function(t){if(t<=0)throw new l.a("Tolerance must be positive");this._distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return n}}),n.densifyPoints=function(t,e,i){for(var n=new c.a,r=new a.a,o=0;o<t.length-1;o++){n.p0=t[o],n.p1=t[o+1],r.add(n.p0,!1);var s=n.getLength(),l=Math.trunc(s/e)+1;if(l>1)for(var h=s/l,u=1;u<l;u++){var f=u*h/s,d=n.pointAlong(f);i.makePrecise(d),r.add(d,!1)}}return r.add(t[t.length-1],!1),r.toCoordinateArray()},n.densify=function(t,e){var i=new n(t);return i.setDistanceTolerance(e),i.getResultGeometry()},Object(f.a)(r,s.a),Object(h.a)(r.prototype,{transformMultiPolygon:function(t,e){var i=s.a.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(i)},transformPolygon:function(t,e){var i=s.a.prototype.transformPolygon.call(this,t,e);return e instanceof u.a?i:this.createValidArea(i)},transformCoordinates:function(t,e){var i=t.toCoordinateArray(),r=n.densifyPoints(i,this.distanceTolerance,e.getPrecisionModel());return e instanceof o.a&&1===r.length&&(r=new Array(0).fill(null)),this._factory.getCoordinateSequenceFactory().create(r)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return r}}),n.DensifyTransformer=r},function(t,e,i){i(263)},function(t,e,i){function n(){this._result=null,this._factory=null,this._graph=null,this._lines=new p.a,this._nodeEdgeStack=new h.a,this._ringStartEdge=null,this._graph=new f.a}var r=i(9),o=i(18),a=i(12),s=i(5),l=i(24),h=i(63),u=i(0),c=i(149),f=i(264),d=i(31),p=i(1);Object(u.a)(n.prototype,{addLine:function(t){this._lines.add(this._factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym()).isStart()?null===this._ringStartEdge?(this._ringStartEdge=t,null):void(t.orig().compareTo(this._ringStartEdge.orig())<0&&(this._ringStartEdge=t)):null},getResult:function(){return null===this._result&&this.computeResult(),this._result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new o.a,i=t;for(e.add(i.orig().copy(),!1);2===i.sym().degree();){var n=i.next();if(n===t)break;e.add(n.orig().copy(),!1),i=n}e.add(i.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new o.a,i=t;for(this._ringStartEdge=null,c.a.markBoth(i),e.add(i.orig().copy(),!1);2===i.sym().degree();){this.updateRingStartEdge(i);var n=i.next();if(n===t)return this.buildRing(this._ringStartEdge),null;e.add(n.orig().copy(),!1),i=n,c.a.markBoth(i)}e.add(i.dest().copy(),!1),this.stackEdges(i.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{c.a.isMarked(e)||this._nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this._graph.getVertexEdges().iterator();t.hasNext();){var e=t.next();c.a.isMarked(e)||this.process(e)}this._result=this._factory.buildGeometry(this._lines)},buildLines:function(){for(;!this._nodeEdgeStack.empty();){var t=this._nodeEdgeStack.pop();c.a.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof a.a)arguments[0].apply({interfaces_:function(){return[d.a]},filter:function(t){t instanceof r.a&&this.add(t)}});else if(Object(s.a)(arguments[0],l.a))for(o=arguments[0].iterator();o.hasNext();){var t=o.next();this.add(t)}else if(arguments[0]instanceof r.a){var e=arguments[0];null===this._factory&&(this._factory=e.getFactory());for(var i=e.getCoordinateSequence(),n=!1,o=1;o<i.size();o++){var h=this._graph.addEdge(i.getCoordinate(o-1),i.getCoordinate(o));null!==h&&(n||(h.setStart(),n=!0))}}},interfaces_:function(){return[]},getClass:function(){return n}}),n.dissolve=function(t){var e=new n;return e.add(t),e.getResult()}},function(t,e,i){function n(){r.a.apply(this)}e.a=n;var r=i(265),o=i(0),a=i(266),s=i(3);Object(s.a)(n,r.a),Object(o.a)(n.prototype,{createEdge:function(t){return new a.a(t)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._vertexMap=new r.a}e.a=n;var r=i(73),o=i(0),a=i(150);Object(o.a)(n.prototype,{insert:function(t,e,i){var n=this.create(t,e);null!==i?i.insert(n):this._vertexMap.put(t,n);var r=this._vertexMap.get(e);return null!==r?r.insert(n.sym()):this._vertexMap.put(e,n.sym()),n},create:function(t,e){var i=this.createEdge(t),n=this.createEdge(e);return a.a.init(i,n),i},createEdge:function(t){return new a.a(t)},addEdge:function(t,e){if(!n.isValidEdge(t,e))return null;var i=this._vertexMap.get(t),r=null;return null!==i&&(r=i.find(e)),null!==r?r:this.insert(t,e,i)},getVertexEdges:function(){return this._vertexMap.values()},findEdge:function(t,e){var i=this._vertexMap.get(t);return null===i?null:i.find(e)},interfaces_:function(){return[]},getClass:function(){return n}}),n.isValidEdge=function(t,e){return 0!==e.compareTo(t)}},function(t,e,i){function n(){this._isStart=!1;var t=arguments[0];o.a.call(this,t)}e.a=n;var r=i(0),o=i(149),a=i(3);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){i(68)},function(t,e,i){i(269),i(273)},function(t,e,i){i(151)},function(t,e,i){function n(){o.a.apply(this)}e.a=n;var r=i(2),o=i(152),a=i(271),s=i(0),l=i(148),h=i(4),u=i(3);Object(u.a)(n,o.a),Object(s.a)(n.prototype,{insert:function(t,e){var i=o.a.getSubnodeIndex(t,n.origin.x,n.origin.y);if(-1===i)return this.add(e),null;var r=this._subnode[i];if(null===r||!r.getEnvelope().contains(t)){var s=a.a.createExpanded(r,t);this._subnode[i]=s}this.insertContained(this._subnode[i],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,i){h.a.isTrue(t.getEnvelope().contains(e));var n=l.a.isZeroWidth(e.getMinX(),e.getMaxX()),r=l.a.isZeroWidth(e.getMinY(),e.getMaxY());(n||r?t.find(e):t.getNode(e)).add(i)},interfaces_:function(){return[]},getClass:function(){return n}}),n.origin=new r.a(0,0)},function(t,e,i){function n(){r.a.apply(this),this._env=null,this._centrex=null,this._centrey=null,this._level=null;var t=arguments[0],e=arguments[1];this._env=t,this._level=e,this._centrex=(t.getMinX()+t.getMaxX())/2,this._centrey=(t.getMinY()+t.getMaxY())/2}e.a=n;var r=i(152),o=i(0),a=i(7),s=i(4),l=i(3),h=i(272);Object(l.a)(n,r.a),Object(o.a)(n.prototype,{find:function(t){var e=r.a.getSubnodeIndex(t,this._centrex,this._centrey);return-1===e?this:null!==this._subnode[e]?this._subnode[e].find(t):this},isSearchMatch:function(t){return this._env.intersects(t)},getSubnode:function(t){return null===this._subnode[t]&&(this._subnode[t]=this.createSubnode(t)),this._subnode[t]},getEnvelope:function(){return this._env},getNode:function(t){var e=r.a.getSubnodeIndex(t,this._centrex,this._centrey);return-1!==e?this.getSubnode(e).getNode(t):this},createSubnode:function(t){var e=0,i=0,r=0,o=0;switch(t){case 0:e=this._env.getMinX(),i=this._centrex,r=this._env.getMinY(),o=this._centrey;break;case 1:e=this._centrex,i=this._env.getMaxX(),r=this._env.getMinY(),o=this._centrey;break;case 2:e=this._env.getMinX(),i=this._centrex,r=this._centrey,o=this._env.getMaxY();break;case 3:e=this._centrex,i=this._env.getMaxX(),r=this._centrey,o=this._env.getMaxY()}return new n(new a.a(e,i,r,o),this._level-1)},insertNode:function(t){s.a.isTrue(null===this._env||this._env.contains(t._env));var e=r.a.getSubnodeIndex(t._env,this._centrex,this._centrey);if(t._level===this._level-1)this._subnode[e]=t;else{var i=this.createSubnode(e);i.insertNode(t),this._subnode[e]=i}},interfaces_:function(){return[]},getClass:function(){return n}}),n.createNode=function(t){var e=new h.a(t);return new n(e.getEnvelope(),e.getLevel())},n.createExpanded=function(t,e){var i=new a.a(e);null!==t&&i.expandToInclude(t._env);var r=n.createNode(i);return null!==t&&r.insertNode(t),r}},function(t,e,i){function n(){this._pt=new r.a,this._level=0,this._env=null;var t=arguments[0];this.computeKey(t)}e.a=n;var r=i(2),o=i(0),a=i(104),s=i(7);Object(o.a)(n.prototype,{getLevel:function(){return this._level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this._level=n.computeQuadLevel(t),this._env=new s.a,this.computeKey(this._level,t);!this._env.contains(t);)this._level+=1,this.computeKey(this._level,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],r=a.a.powerOf2(e);this._pt.x=Math.floor(i.getMinX()/r)*r,this._pt.y=Math.floor(i.getMinY()/r)*r,this._env.init(this._pt.x,this._pt.x+r,this._pt.y,this._pt.y+r)}},getEnvelope:function(){return this._env},getCentre:function(){return new r.a((this._env.getMinX()+this._env.getMaxX())/2,(this._env.getMinY()+this._env.getMaxY())/2)},getPoint:function(){return this._pt},interfaces_:function(){return[]},getClass:function(){return n}}),n.computeQuadLevel=function(t){var e=t.getWidth(),i=t.getHeight(),n=e>i?e:i;return a.a.exponent(n)+1}},function(t,e,i){i(77)},function(t,e,i){var n=i(275),r=i(276);i(277),i(27),i(278),i.d(e,"a",function(){return n.a}),i.d(e,"b",function(){return r.a})},function(t,e,i){function n(t){this.geometryFactory=t||new r.a,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new a.a(this.geometryFactory)}e.a=n;var r=i(15),o=i(53),a=i(153),s=i(0);Object(s.a)(n.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===o.a.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,i;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,i=t.points.length;e<i;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,i=t.geometries.length;e<i;e++)this.reducePrecision(t.geometries[e])}})},function(t,e,i){function n(){this.parser=new r.a(this.geometryFactory)}e.a=n;var r=i(153),o=i(0);Object(o.a)(n.prototype,{write:function(t){return this.parser.write(t)}})},function(t,e,i){var n=i(15),r=i(53),o=i(119),a=i(0);Object(a.a)(function(t){this.geometryFactory=t||new n.a,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new o.a(this.geometryFactory)}.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===r.a.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t._points)for(var e=0,i=t._points._coordinates.length;e<i;e++)this.precisionModel.makePrecise(t._points._coordinates[e]);else if(t._geometries)for(var n=0,r=t._geometries.length;n<r;n++)this.reducePrecision(t._geometries[n])}})},function(t,e,i){function n(t){return[t.x,t.y]}var r=i(2),o=i(15),a=i(0);Object(a.a)(function(t,e){this.geometryFactory=t||new o.a,this.ol=e||"undefined"!=typeof ol&&ol}.prototype,{read:function(t){var e=this.ol;return t instanceof e.geom.Point?this.convertFromPoint(t):t instanceof e.geom.LineString?this.convertFromLineString(t):t instanceof e.geom.LinearRing?this.convertFromLinearRing(t):t instanceof e.geom.Polygon?this.convertFromPolygon(t):t instanceof e.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof e.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof e.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof e.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new r.a(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new r.a(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new r.a(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),i=null,n=[],r=0;r<e.length;r++){var o=this.convertFromLinearRing(e[r]);0===r?i=o:n.push(o)}return this.geometryFactory.createPolygon(i,n)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new this.ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(n);return new this.ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(n);return new this.ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(n)],i=0;i<t.holes.length;i++)e.push(t.holes[i].points.coordinates.map(n));return new this.ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new this.ol.geom.MultiPoint(t.getCoordinates().map(n))},convertToMultiLineString:function(t){for(var e=[],i=0;i<t.geometries.length;i++)e.push(this.convertToLineString(t.geometries[i]).getCoordinates());return new this.ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],i=0;i<t.geometries.length;i++)e.push(this.convertToPolygon(t.geometries[i]).getCoordinates());return new this.ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],i=0;i<t.geometries.length;i++){var n=t.geometries[i];e.push(this.write(n))}return new this.ol.geom.GeometryCollection(e)}})},function(t,e,i){i(76),i(154),i(95)},function(t,e,i){i(90),i(281),i(282),i(300),i(103),i(304);var n=i(312);i.d(e,"a",function(){return n.a}),i(313),i(325),i(332),i(337)},function(t,e,i){function n(){if(this._inputGeom=null,this._isClosedEndpointsInInterior=!0,this._nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this._inputGeom=t}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._inputGeom=e,this._isClosedEndpointsInInterior=!i.isInBoundary(2)}}function r(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}var o=i(47),a=i(9),s=i(5),l=i(40),h=i(0),u=i(68),c=i(13),f=i(39),d=i(22),p=i(69),g=i(34),_=i(28);Object(h.a)(n.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new o.a,i=0;i<t.getNumGeometries();i++){var n=t.getGeometryN(i).getCoordinate();if(e.contains(n))return this._nonSimpleLocation=n,!1;e.add(n)}return!0},isSimplePolygonal:function(t){for(var e=p.a.getLines(t).iterator();e.hasNext();){var i=e.next();if(!this.isSimpleLinearGeometry(i))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new g.a,i=t.getEdgeIterator();i.hasNext();){var n=i.next(),r=(n.getMaximumSegmentIndex(),n.isClosed()),o=n.getCoordinate(0);this.addEndpoint(e,o,r);var a=n.getCoordinate(n.getNumPoints()-1);this.addEndpoint(e,a,r)}for(i=e.values().iterator();i.hasNext();){var s=i.next();if(s.isClosed&&2!==s.degree)return this._nonSimpleLocation=s.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this._nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new u.a(0,t),i=new d.a,n=e.computeSelfNodes(i,!0);return!(n.hasIntersection()&&(n.hasProperIntersection()?(this._nonSimpleLocation=n.getProperIntersectionPoint(),1):this.hasNonEndpointIntersection(e)||this._isClosedEndpointsInInterior&&this.hasClosedEndpointIntersection(e)))},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var i=e.next(),n=i.getMaximumSegmentIndex(),r=i.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next();if(!o.isEndPoint(n))return this._nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,i){var n=t.get(e);null===n&&(n=new r(e),t.put(e,n)),n.addEndpoint(i)},computeSimple:function(t){return this._nonSimpleLocation=null,!!t.isEmpty()||(t instanceof a.a?this.isSimpleLinearGeometry(t):t instanceof _.a?this.isSimpleLinearGeometry(t):t instanceof l.a?this.isSimpleMultiPoint(t):Object(s.a)(t,f.a)?this.isSimplePolygonal(t):!(t instanceof c.a)||this.isSimpleGeometryCollection(t))},isSimple:function(){return this._nonSimpleLocation=null,this.computeSimple(this._inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);if(!this.computeSimple(i))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return n}}),Object(h.a)(r.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return r}}),n.EndpointInfo=r},function(t,e,i){i(283),i(81)},function(t,e,i){function n(){if(this._argGeom=null,this._distance=null,this._bufParams=new r.a,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._argGeom=e,this._bufParams=i}}var r=i(81),o=i(12),a=i(284),s=i(154),l=i(42),h=i(0),u=i(89),c=i(53),f=i(45),d=i(295);Object(h.a)(n.prototype,{bufferFixedPrecision:function(t){var e=new s.a(new d.a(new c.a(1)),t.getScale()),i=new a.a(this._bufParams);i.setWorkingPrecisionModel(t),i.setNoder(e),this._resultGeometry=i.buffer(this._argGeom,this._distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=n.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof l.a))throw t;this._saveException=t}if(null!==this._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var e=arguments[0],i=n.precisionScaleFactor(this._argGeom,this._distance,e),r=new c.a(i);this.bufferFixedPrecision(r)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===c.a.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this._bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new a.a(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof f.a))throw t;this._saveException=t}},getResultGeometry:function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},setEndCapStyle:function(t){this._bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return n}}),n.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new n(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof o.a&&"number"==typeof arguments[1]){var i=arguments[0],a=arguments[1],s=arguments[2];return(p=new n(i)).setQuadrantSegments(s),p.getResultGeometry(a)}if(arguments[2]instanceof r.a&&arguments[0]instanceof o.a&&"number"==typeof arguments[1]){var l=arguments[0],h=arguments[1];return(p=new n(l,arguments[2])).getResultGeometry(h)}}else if(4===arguments.length){var u=arguments[0],c=arguments[1],f=arguments[2],d=arguments[3],p=new n(u);p.setQuadrantSegments(f),p.setEndCapStyle(d);var g=p.getResultGeometry(c);return g}},n.precisionScaleFactor=function(t,e,i){var n=t.getEnvelopeInternal(),r=u.a.max(Math.abs(n.getMaxX()),Math.abs(n.getMaxY()),Math.abs(n.getMinX()),Math.abs(n.getMinY()))+2*(e>0?e:0),o=i-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},n.CAP_ROUND=r.a.CAP_ROUND,n.CAP_BUTT=r.a.CAP_FLAT,n.CAP_FLAT=r.a.CAP_FLAT,n.CAP_SQUARE=r.a.CAP_SQUARE,n.MAX_PRECISION_DIGITS=12},function(t,e,i){function n(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new m.a;var t=arguments[0];this._bufParams=t}e.a=n;var r=i(10),o=i(285),a=i(133),s=i(15),l=i(17),h=i(76),u=i(288),c=i(0),f=i(35),d=i(292),p=i(293),g=i(26),_=i(102),m=i(144),y=i(1),v=i(22),b=i(294),x=i(78),L=i(66);Object(c.a)(n.prototype,{setWorkingPrecisionModel:function(t){this._workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var i=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new g.a(t.getLabel())).flip(),i.merge(r);var o=n.depthDelta(r),a=e.getDepthDelta()+o;e.setDepthDelta(a)}else this._edgeList.add(t),t.setDepthDelta(n.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var i=new y.a,n=t.iterator();n.hasNext();){var r=n.next(),o=r.getRightmostCoordinate(),a=new d.a(i).getDepth(o);r.computeDepth(a),r.findResultEdges(),i.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},createSubgraphs:function(t){for(var e=new y.a,i=t.getNodes().iterator();i.hasNext();){var n=i.next();if(!n.isVisited()){var r=new o.a;r.create(n),e.add(r)}}return f.a.sort(e,f.a.reverseOrder()),e},createEmptyResultGeometry:function(){return this._geomFact.createPolygon()},getNoder:function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new h.a,i=new v.a;return i.setPrecisionModel(t),e.setSegmentIntersector(new b.a(i)),e},buffer:function(t,e){var i=this._workingPrecisionModel;null===i&&(i=t.getPrecisionModel()),this._geomFact=t.getFactory();var n=new u.a(i,this._bufParams),r=new p.a(t,e,n).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,i),this._graph=new L.a(new _.a),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new a.a(this._geomFact);this.buildSubgraphs(o,s);var l=s.getPolygons();return l.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(l)},computeNodedEdges:function(t,e){var i=this.getNoder(e);i.computeNodes(t);for(var n=i.getNodedSubstrings().iterator();n.hasNext();){var r=n.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=r.getData(),s=new x.a(r.getCoordinates(),new g.a(a));this.insertUniqueEdge(s)}}},setNoder:function(t){this._workingNoder=t},interfaces_:function(){return[]},getClass:function(){return n}}),n.depthDelta=function(t){var e=t.getLocation(0,l.a.LEFT),i=t.getLocation(0,l.a.RIGHT);return e===r.a.INTERIOR&&i===r.a.EXTERIOR?1:e===r.a.EXTERIOR&&i===r.a.INTERIOR?-1:0},n.convertSegStrings=function(t){for(var e=new s.a,i=new y.a;t.hasNext();){var n=t.next(),r=e.createLineString(n.getCoordinates());i.add(r)}return e.buildGeometry(i)}},function(t,e,i){function n(){this._finder=null,this._dirEdgeList=new f.a,this._nodes=new f.a,this._rightMostCoord=null,this._env=null,this._finder=new s.a}e.a=n;var r=i(46),o=i(17),a=i(63),s=i(286),l=i(42),h=i(0),u=i(287),c=i(20),f=i(1),d=i(7);Object(h.a)(n.prototype,{clearVisitedEdges:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},getRightmostCoordinate:function(){return this._rightMostCoord},computeNodeDepth:function(t){for(var e=null,i=t.getEdges().iterator();i.hasNext();)if((n=i.next()).isVisited()||n.getSym().isVisited()){e=n;break}if(null===e)throw new l.a("unable to find edge to compute depths at "+t.getCoordinate());for(t.getEdges().computeDepths(e),i=t.getEdges().iterator();i.hasNext();){var n=i.next();n.setVisited(!0),this.copySymDepths(n)}},computeDepth:function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.getNode(),e.getLabel(),e.setEdgeDepths(o.a.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},findResultEdges:function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(o.a.RIGHT)>=1&&e.getDepth(o.a.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new r.a,i=new u.a,n=t.getNode();for(i.addLast(n),e.add(n),t.setVisited(!0);!i.isEmpty();){var o=i.removeFirst();e.add(o),this.computeNodeDepth(o);for(var a=o.getEdges().iterator();a.hasNext();){var s=a.next().getSym();if(!s.isVisited()){var l=s.getNode();e.contains(l)||(i.addLast(l),e.add(l))}}}},compareTo:function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},getEnvelope:function(){if(null===this._env){for(var t=new d.a,e=this._dirEdgeList.iterator();e.hasNext();)for(var i=e.next().getEdge().getCoordinates(),n=0;n<i.length-1;n++)t.expandToInclude(i[n]);this._env=t}return this._env},addReachable:function(t){var e=new a.a;for(e.add(t);!e.empty();){var i=e.pop();this.add(i,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(o.a.LEFT,t.getDepth(o.a.RIGHT)),e.setDepth(o.a.RIGHT,t.getDepth(o.a.LEFT))},add:function(t,e){t.setVisited(!0),this._nodes.add(t);for(var i=t.getEdges().iterator();i.hasNext();){var n=i.next();this._dirEdgeList.add(n);var r=n.getSym().getNode();r.isVisited()||e.push(r)}},getNodes:function(){return this._nodes},getDirectedEdges:function(){return this._dirEdgeList},interfaces_:function(){return[c.a]},getClass:function(){return n}})},function(t,e,i){function n(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}e.a=n;var r=i(8),o=i(17),a=i(0),s=i(4);Object(a.a)(n.prototype,{getCoordinate:function(){return this._minCoord},getRightmostSide:function(t,e){var i=this.getRightmostSideOfSegment(t,e);return i<0&&(i=this.getRightmostSideOfSegment(t,e-1)),i<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),i},findRightmostEdgeAtVertex:function(){var t=this._minDe.getEdge().getCoordinates();s.a.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],i=t[this._minIndex+1],n=r.a.computeOrientation(this._minCoord,i,e),o=!1;e.y<this._minCoord.y&&i.y<this._minCoord.y&&n===r.a.COUNTERCLOCKWISE?o=!0:e.y>this._minCoord.y&&i.y>this._minCoord.y&&n===r.a.CLOCKWISE&&(o=!0),o&&(this._minIndex=this._minIndex-1)},getRightmostSideOfSegment:function(t,e){var i=t.getEdge().getCoordinates();if(e<0||e+1>=i.length)return-1;if(i[e].y===i[e+1].y)return-1;var n=o.a.LEFT;return i[e].y<i[e+1].y&&(n=o.a.RIGHT),n},getEdge:function(){return this._orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),i=0;i<e.length-1;i++)(null===this._minCoord||e[i].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=i,this._minCoord=e[i])},findRightmostEdgeAtNode:function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();i.isForward()&&this.checkForRightmostCoordinate(i)}s.a.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===o.a.LEFT&&(this._orientedDe=this._minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this.array_=[]}e.a=n,n.prototype.addLast=function(t){this.array_.push(t)},n.prototype.removeFirst=function(){return this.array_.shift()},n.prototype.isEmpty=function(){return 0===this.array_.length}},function(t,e,i){function n(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e}e.a=n;var r=i(81),o=i(17),a=i(2),s=i(0),l=i(289),h=i(19),u=i(290);Object(s.a)(n.prototype,{getOffsetCurve:function(t,e){if(this._distance=e,0===e)return null;var i=e<0,n=Math.abs(e),r=this.getSegGen(n);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,i,r);var o=r.getCoordinates();return i&&h.a.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,i){var n=this.simplifyTolerance(this._distance);if(e){i.addSegments(t,!0);var r=l.a.simplify(t,-n),a=r.length-1;for(i.initSideSegments(r[a],r[a-1],o.a.LEFT),i.addFirstSegment(),u=a-2;u>=0;u--)i.addNextSegment(r[u],!0)}else{i.addSegments(t,!1);var s=l.a.simplify(t,n),h=s.length-1;i.initSideSegments(s[0],s[1],o.a.LEFT),i.addFirstSegment();for(var u=2;u<=h;u++)i.addNextSegment(s[u],!0)}i.addLastSegment(),i.closeRing()},computeRingBufferCurve:function(t,e,i){var n=this.simplifyTolerance(this._distance);e===o.a.RIGHT&&(n=-n);var r=l.a.simplify(t,n),a=r.length-1;i.initSideSegments(r[a-1],r[0],e);for(var s=1;s<=a;s++){var h=1!==s;i.addNextSegment(r[s],h)}i.closeRing()},computeLineBufferCurve:function(t,e){var i=this.simplifyTolerance(this._distance),n=l.a.simplify(t,i),r=n.length-1;for(e.initSideSegments(n[0],n[1],o.a.LEFT),h=2;h<=r;h++)e.addNextSegment(n[h],!0);e.addLastSegment(),e.addLineEndCap(n[r-1],n[r]);var a=l.a.simplify(t,-i),s=a.length-1;e.initSideSegments(a[s],a[s-1],o.a.LEFT);for(var h=s-2;h>=0;h--)e.addNextSegment(a[h],!0);e.addLastSegment(),e.addLineEndCap(a[1],a[0]),e.closeRing()},computePointCurve:function(t,e){switch(this._bufParams.getEndCapStyle()){case r.a.CAP_ROUND:e.createCircle(t);break;case r.a.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var i=Math.abs(e),n=this.getSegGen(i);if(t.length<=1)this.computePointCurve(t[0],n);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,n)}else this.computeLineBufferCurve(t,n);return n.getCoordinates()},getBufferParameters:function(){return this._bufParams},simplifyTolerance:function(t){return t*this._bufParams.getSimplifyFactor()},getRingCurve:function(t,e,i){if(this._distance=i,t.length<=2)return this.getLineCurve(t,i);if(0===i)return n.copyCoordinates(t);var r=this.getSegGen(i);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},computeOffsetCurve:function(t,e,i){var n=this.simplifyTolerance(this._distance);if(e){var r=l.a.simplify(t,-n),a=r.length-1;for(i.initSideSegments(r[a],r[a-1],o.a.LEFT),i.addFirstSegment(),u=a-2;u>=0;u--)i.addNextSegment(r[u],!0)}else{var s=l.a.simplify(t,n),h=s.length-1;i.initSideSegments(s[0],s[1],o.a.LEFT),i.addFirstSegment();for(var u=2;u<=h;u++)i.addNextSegment(s[u],!0)}i.addLastSegment()},getSegGen:function(t){return new u.a(this._precisionModel,this._bufParams,t)},interfaces_:function(){return[]},getClass:function(){return n}}),n.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),i=0;i<e.length;i++)e[i]=new a.a(t[i]);return e}},function(t,e,i){function n(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=r.a.COUNTERCLOCKWISE;var t=arguments[0];this._inputLine=t}e.a=n;var r=i(8),o=i(18),a=i(0);Object(a.a)(n.prototype,{isDeletable:function(t,e,i,n){var r=this._inputLine[t],o=this._inputLine[e],a=this._inputLine[i];return!!this.isConcave(r,o,a)&&!!this.isShallow(r,o,a,n)&&this.isShallowSampled(r,o,t,i,n)},deleteShallowConcavities:function(){for(var t=1,e=(this._inputLine.length,this.findNextNonDeletedIndex(t)),i=this.findNextNonDeletedIndex(e),r=!1;i<this._inputLine.length;){var o=!1;this.isDeletable(t,e,i,this._distanceTol)&&(this._isDeleted[e]=n.DELETE,o=!0,r=!0),t=o?i:e,e=this.findNextNonDeletedIndex(t),i=this.findNextNonDeletedIndex(e)}return r},isShallowConcavity:function(t,e,i,n){return r.a.computeOrientation(t,e,i)===this._angleOrientation&&r.a.distancePointLine(e,t,i)<n},isShallowSampled:function(t,e,i,r,o){var a=Math.trunc((r-i)/n.NUM_PTS_TO_CHECK);a<=0&&(a=1);for(var s=i;s<r;s+=a)if(!this.isShallow(t,e,this._inputLine[s],o))return!1;return!0},isConcave:function(t,e,i){return r.a.computeOrientation(t,e,i)===this._angleOrientation},simplify:function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=r.a.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===n.DELETE;)e++;return e},isShallow:function(t,e,i,n){return r.a.distancePointLine(e,t,i)<n},collapseLine:function(){for(var t=new o.a,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==n.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return n}}),n.simplify=function(t,e){return new n(t).simplify(e)},n.INIT=0,n.DELETE=1,n.KEEP=1,n.NUM_PTS_TO_CHECK=10},function(t,e,i){function n(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new c.a,this._seg1=new c.a,this._offset0=new c.a,this._offset1=new c.a,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],i=arguments[2];this._precisionModel=t,this._bufParams=e,this._li=new d.a,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===r.a.JOIN_ROUND&&(this._closingSegLengthFactor=n.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)}e.a=n;var r=i(81),o=i(56),a=i(8),s=i(17),l=i(2),h=i(0),u=i(291),c=i(14),f=i(105),d=i(22),p=i(58);Object(h.a)(n.prototype,{addNextSegment:function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var i=a.a.computeOrientation(this._s0,this._s1,this._s2),n=i===a.a.CLOCKWISE&&this._side===s.a.LEFT||i===a.a.COUNTERCLOCKWISE&&this._side===s.a.RIGHT;0===i?this.addCollinear(e):n?this.addOutsideTurn(i,e):this.addInsideTurn(i,e)},addLineEndCap:function(t,e){var i=new c.a(t,e),n=new c.a;this.computeOffsetSegment(i,s.a.LEFT,this._distance,n);var o=new c.a;this.computeOffsetSegment(i,s.a.RIGHT,this._distance,o);var h=e.x-t.x,u=e.y-t.y,f=Math.atan2(u,h);switch(this._bufParams.getEndCapStyle()){case r.a.CAP_ROUND:this._segList.addPt(n.p1),this.addFilletArc(e,f+Math.PI/2,f-Math.PI/2,a.a.CLOCKWISE,this._distance),this._segList.addPt(o.p1);break;case r.a.CAP_FLAT:this._segList.addPt(n.p1),this._segList.addPt(o.p1);break;case r.a.CAP_SQUARE:var d=new l.a;d.x=Math.abs(this._distance)*Math.cos(f),d.y=Math.abs(this._distance)*Math.sin(f);var p=new l.a(n.p1.x+d.x,n.p1.y+d.y),g=new l.a(o.p1.x+d.x,o.p1.y+d.y);this._segList.addPt(p),this._segList.addPt(g)}},getCoordinates:function(){return this._segList.getCoordinates()},addMitreJoin:function(t,e,i,n){var r=!0,a=null;try{a=p.a.intersection(e.p0,e.p1,i.p0,i.p1),(n<=0?1:a.distance(t)/Math.abs(n))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof o.a))throw t;a=new l.a(0,0),r=!1}r?this._segList.addPt(a):this.addLimitedMitreJoin(e,i,n,this._bufParams.getMitreLimit())},addFilletCorner:function(t,e,i,n,r){var o=e.x-t.x,s=e.y-t.y,l=Math.atan2(s,o),h=i.x-t.x,u=i.y-t.y,c=Math.atan2(u,h);n===a.a.CLOCKWISE?l<=c&&(l+=2*Math.PI):l>=c&&(l-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,l,c,n,r),this._segList.addPt(i)},addOutsideTurn:function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*n.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===r.a.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===r.a.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},createSquare:function(t){this._segList.addPt(new l.a(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new l.a(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new l.a(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new l.a(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},addSegments:function(t,e){this._segList.addPts(t,e)},addFirstSegment:function(){this._segList.addPt(this._offset1.p0)},addLastSegment:function(){this._segList.addPt(this._offset1.p1)},initSideSegments:function(t,e,i){this._s1=t,this._s2=e,this._side=i,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,i,this._distance,this._offset1)},addLimitedMitreJoin:function(t,e,i,n){var r=this._seg0.p1,o=f.a.angle(r,this._seg0.p0),a=(f.a.angle(r,this._seg1.p1),f.a.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2),h=f.a.normalize(o+a),u=f.a.normalize(h+Math.PI),d=n*i,p=i-d*Math.abs(Math.sin(a)),g=r.x+d*Math.cos(u),_=r.y+d*Math.sin(u),m=new l.a(g,_),y=new c.a(r,m),v=y.pointAlongOffset(1,p),b=y.pointAlongOffset(1,-p);this._side===s.a.LEFT?(this._segList.addPt(v),this._segList.addPt(b)):(this._segList.addPt(b),this._segList.addPt(v))},computeOffsetSegment:function(t,e,i,n){var r=e===s.a.LEFT?1:-1,o=t.p1.x-t.p0.x,a=t.p1.y-t.p0.y,l=Math.sqrt(o*o+a*a),h=r*i*o/l,u=r*i*a/l;n.p0.x=t.p0.x-u,n.p0.y=t.p0.y+h,n.p1.x=t.p1.x-u,n.p1.y=t.p1.y+h},addFilletArc:function(t,e,i,n,r){var o=n===a.a.CLOCKWISE?-1:1,s=Math.abs(e-i),h=Math.trunc(s/this._filletAngleQuantum+.5);if(h<1)return null;var u;u=s/h;for(var c=0,f=new l.a;c<s;){var d=e+o*c;f.x=t.x+r*Math.cos(d),f.y=t.y+r*Math.sin(d),this._segList.addPt(f),c+=u}},addInsideTurn:function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*n.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var i=new l.a((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i);var r=new l.a((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},createCircle:function(t){var e=new l.a(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},addBevelJoin:function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},init:function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new u.a,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*n.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===r.a.JOIN_BEVEL||this._bufParams.getJoinStyle()===r.a.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,a.a.CLOCKWISE,this._distance))},closeRing:function(){this._segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return n}}),n.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,n.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,n.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,n.MAX_CLOSING_SEG_LEN_FACTOR=80},function(t,e,i){function n(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new s.a}e.a=n;var r=i(15),o=i(2),a=i(0),s=i(1);Object(a.a)(n.prototype,{getCoordinates:function(){return this._ptList.toArray(n.COORDINATE_ARRAY_TYPE)},setPrecisionModel:function(t){this._precisionModel=t},addPt:function(t){var e=new o.a(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(i=0;i<t.length;i++)this.addPt(t[i]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},isRedundant:function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},toString:function(){return(new r.a).createLineString(this.getCoordinates()).toString()},closeRing:function(){if(this._ptList.size()<1)return null;var t=new o.a(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(this._ptList.size()>=2&&this._ptList.get(this._ptList.size()-2),t.equals(e))return null;this._ptList.add(t)},setMinimumVertexDistance:function(t){this._minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return n}}),n.COORDINATE_ARRAY_TYPE=new Array(0).fill(null)},function(t,e,i){function n(){this._subgraphs=null,this._seg=new f.a,this._cga=new o.a;var t=arguments[0];this._subgraphs=t}function r(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new f.a(t),this._leftDepth=e}e.a=n;var o=i(8),a=i(5),s=i(17),l=i(2),h=i(0),u=i(35),c=i(137),f=i(14),d=i(20),p=i(1),g=i(32);Object(h.a)(n.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new p.a,i=this._subgraphs.iterator();i.hasNext();){var n=i.next(),h=n.getEnvelope();t.y<h.getMinY()||t.y>h.getMaxY()||this.findStabbedSegments(t,n.getDirectedEdges(),e)}return e}if(3===arguments.length)if(Object(a.a)(arguments[2],g.a)&&arguments[0]instanceof l.a&&arguments[1]instanceof c.a){var u=arguments[0],f=arguments[1],d=arguments[2],_=f.getEdge().getCoordinates();for(i=0;i<_.length-1;i++)if(this._seg.p0=_[i],this._seg.p1=_[i+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<u.x||this._seg.isHorizontal()||u.y<this._seg.p0.y||u.y>this._seg.p1.y||o.a.computeOrientation(this._seg.p0,this._seg.p1,u)===o.a.RIGHT)){var m=f.getDepth(s.a.LEFT);this._seg.p0.equals(_[i])||(m=f.getDepth(s.a.RIGHT));var y=new r(this._seg,m);d.add(y)}}else if(Object(a.a)(arguments[2],g.a)&&arguments[0]instanceof l.a&&Object(a.a)(arguments[1],g.a)){var v=arguments[0],b=arguments[1],x=arguments[2];for(i=b.iterator();i.hasNext();){var L=i.next();L.isForward()&&this.findStabbedSegments(v,L,x)}}},getDepth:function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:u.a.min(e)._leftDepth},interfaces_:function(){return[]},getClass:function(){return n}}),Object(h.a)(r.prototype,{compareTo:function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var i=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==i?i:0!=(i=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?i:this._upwardSeg.compareTo(e._upwardSeg)},compareX:function(t,e){var i=t.p0.compareTo(e.p0);return 0!==i?i:t.p1.compareTo(e.p1)},toString:function(){return this._upwardSeg.toString()},interfaces_:function(){return[d.a]},getClass:function(){return r}}),n.DepthSegment=r},function(t,e,i){function n(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new y.a;var t=arguments[0],e=arguments[1],i=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=i}e.a=n;var r=i(10),o=i(9),a=i(8),s=i(17),l=i(25),h=i(65),u=i(16),c=i(40),f=i(29),d=i(0),p=i(30),g=i(26),_=i(13),m=i(19),y=i(1),v=i(28),b=i(80);Object(d.a)(n.prototype,{addPoint:function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),i=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(i,r.a.EXTERIOR,r.a.INTERIOR)},addPolygon:function(t){var e=this._distance,i=s.a.LEFT;this._distance<0&&(e=-this._distance,i=s.a.RIGHT);var n=t.getExteriorRing(),o=m.a.removeRepeatedPoints(n.getCoordinates());if(this._distance<0&&this.isErodedCompletely(n,this._distance))return null;if(this._distance<=0&&o.length<3)return null;this.addPolygonRing(o,e,i,r.a.EXTERIOR,r.a.INTERIOR);for(var a=0;a<t.getNumInteriorRing();a++){var l=t.getInteriorRingN(a),h=m.a.removeRepeatedPoints(l.getCoordinates());this._distance>0&&this.isErodedCompletely(l,-this._distance)||this.addPolygonRing(h,e,s.a.opposite(i),r.a.INTERIOR,r.a.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var i=new b.a(t[0],t[1],t[2]),n=i.inCentre();return a.a.distancePointLine(n,i.p0,i.p1)<Math.abs(e)},addLineString:function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=m.a.removeRepeatedPoints(t.getCoordinates()),i=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(i,r.a.EXTERIOR,r.a.INTERIOR)},addCurve:function(t,e,i){if(null===t||t.length<2)return null;var n=new h.a(t,new g.a(0,r.a.BOUNDARY,e,i));this._curveList.add(n)},getCurves:function(){return this.add(this._inputGeom),this._curveList},addPolygonRing:function(t,e,i,n,r){if(0===e&&t.length<f.a.MINIMUM_VALID_SIZE)return null;var o=n,l=r;t.length>=f.a.MINIMUM_VALID_SIZE&&a.a.isCCW(t)&&(o=r,l=n,i=s.a.opposite(i));var h=this._curveBuilder.getRingCurve(t,i,e);this.addCurve(h,o,l)},add:function(t){if(t.isEmpty())return null;if(t instanceof u.a)this.addPolygon(t);else if(t instanceof o.a)this.addLineString(t);else if(t instanceof l.a)this.addPoint(t);else if(t instanceof c.a)this.addCollection(t);else if(t instanceof v.a)this.addCollection(t);else if(t instanceof p.a)this.addCollection(t);else{if(!(t instanceof _.a))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var i=t.getCoordinates();if(i.length<4)return e<0;if(4===i.length)return this.isTriangleErodedCompletely(i,e);var n=t.getEnvelopeInternal(),r=Math.min(n.getHeight(),n.getWidth());return e<0&&2*Math.abs(e)>r},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);this.add(i)}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t}e.a=n;var r=i(0),o=i(98);Object(r.a)(n.prototype,{isTrivialIntersection:function(t,e,i,r){if(t===i&&1===this._li.getIntersectionNum()){if(n.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var o=t.size()-1;if(0===e&&r===o||0===r&&e===o)return!0}}return!1},getProperIntersectionPoint:function(){return this._properIntersectionPoint},hasProperInteriorIntersection:function(){return this._hasProperInterior},getLineIntersector:function(){return this._li},hasProperIntersection:function(){return this._hasProper},processIntersections:function(t,e,i,n){if(t===i&&e===n)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=i.getCoordinates()[n],s=i.getCoordinates()[n+1];this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,i,n)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),i.addIntersections(this._li,n,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this._hasInterior},interfaces_:function(){return[o.a]},getClass:function(){return n}}),n.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)}},function(t,e,i){function n(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new p.a,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()}e.a=n;var r=i(296),o=i(5),a=i(24),s=i(97),l=i(76),h=i(65),u=i(297),c=i(0),f=i(88),d=i(298),p=i(22),g=i(299);Object(c.a)(n.prototype,{checkCorrectness:function(t){var e=h.a.getNodedSubstrings(t),i=new r.a(e);try{i.checkValid()}catch(t){if(!(t instanceof f.a))throw t;t.printStackTrace()}},getNodedSubstrings:function(){return h.a.getNodedSubstrings(this._nodedSegStrings)},snapRound:function(t,e){var i=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(i),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var i=new g.a(e);return this._noder.setSegmentIntersector(i),this._noder.computeNodes(t),i.getInteriorIntersections()},computeVertexSnaps:function(){if(Object(o.a)(arguments[0],a.a))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof h.a)for(var i=arguments[0],n=i.getCoordinates(),r=0;r<n.length;r++){var s=new u.a(n[r],this._scaleFactor,this._li);this._pointSnapper.snap(s,i,r)&&i.addIntersection(n[r],r)}},computeNodes:function(t){this._nodedSegStrings=t,this._noder=new l.a,this._pointSnapper=new d.a(this._noder.getIndex()),this.snapRound(t,this._li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),n=new u.a(i,this._scaleFactor,this._li);this._pointSnapper.snap(n)}},interfaces_:function(){return[s.a]},getClass:function(){return n}})},function(t,e,i){function n(){this._li=new a.a,this._segStrings=null;var t=arguments[0];this._segStrings=t}e.a=n;var r=i(15),o=i(0),a=i(22),s=i(45);Object(o.a)(n.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(e=this._segStrings.iterator();e.hasNext();)n=(i=e.next()).getCoordinates(),this.checkEndPtVertexIntersections(n[0],this._segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this._segStrings);else if(2===arguments.length)for(var t=arguments[0],e=arguments[1].iterator();e.hasNext();)for(var i=e.next(),n=i.getCoordinates(),r=1;r<n.length-1;r++)if(n[r].equals(t))throw new s.a("found endpt/interior pt intersection at index "+r+" :pt "+t)},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),i=this._segStrings.iterator();i.hasNext();){var n=i.next();this.checkInteriorIntersections(e,n)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],a=r.getCoordinates(),l=o.getCoordinates(),h=0;h<a.length-1;h++)for(var u=0;u<l.length-1;u++)this.checkInteriorIntersections(r,h,o,u);else if(4===arguments.length){var c=arguments[0],f=arguments[1],d=arguments[2],p=arguments[3];if(c===d&&f===p)return null;var g=c.getCoordinates()[f],_=c.getCoordinates()[f+1],m=d.getCoordinates()[p],y=d.getCoordinates()[p+1];if(this._li.computeIntersection(g,_,m,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,g,_)||this.hasInteriorIntersection(this._li,m,y)))throw new s.a("found non-noded intersection at "+g+"-"+_+" and "+m+"-"+y)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(i=this._segStrings.iterator();i.hasNext();){var t=i.next();this.checkCollapses(t)}else if(1===arguments.length)for(var e=arguments[0].getCoordinates(),i=0;i<e.length-2;i++)this.checkCollapse(e[i],e[i+1],e[i+2])},hasInteriorIntersection:function(t,e,i){for(var n=0;n<t.getIntersectionNum();n++){var r=t.getIntersection(n);if(!r.equals(e)&&!r.equals(i))return!0}return!1},checkCollapse:function(t,e,i){if(t.equals(i))throw new s.a("found non-noded collapse at "+n.fact.createLineString([t,e,i]))},interfaces_:function(){return[]},getClass:function(){return n}}),n.fact=new r.a},function(t,e,i){function n(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],i=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=i,e<=0)throw new o.a("Scale factor must be non-zero");1!==e&&(this._pt=new r.a(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new r.a,this._p1Scaled=new r.a),this.initCorners(this._pt)}e.a=n;var r=i(2),o=i(6),a=i(0),s=i(7),l=i(4);Object(a.a)(n.prototype,{intersectsScaled:function(t,e){var i=Math.min(t.x,e.x),n=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),a=this._maxx<i||this._minx>n||this._maxy<r||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(t,e);return l.a.isTrue(!(a&&s),"Found bad envelope test"),s},initCorners:function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new r.a(this._maxx,this._maxy),this._corner[1]=new r.a(this._minx,this._maxy),this._corner[2]=new r.a(this._minx,this._miny),this._corner[3]=new r.a(this._maxx,this._miny)},intersects:function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},scale:function(t){return Math.round(t*this._scaleFactor)},getCoordinate:function(){return this._originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this._safeEnv){var t=n.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new s.a(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},intersectsPixelClosure:function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},intersectsToleranceSquare:function(t,e){var i=!1,n=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||i&&n||t.equals(this._pt)||e.equals(this._pt)))))},addSnappedNode:function(t,e){var i=t.getCoordinate(e),n=t.getCoordinate(e+1);return!!this.intersects(i,n)&&(t.addIntersection(this.getCoordinate(),e),!0)},interfaces_:function(){return[]},getClass:function(){return n}}),n.SAFE_ENV_EXPANSION_FACTOR=.75},function(t,e,i){function n(){this._index=null;var t=arguments[0];this._index=t}function r(){o.a.apply(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],i=arguments[2];this._hotPixel=t,this._parentEdge=e,this._hotPixelVertexIndex=i}e.a=n;var o=i(146),a=i(54),s=i(0),l=i(3);Object(s.a)(n.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],i=arguments[1],n=arguments[2],o=e.getSafeEnvelope(),s=new r(e,i,n);return this._index.query(o,{interfaces_:function(){return[a.a]},visitItem:function(t){t.select(o,s)}}),s.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return n}}),Object(l.a)(r,o.a),Object(s.a)(r.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return o.a.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],i=t.getContext();if(null!==this._parentEdge&&i===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,e)},interfaces_:function(){return[]},getClass:function(){return r}}),n.HotPixelSnapAction=r},function(t,e,i){function n(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new a.a}e.a=n;var r=i(0),o=i(98),a=i(1);Object(r.a)(n.prototype,{processIntersections:function(t,e,i,n){if(t===i&&e===n)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],a=i.getCoordinates()[n],s=i.getCoordinates()[n+1];if(this._li.computeIntersection(r,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));t.addIntersections(this._li,e,0),i.addIntersections(this._li,n,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this._interiorIntersections},interfaces_:function(){return[o.a]},getClass:function(){return n}})},function(t,e,i){i(301)},function(t,e,i){function n(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new r.a,this._minDistanceLocation=null,this._minDistance=p.a.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];n.call(this,t,e,0)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=i,this._geom[1]=o,this._terminateDistance=a}}var r=i(64),o=i(155),a=i(10),s=i(9),l=i(8),h=i(5),u=i(6),c=i(25),f=i(16),d=i(156),p=i(11),g=i(302),_=i(0),m=i(303),y=i(14),v=i(69),b=i(32);Object(_.a)(n.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],i=arguments[1],n=1-e,r=o.a.getPolygons(this._geom[e]);if(r.size()>0){var s=m.a.getLocations(this._geom[n]);if(this.computeContainmentDistance(s,r,i),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[n]=i[0],this._minDistanceLocation[e]=i[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&Object(h.a)(arguments[0],b.a)&&Object(h.a)(arguments[1],b.a)){for(var l=arguments[0],u=arguments[1],c=arguments[2],p=0;p<l.size();p++)for(var g=l.get(p),_=0;_<u.size();_++)if(this.computeContainmentDistance(g,u.get(_),c),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof d.a&&arguments[1]instanceof f.a){var y=arguments[0],v=arguments[1],x=arguments[2],L=y.getCoordinate();if(a.a.EXTERIOR!==this._ptLocator.locate(L,v))return this._minDistance=0,x[0]=y,x[1]=new d.a(v,L),null}},computeMinDistanceLinesPoints:function(t,e,i){for(var n=0;n<t.size();n++)for(var r=t.get(n),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(r,a,i),this._minDistance<=this._terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=v.a.getLines(this._geom[0]),i=v.a.getLines(this._geom[1]),n=g.a.getPoints(this._geom[0]),r=g.a.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(i,n,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(n,r,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this._minDistanceLocation},updateMinDistance:function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},nearestPoints:function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},computeMinDistance:function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof s.a&&arguments[1]instanceof c.a){var t=arguments[0],e=arguments[1],i=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var n=t.getCoordinates(),r=e.getCoordinate(),o=0;o<n.length-1;o++){if((_=l.a.distancePointLine(r,n[o],n[o+1]))<this._minDistance){this._minDistance=_;var a=new y.a(n[o],n[o+1]).closestPoint(r);i[0]=new d.a(t,o,a),i[1]=new d.a(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof s.a&&arguments[1]instanceof s.a){var h=arguments[0],u=arguments[1],f=arguments[2];if(h.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;n=h.getCoordinates();var p=u.getCoordinates();for(o=0;o<n.length-1;o++)for(var g=0;g<p.length-1;g++){var _=l.a.distanceLineLine(n[o],n[o+1],p[g],p[g+1]);if(_<this._minDistance){this._minDistance=_;var m=new y.a(n[o],n[o+1]),v=new y.a(p[g],p[g+1]),b=m.closestPoints(v);f[0]=new d.a(h,o,b[0]),f[1]=new d.a(u,g,b[1])}if(this._minDistance<=this._terminateDistance)return null}}},computeMinDistancePoints:function(t,e,i){for(var n=0;n<t.size();n++)for(var r=t.get(n),o=0;o<e.size();o++){var a=e.get(o),s=r.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,i[0]=new d.a(r,0,r.getCoordinate()),i[1]=new d.a(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},distance:function(){if(null===this._geom[0]||null===this._geom[1])throw new u.a("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},computeMinDistanceLines:function(t,e,i){for(var n=0;n<t.size();n++)for(var r=t.get(n),o=0;o<e.size();o++){var a=e.get(o);if(this.computeMinDistance(r,a,i),this._minDistance<=this._terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return n}}),n.distance=function(t,e){return new n(t,e).distance()},n.isWithinDistance=function(t,e,i){return new n(t,e,i).distance()<=i},n.nearestPoints=function(t,e){return new n(t,e).nearestPoints()}},function(t,e,i){function n(){this._pts=null;var t=arguments[0];this._pts=t}e.a=n;var r=i(25),o=i(0),a=i(35),s=i(13),l=i(1),h=i(38);Object(o.a)(n.prototype,{filter:function(t){t instanceof r.a&&this._pts.add(t)},interfaces_:function(){return[h.a]},getClass:function(){return n}}),n.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof r.a?a.a.singletonList(t):n.getPoints(t,new l.a)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return e instanceof r.a?i.add(e):e instanceof s.a&&e.apply(new n(i)),i}}},function(t,e,i){function n(){this._locations=null;var t=arguments[0];this._locations=t}e.a=n;var r=i(9),o=i(25),a=i(16),s=i(156),l=i(0),h=i(1),u=i(38);Object(l.a)(n.prototype,{filter:function(t){(t instanceof o.a||t instanceof r.a||t instanceof a.a)&&this._locations.add(new s.a(t,0,t.getCoordinate()))},interfaces_:function(){return[u.a]},getClass:function(){return n}}),n.getLocations=function(t){var e=new h.a;return t.apply(new n(e)),e}},function(t,e,i){i(305)},function(t,e,i){function n(){this._graph=new u.a,this._mergedLineStrings=null,this._factory=null,this._edgeStrings=null}var r=i(9),o=i(12),a=i(5),s=i(24),l=i(306),h=i(0),u=i(307),c=i(31),f=i(1),d=i(4),p=i(82);Object(h.a)(n.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(d.a.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this._mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var i=e.next();i.getEdge().isMarked()||this._edgeStrings.add(this.buildEdgeStringStartingWith(i))}},merge:function(){if(null!==this._mergedLineStrings)return null;p.a.setMarked(this._graph.nodeIterator(),!1),p.a.setMarked(this._graph.edgeIterator(),!1),this._edgeStrings=new f.a,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this._mergedLineStrings=new f.a;for(var t=this._edgeStrings.iterator();t.hasNext();){var e=t.next();this._mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new l.a(this._factory),i=t;do{e.add(i),i.getEdge().setMarked(!0),i=i.getNext()}while(null!==i&&i!==t);return e},add:function(){if(arguments[0]instanceof o.a)arguments[0].apply({interfaces_:function(){return[c.a]},filter:function(t){t instanceof r.a&&this.add(t)}});else if(Object(a.a)(arguments[0],s.a)){var t=arguments[0];this._mergedLineStrings=null;for(var e=t.iterator();e.hasNext();){var i=e.next();this.add(i)}}else if(arguments[0]instanceof r.a){var n=arguments[0];null===this._factory&&(this._factory=n.getFactory()),this._graph.addEdge(n)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._factory=null,this._directedEdges=new s.a,this._coordinates=null;var t=arguments[0];this._factory=t}e.a=n;var r=i(18),o=i(0),a=i(19),s=i(1);Object(o.a)(n.prototype,{getCoordinates:function(){if(null===this._coordinates){for(var t=0,e=0,i=new r.a,n=this._directedEdges.iterator();n.hasNext();){var o=n.next();o.getEdgeDirection()?t++:e++,i.add(o.getEdge().getLine().getCoordinates(),!1,o.getEdgeDirection())}this._coordinates=i.toCoordinateArray(),e>t&&a.a.reverse(this._coordinates)}return this._coordinates},toLineString:function(){return this._factory.createLineString(this.getCoordinates())},add:function(t){this._directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){u.a.apply(this)}e.a=n;var r=i(308),o=i(83),a=i(0),s=i(19),l=i(310),h=i(3),u=i(157);Object(h.a)(n,u.a),Object(a.a)(n.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=s.a.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var i=e[0],n=e[e.length-1],o=this.getNode(i),a=this.getNode(n),h=new r.a(o,a,e[1],!0),u=new r.a(a,o,e[e.length-2],!1),c=new l.a(t);c.setDirectedEdges(h,u),this.add(c)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new o.a(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];o.a.call(this,t,e,i,n)}e.a=n;var r=i(0),o=i(70),a=i(4),s=i(3);Object(s.a)(n,o.a),Object(r.a)(n.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(a.a.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._outEdges=new s.a,this._sorted=!1}e.a=n;var r=i(0),o=i(35),a=i(70),s=i(1),l=i(84);Object(r.a)(n.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this._outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},iterator:function(){return this.sortEdges(),this._outEdges.iterator()},sortEdges:function(){this._sorted||(o.a.sort(this._outEdges),this._sorted=!0)},remove:function(t){this._outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this._outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this._outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof l.a){var t=arguments[0];for(this.sortEdges(),i=0;i<this._outEdges.size();i++)if((n=this._outEdges.get(i)).getEdge()===t)return i;return-1}if(arguments[0]instanceof a.a){var e=arguments[0];this.sortEdges();for(var i=0;i<this._outEdges.size();i++){var n=this._outEdges.get(i);if(n===e)return i}return-1}if(Number.isInteger(arguments[0])){var r=arguments[0]%this._outEdges.size();return r<0&&(r+=this._outEdges.size()),r}},add:function(t){this._outEdges.add(t),this._sorted=!1},getDegree:function(){return this._outEdges.size()},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){o.a.apply(this),this._line=null;var t=arguments[0];this._line=t}e.a=n;var r=i(0),o=i(84),a=i(3);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{getLine:function(){return this._line},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._nodeMap=new o.a}e.a=n;var r=i(0),o=i(34);Object(r.a)(n.prototype,{find:function(t){return this._nodeMap.get(t)},iterator:function(){return this._nodeMap.values().iterator()},remove:function(t){return this._nodeMap.remove(t)},values:function(){return this._nodeMap.values()},add:function(t){return this._nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){var n=i(41);i.d(e,"a",function(){return n.a})},function(t,e,i){i(314)},function(t,e,i){function n(){if(this._lineStringAdder=new r(this),this._graph=null,this._dangles=new g.a,this._cutEdges=new g.a,this._invalidRingLines=new g.a,this._holeList=null,this._shellList=null,this._polyList=null,this._isCheckingRingsValid=!0,this._extractOnlyPolygonal=null,this._geomFactory=null,0===arguments.length)n.call(this,!1);else if(1===arguments.length){var t=arguments[0];this._extractOnlyPolygonal=t}}function r(){this.p=null;var t=arguments[0];this.p=t}var o=i(9),a=i(12),s=i(315),l=i(5),h=i(15),u=i(24),c=i(0),f=i(35),d=i(158),p=i(31),g=i(1);Object(c.a)(n.prototype,{getGeometry:function(){return null===this._geomFactory&&(this._geomFactory=new h.a),this.polygonize(),this._extractOnlyPolygonal?this._geomFactory.buildGeometry(this._polyList):this._geomFactory.createGeometryCollection(h.a.toGeometryArray(this._polyList))},getInvalidRingLines:function(){return this.polygonize(),this._invalidRingLines},findValidRings:function(t,e,i){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isValid()?e.add(r):i.add(r.getLineString())}},polygonize:function(){if(null!==this._polyList)return null;if(this._polyList=new g.a,null===this._graph)return null;this._dangles=this._graph.deleteDangles(),this._cutEdges=this._graph.deleteCutEdges();var t=this._graph.getEdgeRings(),e=new g.a;this._invalidRingLines=new g.a,this._isCheckingRingsValid?this.findValidRings(t,e,this._invalidRingLines):e=t,this.findShellsAndHoles(e),n.assignHolesToShells(this._holeList,this._shellList),f.a.sort(this._shellList,new d.a.EnvelopeComparator);var i=!0;this._extractOnlyPolygonal&&(n.findDisjointShells(this._shellList),i=!1),this._polyList=n.extractPolygons(this._shellList,i)},getDangles:function(){return this.polygonize(),this._dangles},getCutEdges:function(){return this.polygonize(),this._cutEdges},getPolygons:function(){return this.polygonize(),this._polyList},add:function(){if(Object(l.a)(arguments[0],u.a))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.add(e)}else if(arguments[0]instanceof o.a){var i=arguments[0];this._geomFactory=i.getFactory(),null===this._graph&&(this._graph=new s.a(this._geomFactory)),this._graph.addEdge(i)}else arguments[0]instanceof a.a&&arguments[0].apply(this._lineStringAdder)},setCheckRingsValid:function(t){this._isCheckingRingsValid=t},findShellsAndHoles:function(t){this._holeList=new g.a,this._shellList=new g.a;for(var e=t.iterator();e.hasNext();){var i=e.next();i.computeHole(),i.isHole()?this._holeList.add(i):this._shellList.add(i)}},interfaces_:function(){return[]},getClass:function(){return n}}),n.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),n=i.getOuterHole();null===n||n.isProcessed()||(i.setIncluded(!0),n.setProcessed(!0))}},n.extractPolygons=function(t,e){for(var i=new g.a,n=t.iterator();n.hasNext();){var r=n.next();(e||r.isIncluded())&&i.add(r.getPolygon())}return i},n.assignHolesToShells=function(t,e){for(var i=t.iterator();i.hasNext();){var r=i.next();n.assignHoleToShell(r,e)}},n.assignHoleToShell=function(t,e){var i=d.a.findEdgeRingContaining(t,e);null!==i&&i.addHole(t)},n.findDisjointShells=function(t){n.findOuterShells(t);var e=null;do{e=!1;for(var i=t.iterator();i.hasNext();){var r=i.next();r.isIncludedSet()||(r.updateIncluded(),r.isIncludedSet()||(e=!0))}}while(e)},Object(c.a)(r.prototype,{filter:function(t){t instanceof o.a&&this.p.add(t)},interfaces_:function(){return[p.a]},getClass:function(){return r}}),n.LineStringAdder=r},function(t,e,i){function n(){g.a.apply(this),this._factory=null;var t=arguments[0];this._factory=t}e.a=n;var r=i(316),o=i(46),a=i(63),s=i(83),l=i(317),h=i(0),u=i(158),c=i(19),f=i(1),d=i(4),p=i(3),g=i(157);Object(p.a)(n,g.a),Object(h.a)(n.prototype,{findEdgeRing:function(t){var e=new u.a(this._factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;)return null;else 1===arguments.length&&arguments[0]},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();n.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=c.a.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var i=e[0],n=e[e.length-1],o=this.getNode(i),a=this.getNode(n),s=new r.a(o,a,e[1],!0),h=new r.a(a,o,e[e.length-2],!1),u=new l.a(t);u.setDirectedEdges(s,h),this.add(u)},deleteCutEdges:function(){this.computeNextCWEdges(),n.findLabeledEdgeRings(this._dirEdges);for(var t=new f.a,e=this._dirEdges.iterator();e.hasNext();){var i=e.next();if(!i.isMarked()){var r=i.getSym();if(i.getLabel()===r.getLabel()){i.setMarked(!0),r.setMarked(!0);var o=i.getEdge();t.add(o.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),n.label(this._dirEdges,-1);var t=n.findLabeledEdgeRings(this._dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new f.a,i=this._dirEdges.iterator();i.hasNext();){var r=i.next();if(!r.isMarked()&&!r.isInRing()){var o=this.findEdgeRing(r);e.add(o)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new s.a(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next(),r=i.getLabel(),o=n.findIntersectionNodes(i,r);if(null!==o)for(var a=o.iterator();a.hasNext();){var s=a.next();n.computeNextCCWEdges(s,r)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new o.a,i=new a.a,r=t.iterator();r.hasNext();)i.push(r.next());for(;!i.isEmpty();){var s=i.pop();for(n.deleteAllEdges(s),r=s.getOutEdges().getEdges().iterator();r.hasNext();){var l=r.next();l.setMarked(!0);var h=l.getSym();null!==h&&h.setMarked(!0);var u=l.getEdge();e.add(u.getLine());var c=l.getToNode();1===n.getDegreeNonDeleted(c)&&i.push(c)}}return e},interfaces_:function(){return[]},getClass:function(){return n}}),n.findLabeledEdgeRings=function(t){for(var e=new f.a,i=1,r=t.iterator();r.hasNext();){var o=r.next();if(!(o.isMarked()||o.getLabel()>=0)){e.add(o);var a=u.a.findDirEdgesInRing(o);n.label(a,i),i++}}return e},n.getDegreeNonDeleted=function(t){for(var e=0,i=t.getOutEdges().getEdges().iterator();i.hasNext();)i.next().isMarked()||e++;return e},n.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges().iterator();e.hasNext();){var i=e.next();i.setMarked(!0);var n=i.getSym();null!==n&&n.setMarked(!0)}},n.label=function(t,e){for(var i=t.iterator();i.hasNext();)i.next().setLabel(e)},n.computeNextCWEdges=function(t){for(var e=null,i=null,n=t.getOutEdges().getEdges().iterator();n.hasNext();){var r=n.next();r.isMarked()||(null===e&&(e=r),null!==i&&(o=i.getSym()).setNext(r),i=r)}if(null!==i){var o=i.getSym();o.setNext(e)}},n.computeNextCCWEdges=function(t,e){for(var i=null,n=null,r=t.getOutEdges().getEdges(),o=r.size()-1;o>=0;o--){var a=r.get(o),s=a.getSym(),l=null;a.getLabel()===e&&(l=a);var h=null;s.getLabel()===e&&(h=s),null===l&&null===h||(null!==h&&(n=h),null!==l&&(null!==n&&(n.setNext(l),n=null),null===i&&(i=l)))}null!==n&&(d.a.isTrue(null!==i),n.setNext(i))},n.getDegree=function(t,e){for(var i=0,n=t.getOutEdges().getEdges().iterator();n.hasNext();)n.next().getLabel()===e&&i++;return i},n.findIntersectionNodes=function(t,e){var i=t,r=null;do{var o=i.getFromNode();n.getDegree(o,e)>1&&(null===r&&(r=new f.a),r.add(o)),i=i.getNext(),d.a.isTrue(null!==i,"found null DE in ring"),d.a.isTrue(i===t||!i.isInRing(),"found DE already in ring")}while(i!==t);return r}},function(t,e,i){function n(){this._edgeRing=null,this._next=null,this._label=-1;var t=arguments[0],e=arguments[1],i=arguments[2],n=arguments[3];o.a.call(this,t,e,i,n)}e.a=n;var r=i(0),o=i(70),a=i(3);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{getNext:function(){return this._next},isInRing:function(){return null!==this._edgeRing},setRing:function(t){this._edgeRing=t},setLabel:function(t){this._label=t},getLabel:function(){return this._label},setNext:function(t){this._next=t},getRing:function(){return this._edgeRing},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){o.a.apply(this),this._line=null;var t=arguments[0];this._line=t}e.a=n;var r=i(0),o=i(84),a=i(3);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{getLine:function(){return this._line},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._geometryFactory=new o.a,this._geomGraph=null,this._disconnectedRingcoord=null;var t=arguments[0];this._geomGraph=t}e.a=n;var r=i(10),o=i(15),a=i(17),s=i(16),l=i(0),h=i(30),u=i(134),c=i(102),f=i(1),d=i(4),p=i(66);Object(l.a)(n.prototype,{visitInteriorRing:function(t,e){var i=t.getCoordinates(),o=i[0],s=n.findDifferentPoint(i,o),l=e.findEdgeInSameDirection(o,s),h=e.findEdgeEnd(l),u=null;h.getLabel().getLocation(0,a.a.RIGHT)===r.a.INTERIOR?u=h:h.getSym().getLabel().getLocation(0,a.a.RIGHT)===r.a.INTERIOR&&(u=h.getSym()),d.a.isTrue(null!==u,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(u)},visitShellInteriors:function(t,e){if(t instanceof s.a&&(r=t,this.visitInteriorRing(r.getExteriorRing(),e)),t instanceof h.a)for(var i=t,n=0;n<i.getNumGeometries();n++){var r=i.getGeometryN(n);this.visitInteriorRing(r.getExteriorRing(),e)}},getCoordinate:function(){return this._disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var i=e.next();i.getLabel().getLocation(0,a.a.RIGHT)===r.a.INTERIOR&&i.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,i=t;do{d.a.isTrue(null!==i,"found null Directed Edge"),i.setVisited(!0),i=i.getNext()}while(i!==e)},buildEdgeRings:function(t){for(var e=new f.a,i=t.iterator();i.hasNext();){var n=i.next();if(n.isInResult()&&null===n.getEdgeRing()){var r=new u.a(n,this._geometryFactory);r.linkDirectedEdgesForMinimalEdgeRings();var o=r.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var i=t.get(e);if(!i.isHole()){var n=i.getEdges(),o=n.get(0);if(o.getLabel().getLocation(0,a.a.RIGHT)===r.a.INTERIOR)for(var s=0;s<n.size();s++)if(!(o=n.get(s)).isVisited())return this._disconnectedRingcoord=o.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new f.a;this._geomGraph.computeSplitEdges(t);var e=new p.a(new c.a);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var i=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this._geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(i)},interfaces_:function(){return[]},getClass:function(){return n}}),n.findDifferentPoint=function(t,e){for(var i=0;i<t.length;i++)if(!t[i].equals(e))return t[i];return null}},function(t,e,i){function n(){this._nodes=new s.a(new l.a)}e.a=n;var r=i(10),o=i(160),a=i(0),s=i(99),l=i(161);Object(a.a)(n.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this._nodes.add(i)}},getNodeIterator:function(){return this._nodes.iterator()},copyNodesAndLabels:function(t,e){for(var i=t.getNodeIterator();i.hasNext();){var n=i.next();this._nodes.addNode(n.getCoordinate()).setLabel(e,n.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=(new o.a).computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(e)},computeIntersectionNodes:function(t,e){for(var i=t.getEdgeIterator();i.hasNext();)for(var n=i.next(),o=n.getLabel().getLocation(e),a=n.getEdgeIntersectionList().iterator();a.hasNext();){var s=a.next(),l=this._nodes.addNode(s.coord);o===r.a.BOUNDARY?l.setLabelBoundary(e):l.getLabel().isNull(e)&&l.setLabel(e,r.a.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){o.a.apply(this)}e.a=n;var r=i(0),o=i(138),a=i(3),s=i(321);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();)e.next().updateIM(t)},insert:function(t){var e=this._edgeMap.get(t);null===e?(e=new s.a(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._edgeEnds=new u.a,1===arguments.length){var t=arguments[0];n.call(this,null,t)}else if(2===arguments.length){arguments[0];var e=arguments[1];o.a.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new h.a(e.getLabel())),this.insert(e)}}e.a=n;var r=i(10),o=i(100),a=i(17),s=i(0),l=i(68),h=i(26),u=i(1),c=i(78),f=i(3);Object(f.a)(n,o.a),Object(s.a)(n.prototype,{insert:function(t){this._edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this._label);for(var e=this.iterator();e.hasNext();)e.next().print(t),t.println()},iterator:function(){return this._edgeEnds.iterator()},getEdgeEnds:function(){return this._edgeEnds},computeLabelOn:function(t,e){for(var i=0,n=!1,o=this.iterator();o.hasNext();)(a=o.next().getLabel().getLocation(t))===r.a.BOUNDARY&&i++,a===r.a.INTERIOR&&(n=!0);var a=r.a.NONE;n&&(a=r.a.INTERIOR),i>0&&(a=l.a.determineBoundary(e,i)),this._label.setLocation(t,a)},computeLabelSide:function(t,e){for(var i=this.iterator();i.hasNext();){var n=i.next();if(n.getLabel().isArea()){var o=n.getLabel().getLocation(t,e);if(o===r.a.INTERIOR)return this._label.setLocation(t,e,r.a.INTERIOR),null;o===r.a.EXTERIOR&&this._label.setLocation(t,e,r.a.EXTERIOR)}}},getLabel:function(){return this._label},computeLabelSides:function(t){this.computeLabelSide(t,a.a.LEFT),this.computeLabelSide(t,a.a.RIGHT)},updateIM:function(t){c.a.updateIM(this._label,t)},computeLabel:function(t){for(var e=!1,i=this.iterator();i.hasNext();)i.next().getLabel().isArea()&&(e=!0);this._label=e?new h.a(r.a.NONE,r.a.NONE,r.a.NONE):new h.a(r.a.NONE);for(var n=0;n<2;n++)this.computeLabelOn(n,t),e&&this.computeLabelSides(n)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){var t=arguments[0],e=arguments[1];r.a.call(this,t,e)}e.a=n;var r=i(67),o=i(0),a=i(3);Object(a.a)(n,r.a),Object(o.a)(n.prototype,{updateIMFromEdges:function(t){this._edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this._label.getLocation(0),this._label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._graph=null,this._rings=new l.a,this._totalEnv=new h.a,this._index=null,this._nestedPt=null;var t=arguments[0];this._graph=t}e.a=n;var r=i(8),o=i(77),a=i(106),s=i(0),l=i(1),h=i(7);Object(s.a)(n.prototype,{buildIndex:function(){this._index=new o.a;for(var t=0;t<this._rings.size();t++){var e=this._rings.get(t),i=e.getEnvelopeInternal();this._index.insert(i,e)}},getNestedPoint:function(){return this._nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this._rings.size();t++)for(var e=this._rings.get(t),i=e.getCoordinates(),n=this._index.query(e.getEnvelopeInternal()),o=0;o<n.size();o++){var s=n.get(o),l=s.getCoordinates();if(e!==s&&e.getEnvelopeInternal().intersects(s.getEnvelopeInternal())){var h=a.a.findPtNotNode(i,s,this._graph);if(null!==h&&r.a.isPointInRing(h,l))return this._nestedPt=h,!1}}return!0},add:function(t){this._rings.add(t),this._totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._errorType=null,this._pt=null,1===arguments.length){var t=arguments[0];n.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],i=arguments[1];this._errorType=e,null!==i&&(this._pt=i.copy())}}e.a=n;var r=i(0);Object(r.a)(n.prototype,{getErrorType:function(){return this._errorType},getMessage:function(){return n.errMsg[this._errorType]},getCoordinate:function(){return this._pt},toString:function(){var t="";return null!==this._pt&&(t=" at or near point "+this._pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return n}}),n.ERROR=0,n.REPEATED_POINT=1,n.HOLE_OUTSIDE_SHELL=2,n.NESTED_HOLES=3,n.DISCONNECTED_INTERIOR=4,n.SELF_INTERSECTION=5,n.RING_SELF_INTERSECTION=6,n.NESTED_SHELLS=7,n.DUPLICATE_RINGS=8,n.TOO_FEW_POINTS=9,n.INVALID_COORDINATE=10,n.RING_NOT_CLOSED=11,n.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"]},function(t,e,i){i(326)},function(t,e,i){function n(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];h.a.call(this,t,e),this._relate=new a.a(this._arg)}else if(3===arguments.length){var i=arguments[0],n=arguments[1],r=arguments[2];h.a.call(this,i,n,r),this._relate=new a.a(this._arg)}}var r=i(12),o=i(5),a=i(327),s=i(59),l=i(0),h=i(103),u=i(328),c=i(3),f=i(329);Object(c.a)(n,h.a),Object(l.a)(n.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return n}}),n.covers=function(t,e){return!!t.getEnvelopeInternal().covers(e.getEnvelopeInternal())&&(!!t.isRectangle()||n.relate(t,e).isCovers())},n.intersects=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&(t.isRectangle()?f.a.intersects(t,e):e.isRectangle()?f.a.intersects(e,t):n.relate(t,e).isIntersects())},n.touches=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&n.relate(t,e).isTouches(t.getDimension(),e.getDimension())},n.within=function(t,e){return e.contains(t)},n.coveredBy=function(t,e){return n.covers(e,t)},n.relate=function(){if(2===arguments.length)return(a=new n(arguments[0],arguments[1])).getIntersectionMatrix();if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof r.a&&arguments[1]instanceof r.a){var t=arguments[0],e=arguments[1],i=arguments[2];return n.relateWithCheck(t,e).matches(i)}if(Object(o.a)(arguments[2],s.a)&&arguments[0]instanceof r.a&&arguments[1]instanceof r.a){var a=new n(arguments[0],arguments[1],arguments[2]),l=a.getIntersectionMatrix();return l}}},n.overlaps=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&n.relate(t,e).isOverlaps(t.getDimension(),e.getDimension())},n.disjoint=function(t,e){return!t.intersects(e)},n.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),n.relate(t,e)},n.crosses=function(t,e){return!!t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())&&n.relate(t,e).isCrosses(t.getDimension(),e.getDimension())},n.contains=function(t,e){return!!t.getEnvelopeInternal().contains(e.getEnvelopeInternal())&&(t.isRectangle()?u.a.contains(t,e):n.relate(t,e).isContains())}},function(t,e,i){function n(){this._li=new f.a,this._ptLocator=new r.a,this._arg=null,this._nodes=new h.a(new u.a),this._im=null,this._isolatedEdges=new c.a,this._invalidPoint=null;var t=arguments[0];this._arg=t}e.a=n;var r=i(64),o=i(10),a=i(126),s=i(160),l=i(0),h=i(99),u=i(161),c=i(1),f=i(22),d=i(4);Object(l.a)(n.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this._nodes.add(i)}},computeProperIntersectionIM:function(t,e){var i=this._arg[0].getGeometry().getDimension(),n=this._arg[1].getGeometry().getDimension(),r=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===i&&2===n?r&&e.setAtLeast("212101212"):2===i&&1===n?(r&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===i&&2===n?(r&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===i&&1===n&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var i=this._arg[t].getEdgeIterator();i.hasNext();){var n=i.next();n.isIsolated()&&(this.labelIsolatedEdge(n,e,this._arg[e].getGeometry()),this._isolatedEdges.add(n))}},labelIsolatedEdge:function(t,e,i){if(i.getDimension()>0){var n=this._ptLocator.locate(t.getCoordinate(),i);t.getLabel().setAllLocations(e,n)}else t.getLabel().setAllLocations(e,o.a.EXTERIOR)},computeIM:function(){var t=new a.a;if(t.set(o.a.EXTERIOR,o.a.EXTERIOR,2),!this._arg[0].getGeometry().getEnvelopeInternal().intersects(this._arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1);var e=this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var i=new s.a,n=i.computeEdgeEnds(this._arg[0].getEdgeIterator());this.insertEdgeEnds(n);var r=i.computeEdgeEnds(this._arg[1].getEdgeIterator());return this.insertEdgeEnds(r),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg)},copyNodesAndLabels:function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var i=e.next();this._nodes.addNode(i.getCoordinate()).setLabel(t,i.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this._arg[t].getEdgeIterator();e.hasNext();)for(var i=e.next(),n=i.getLabel().getLocation(t),r=i.getEdgeIntersectionList().iterator();r.hasNext();){var a=r.next(),s=this._nodes.find(a.coord);s.getLabel().isNull(t)&&(n===o.a.BOUNDARY?s.setLabelBoundary(t):s.setLabel(t,o.a.INTERIOR))}},labelIsolatedNode:function(t,e){var i=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setAllLocations(e,i)},computeIntersectionNodes:function(t){for(var e=this._arg[t].getEdgeIterator();e.hasNext();)for(var i=e.next(),n=i.getLabel().getLocation(t),r=i.getEdgeIntersectionList().iterator();r.hasNext();){var a=r.next(),s=this._nodes.addNode(a.coord);n===o.a.BOUNDARY?s.setLabelBoundary(t):s.getLabel().isNull(t)&&s.setLabel(t,o.a.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this._nodes.iterator();t.hasNext();){var e=t.next(),i=e.getLabel();d.a.isTrue(i.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(i.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this._isolatedEdges.iterator();e.hasNext();)e.next().updateIM(t);for(var i=this._nodes.iterator();i.hasNext();){var n=i.next();n.updateIM(t),n.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this._arg[0].getGeometry();e.isEmpty()||(t.set(o.a.INTERIOR,o.a.EXTERIOR,e.getDimension()),t.set(o.a.BOUNDARY,o.a.EXTERIOR,e.getBoundaryDimension()));var i=this._arg[1].getGeometry();i.isEmpty()||(t.set(o.a.EXTERIOR,o.a.INTERIOR,i.getDimension()),t.set(o.a.EXTERIOR,o.a.BOUNDARY,i.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._rectEnv=null;var t=arguments[0];this._rectEnv=t.getEnvelopeInternal()}e.a=n;var r=i(9),o=i(2),a=i(25),s=i(16),l=i(0);Object(l.a)(n.prototype,{isContainedInBoundary:function(t){if(t instanceof s.a)return!1;if(t instanceof a.a)return this.isPointContainedInBoundary(t);if(t instanceof r.a)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var i=t.getGeometryN(e);if(!this.isContainedInBoundary(i))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this._rectEnv.getMinX()||t.x===this._rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this._rectEnv.getMinY()||t.y===this._rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),i=new o.a,n=new o.a,r=0;r<e.size()-1;r++)if(e.getCoordinate(r,i),e.getCoordinate(r+1,n),!this.isLineSegmentContainedInBoundary(i,n))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof a.a){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof o.a){var e=arguments[0];return e.x===this._rectEnv.getMinX()||e.x===this._rectEnv.getMaxX()||e.y===this._rectEnv.getMinY()||e.y===this._rectEnv.getMaxY()}},contains:function(t){return!!this._rectEnv.contains(t.getEnvelopeInternal())&&!this.isContainedInBoundary(t)},interfaces_:function(){return[]},getClass:function(){return n}}),n.contains=function(t,e){return new n(t).contains(e)}},function(t,e,i){function n(){this._rectangle=null,this._rectEnv=null;var t=arguments[0];this._rectangle=t,this._rectEnv=t.getEnvelopeInternal()}function r(){c.a.apply(this),this._rectEnv=null,this._intersects=!1;var t=arguments[0];this._rectEnv=t}function o(){c.a.apply(this),this._rectSeq=null,this._rectEnv=null,this._containsPoint=!1;var t=arguments[0];this._rectSeq=t.getExteriorRing().getCoordinateSequence(),this._rectEnv=t.getEnvelopeInternal()}function a(){c.a.apply(this),this._rectEnv=null,this._rectIntersector=null,this._hasIntersection=!1,this._p0=new s.a,this._p1=new s.a;var t=arguments[0];this._rectEnv=t.getEnvelopeInternal(),this._rectIntersector=new h.a(this._rectEnv)}e.a=n;var s=i(2),l=i(16),h=i(330),u=i(0),c=i(331),f=i(139),d=i(69),p=i(3);Object(u.a)(n.prototype,{intersects:function(t){if(!this._rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new r(this._rectEnv);if(e.applyTo(t),e.intersects())return!0;var i=new o(this._rectangle);if(i.applyTo(t),i.containsPoint())return!0;var n=new a(this._rectangle);return n.applyTo(t),!!n.intersects()},interfaces_:function(){return[]},getClass:function(){return n}}),n.intersects=function(t,e){return new n(t).intersects(e)},Object(p.a)(r,c.a),Object(u.a)(r.prototype,{isDone:function(){return!0===this._intersects},visit:function(t){var e=t.getEnvelopeInternal();return this._rectEnv.intersects(e)?this._rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this._rectEnv.getMinX()&&e.getMaxX()<=this._rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this._rectEnv.getMinY()&&e.getMaxY()<=this._rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return r}}),Object(p.a)(o,c.a),Object(u.a)(o.prototype,{isDone:function(){return!0===this._containsPoint},visit:function(t){if(!(t instanceof l.a))return null;var e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;for(var i=new s.a,n=0;n<4;n++)if(this._rectSeq.getCoordinate(n,i),e.contains(i)&&f.a.containsPointInPolygon(i,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return o}}),Object(p.a)(a,c.a),Object(u.a)(a.prototype,{intersects:function(){return this._hasIntersection},isDone:function(){return!0===this._hasIntersection},visit:function(t){var e=t.getEnvelopeInternal();if(!this._rectEnv.intersects(e))return null;var i=d.a.getLines(t);this.checkIntersectionWithLineStrings(i)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();if(this.checkIntersectionWithSegments(i),this._hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),i=1;i<e.size();i++)if(e.getCoordinate(i-1,this._p0),e.getCoordinate(i,this._p1),this._rectIntersector.intersects(this._p0,this._p1))return this._hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return a}})},function(t,e,i){function n(){this._li=new a.a,this._rectEnv=null,this._diagUp0=null,this._diagUp1=null,this._diagDown0=null,this._diagDown1=null;var t=arguments[0];this._rectEnv=t,this._diagUp0=new r.a(t.getMinX(),t.getMinY()),this._diagUp1=new r.a(t.getMaxX(),t.getMaxY()),this._diagDown0=new r.a(t.getMinX(),t.getMaxY()),this._diagDown1=new r.a(t.getMaxX(),t.getMinY())}e.a=n;var r=i(2),o=i(0),a=i(22),s=i(7);Object(o.a)(n.prototype,{intersects:function(t,e){var i=new s.a(t,e);if(!this._rectEnv.intersects(i))return!1;if(this._rectEnv.intersects(t))return!0;if(this._rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var n=t;t=e,e=n}var r=!1;return e.y>t.y&&(r=!0),r?this._li.computeIntersection(t,e,this._diagDown0,this._diagDown1):this._li.computeIntersection(t,e,this._diagUp0,this._diagUp1),!!this._li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._isDone=!1}e.a=n;var r=i(0),o=i(13);Object(r.a)(n.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var i=t.getGeometryN(e);if(i instanceof o.a)this.applyTo(i);else if(this.visit(i),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){i(162),i(163),i(333),i(335),i(336)},function(t,e,i){function n(){if(this._polygons=new u.a,this._lines=new u.a,this._points=new u.a,this._geomFact=null,1===arguments.length){if(Object(a.a)(arguments[0],s.a)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof r.a){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var i=arguments[0],n=arguments[1];this._geomFact=n,this.extract(i)}}var r=i(12),o=i(163),a=i(5),s=i(24),l=i(74),h=i(0),u=i(1),c=i(334),f=i(41),d=i(162);Object(h.a)(n.prototype,{unionNoOpt:function(t){var e=this._geomFact.createPoint();return l.a.overlayOp(t,e,f.a.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if(Object(a.a)(arguments[0],s.a))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.extract(e)}else if(arguments[0]instanceof r.a){var i=arguments[0];null===this._geomFact&&(this._geomFact=i.getFactory()),c.a.extract(i,r.a.SORTINDEX_POLYGON,this._polygons),c.a.extract(i,r.a.SORTINDEX_LINESTRING,this._lines),c.a.extract(i,r.a.SORTINDEX_POINT,this._points)}},union:function(){if(null===this._geomFact)return null;var t=null;if(this._points.size()>0){var e=this._geomFact.buildGeometry(this._points);t=this.unionNoOpt(e)}var i=null;if(this._lines.size()>0){var n=this._geomFact.buildGeometry(this._lines);i=this.unionNoOpt(n)}var r=null;this._polygons.size()>0&&(r=d.a.union(this._polygons));var a,s=this.unionWithNull(i,r);return null===(a=null===t?s:null===s?t:o.a.union(t,s))?this._geomFact.createGeometryCollection():a},interfaces_:function(){return[]},getClass:function(){return n}}),n.union=function(){if(1===arguments.length){if(Object(a.a)(arguments[0],s.a))return(t=new n(arguments[0])).union();if(arguments[0]instanceof r.a)return(t=new n(arguments[0])).union()}else if(2===arguments.length){var t=new n(arguments[0],arguments[1]);return t.union()}}},function(t,e,i){function n(){this._sortIndex=-1,this._comps=null;var t=arguments[0],e=arguments[1];this._sortIndex=t,this._comps=e}e.a=n;var r=i(0),o=i(13),a=i(1),s=i(38);Object(r.a)(n.prototype,{filter:function(t){-1!==this._sortIndex&&t.getSortIndex()!==this._sortIndex||this._comps.add(t)},interfaces_:function(){return[s.a]},getClass:function(){return n}}),n.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return n.extract(t,e,new a.a)}if(3===arguments.length){var i=arguments[0],r=arguments[1],s=arguments[2];return i.getSortIndex()===r?s.add(i):i instanceof o.a&&i.apply(new n(r,s)),s}}},function(t,e,i){function n(){this._geomFactory=null,this._g0=null,this._g1=null,this._interacts0=null,this._interacts1=null;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e,this._geomFactory=t.getFactory(),this._interacts0=new Array(t.getNumGeometries()).fill(null),this._interacts1=new Array(e.getNumGeometries()).fill(null)}var r=i(0),o=i(107),a=i(23),s=i(1);Object(r.a)(n.prototype,{extractElements:function(t,e,i){for(var n=new s.a,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r);e[r]===i&&n.add(o)}return this._geomFactory.buildGeometry(n)},computeInteracting:function(){if(0===arguments.length)for(n=0;n<this._g0.getNumGeometries();n++){var t=this._g0.getGeometryN(n);this._interacts0[n]=this.computeInteracting(t)}else if(1===arguments.length){for(var e=arguments[0],i=!1,n=0;n<this._g1.getNumGeometries();n++){var r=this._g1.getGeometryN(n).getEnvelopeInternal().intersects(e.getEnvelopeInternal());r&&(this._interacts1[n]=!0),r&&(i=!0)}return i}},union:function(){this.computeInteracting();var t=this.extractElements(this._g0,this._interacts0,!0),e=this.extractElements(this._g1,this._interacts1,!0);(t.isEmpty()||e.isEmpty())&&a.a.out.println("found empty!");var i=t.union(e),n=this.extractElements(this._g0,this._interacts0,!1),r=this.extractElements(this._g1,this._interacts1,!1);return o.a.combine(i,n,r)},bufferUnion:function(t,e){return t.getFactory().createGeometryCollection([t,e]).buffer(0)},interfaces_:function(){return[]},getClass:function(){return n}}),n.union=function(t,e){return new n(t,e).union()}},function(t,e,i){function n(){}var r=i(74),o=i(0),a=i(41);Object(o.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return a.a.createEmptyResult(a.a.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),r.a.overlayOp(t,e,a.a.UNION)}},function(t,e,i){i(106),i(159)},function(t,e,i){i(339)},function(t,e,i){function n(){this._targetPM=null,this._removeCollapsed=!0,this._changePrecisionModel=!1,this._isPointwise=!1;var t=arguments[0];this._targetPM=t}var r=i(5),o=i(15),a=i(93),s=i(0),l=i(39),h=i(340);Object(s.a)(n.prototype,{fixPolygonalTopology:function(t){var e=t;this._changePrecisionModel||(e=this.changePM(t,this._targetPM));var i=e.buffer(0),n=i;return this._changePrecisionModel||(n=this.changePM(i,t.getPrecisionModel())),n},reducePointwise:function(t){var e=null;if(this._changePrecisionModel){var i=this.createFactory(t.getFactory(),this._targetPM);e=new a.a(i)}else e=new a.a;var n=this._removeCollapsed;return t.getDimension()>=2&&(n=!0),e.edit(t,new h.a(this._targetPM,n))},changePM:function(t,e){return this.createEditor(t.getFactory(),e).edit(t,new a.a.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this._removeCollapsed=t},createFactory:function(t,e){return new o.a(e,t.getSRID(),t.getCoordinateSequenceFactory())},setChangePrecisionModel:function(t){this._changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this._isPointwise?e:Object(r.a)(e,l.a)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this._isPointwise=t},createEditor:function(t,e){if(t.getPrecisionModel()===e)return new a.a;var i=this.createFactory(t,e);return new a.a(i)},interfaces_:function(){return[]},getClass:function(){return n}}),n.reduce=function(t,e){return new n(e).reduce(t)},n.reducePointwise=function(t,e){var i=new n(e);return i.setPointwise(!0),i.reduce(t)}},function(t,e,i){function n(){s.a.CoordinateOperation.apply(this),this._targetPM=null,this._removeCollapsed=!0;var t=arguments[0],e=arguments[1];this._targetPM=t,this._removeCollapsed=e}e.a=n;var r=i(9),o=i(18),a=i(2),s=i(93),l=i(29),h=i(0),u=i(3);Object(u.a)(n,s.a.CoordinateOperation),Object(h.a)(n.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var i=new Array(t.length).fill(null),n=0;n<t.length;n++){var s=new a.a(t[n]);this._targetPM.makePrecise(s),i[n]=s}var h=new o.a(i,!1).toCoordinateArray(),u=0;e instanceof r.a&&(u=2),e instanceof l.a&&(u=4);var c=i;return this._removeCollapsed&&(c=null),h.length<u?c:h},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){i(342),i(344)},function(t,e,i){function n(){this._inputGeom=null,this._distanceTolerance=null,this._isEnsureValidTopology=!0;var t=arguments[0];this._inputGeom=t}function r(){a.a.apply(this),this._isEnsureValidTopology=!0,this._distanceTolerance=null;var t=arguments[0],e=arguments[1];this._isEnsureValidTopology=t,this._distanceTolerance=e}var o=i(343),a=i(75),s=i(6),l=i(16),h=i(29),u=i(0),c=i(30),f=i(3);Object(u.a)(n.prototype,{setEnsureValid:function(t){this._isEnsureValidTopology=t},getResultGeometry:function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():new r(this._isEnsureValidTopology,this._distanceTolerance).transform(this._inputGeom)},setDistanceTolerance:function(t){if(t<0)throw new s.a("Tolerance must be non-negative");this._distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return n}}),n.simplify=function(t,e){var i=new n(t);return i.setDistanceTolerance(e),i.getResultGeometry()},Object(f.a)(r,a.a),Object(u.a)(r.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var i=a.a.prototype.transformPolygon.call(this,t,e);return e instanceof c.a?i:this.createValidArea(i)},createValidArea:function(t){return this._isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var i,n=t.toCoordinateArray();return i=0===n.length?new Array(0).fill(null):o.a.simplify(n,this._distanceTolerance),this._factory.getCoordinateSequenceFactory().create(i)},transformMultiPolygon:function(t,e){var i=a.a.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(i)},transformLinearRing:function(t,e){var i=e instanceof l.a,n=a.a.prototype.transformLinearRing.call(this,t,e);return!i||n instanceof h.a?n:null},interfaces_:function(){return[]},getClass:function(){return r}}),n.DPTransformer=r},function(t,e,i){function n(){this._pts=null,this._usePt=null,this._distanceTolerance=null,this._seg=new s.a;var t=arguments[0];this._pts=t}e.a=n;var r=i(18),o=i(2),a=i(0),s=i(14);Object(a.a)(n.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this._seg.p0=this._pts[t],this._seg.p1=this._pts[e];for(var i=-1,n=t,r=t+1;r<e;r++){var o=this._seg.distance(this._pts[r]);o>i&&(i=o,n=r)}if(i<=this._distanceTolerance)for(r=t+1;r<e;r++)this._usePt[r]=!1;else this.simplifySection(t,n),this.simplifySection(n,e)},setDistanceTolerance:function(t){this._distanceTolerance=t},simplify:function(){for(this._usePt=new Array(this._pts.length).fill(null),e=0;e<this._pts.length;e++)this._usePt[e]=!0;this.simplifySection(0,this._pts.length-1);for(var t=new r.a,e=0;e<this._pts.length;e++)this._usePt[e]&&t.add(new o.a(this._pts[e]));return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return n}}),n.simplify=function(t,e){var i=new n(t);return i.setDistanceTolerance(e),i.simplify()}},function(t,e,i){function n(){this._inputGeom=null,this._lineSimplifier=new h.a,this._linestringMap=null;var t=arguments[0];this._inputGeom=t}function r(){l.a.apply(this),this._linestringMap=null;var t=arguments[0];this._linestringMap=t}function o(){this.tps=null;var t=arguments[0];this.tps=t}var a=i(9),s=i(73),l=i(75),h=i(345),u=i(6),c=i(0),f=i(31),d=i(3),p=i(165);Object(c.a)(n.prototype,{getResultGeometry:function(){return this._inputGeom.isEmpty()?this._inputGeom.copy():(this._linestringMap=new s.a,this._inputGeom.apply(new o(this)),this._lineSimplifier.simplify(this._linestringMap.values()),new r(this._linestringMap).transform(this._inputGeom))},setDistanceTolerance:function(t){if(t<0)throw new u.a("Tolerance must be non-negative");this._lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return n}}),n.simplify=function(t,e){var i=new n(t);return i.setDistanceTolerance(e),i.getResultGeometry()},Object(d.a)(r,l.a),Object(c.a)(r.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof a.a){var i=this._linestringMap.get(e);return this.createCoordinateSequence(i.getResultCoordinates())}return l.a.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return r}}),Object(c.a)(o.prototype,{filter:function(t){if(t instanceof a.a){var e=t;if(e.isEmpty())return null;var i=e.isClosed()?4:2,n=new p.a(e,i);this.tps._linestringMap.put(e,n)}},interfaces_:function(){return[f.a]},getClass:function(){return o}}),n.LineStringTransformer=r,n.LineStringMapBuilderFilter=o},function(t,e,i){function n(){this._inputIndex=new a.a,this._outputIndex=new a.a,this._distanceTolerance=0}e.a=n;var r=i(0),o=i(346),a=i(164);Object(r.a)(n.prototype,{setDistanceTolerance:function(t){this._distanceTolerance=t},simplify:function(t){for(e=t.iterator();e.hasNext();)this._inputIndex.add(e.next());for(var e=t.iterator();e.hasNext();){var i=new o.a(this._inputIndex,this._outputIndex);i.setDistanceTolerance(this._distanceTolerance),i.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._li=new s.a,this._inputIndex=new a.a,this._outputIndex=new a.a,this._line=null,this._linePts=null,this._distanceTolerance=0;var t=arguments[0],e=arguments[1];this._inputIndex=t,this._outputIndex=e}e.a=n;var r=i(0),o=i(14),a=i(164),s=i(22);Object(r.a)(n.prototype,{flatten:function(t,e){var i=this._linePts[t],n=this._linePts[e],r=new o.a(i,n);return this.remove(this._line,t,e),this._outputIndex.add(r),r},hasBadIntersection:function(t,e,i){return!!this.hasBadOutputIntersection(i)||!!this.hasBadInputIntersection(t,e,i)},setDistanceTolerance:function(t){this._distanceTolerance=t},simplifySection:function(t,e,i){i+=1;var n=new Array(2).fill(null);if(t+1===e)return h=this._line.getSegment(t),this._line.addToResult(h),null;var r=!0;this._line.getResultSize()<this._line.getMinimumSize()&&i+1<this._line.getMinimumSize()&&(r=!1);var a=new Array(1).fill(null),s=this.findFurthestPoint(this._linePts,t,e,a);a[0]>this._distanceTolerance&&(r=!1);var l=new o.a;if(l.p0=this._linePts[t],l.p1=this._linePts[e],n[0]=t,n[1]=e,this.hasBadIntersection(this._line,n,l)&&(r=!1),r){var h=this.flatten(t,e);return this._line.addToResult(h),null}this.simplifySection(t,s,i),this.simplifySection(s,e,i)},hasBadOutputIntersection:function(t){for(var e=this._outputIndex.query(t).iterator();e.hasNext();){var i=e.next();if(this.hasInteriorIntersection(i,t))return!0}return!1},findFurthestPoint:function(t,e,i,n){var r=new o.a;r.p0=t[e],r.p1=t[i];for(var a=-1,s=e,l=e+1;l<i;l++){var h=t[l],u=r.distance(h);u>a&&(a=u,s=l)}return n[0]=a,s},simplify:function(t){this._line=t,this._linePts=t.getParentCoordinates(),this.simplifySection(0,this._linePts.length-1,0)},remove:function(t,e,i){for(var n=e;n<i;n++){var r=t.getSegment(n);this._inputIndex.remove(r)}},hasInteriorIntersection:function(t,e){return this._li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this._li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,i){for(var r=this._inputIndex.query(i).iterator();r.hasNext();){var o=r.next();if(this.hasInteriorIntersection(o,i)){if(n.isInLineSection(t,e,o))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return n}}),n.isInLineSection=function(t,e,i){if(i.getParent()!==t.getParent())return!1;var n=i.getIndex();return n>=e[0]&&n<e[1]}},function(t,e,i){function n(){if(this._parent=null,this._index=null,2===arguments.length){var t=arguments[0],e=arguments[1];n.call(this,t,e,null,-1)}else if(4===arguments.length){var i=arguments[0],r=arguments[1],a=arguments[2],s=arguments[3];o.a.call(this,i,r),this._parent=a,this._index=s}}e.a=n;var r=i(0),o=i(14),a=i(3);Object(a.a)(n,o.a),Object(r.a)(n.prototype,{getIndex:function(){return this._index},getParent:function(){return this._parent},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){i(349),i(110),i(361),i(362)},function(t,e,i){function n(){this._siteCoords=null,this._constraintLines=null,this._tolerance=0,this._subdiv=null,this._constraintVertexMap=new c.a}var r=i(350),o=i(166),a=i(0),s=i(110),l=i(169),h=i(1),u=i(69),c=i(34);Object(a.a)(n.prototype,{createSiteVertices:function(t){for(var e=new h.a,i=t.iterator();i.hasNext();){var n=i.next();this._constraintVertexMap.containsKey(n)||e.add(new o.a(n))}return e},create:function(){if(null!==this._subdiv)return null;var t=s.a.envelope(this._siteCoords),e=new h.a;null!==this._constraintLines&&(t.expandToInclude(this._constraintLines.getEnvelopeInternal()),this.createVertices(this._constraintLines),e=n.createConstraintSegments(this._constraintLines));var i=this.createSiteVertices(this._siteCoords),o=new r.a(i,this._tolerance);o.setConstraints(e,new h.a(this._constraintVertexMap.values())),o.formInitialDelaunay(),o.enforceConstraints(),this._subdiv=o.getSubdivision()},setTolerance:function(t){this._tolerance=t},setConstraints:function(t){this._constraintLines=t},setSites:function(t){this._siteCoords=s.a.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this._subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this._subdiv},getTriangles:function(t){return this.create(),this._subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),i=0;i<e.length;i++){var n=new o.a(e[i]);this._constraintVertexMap.put(e[i],n)}},interfaces_:function(){return[]},getClass:function(){return n}}),n.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=u.a.getLines(t),i=new h.a,r=e.iterator();r.hasNext();){var o=r.next();n.createConstraintSegments(o,i)}return i}if(2===arguments.length){var a=arguments[0],s=arguments[1],c=a.getCoordinates();for(r=1;r<c.length;r++)s.add(new l.a(c[r-1],c[r]))}}},function(t,e,i){function n(){this._initialVertices=null,this._segVertices=null,this._segments=new _.a,this._subdiv=null,this._incDel=null,this._convexHull=null,this._splitFinder=new o.a,this._kdt=null,this._vertexFactory=null,this._computeAreaEnv=null,this._splitPt=null,this._tolerance=null;var t=arguments[0],e=arguments[1];this._initialVertices=new _.a(t),this._tolerance=e,this._kdt=new g.a(e)}e.a=n;var r=i(15),o=i(351),a=i(166),s=i(2),l=i(108),h=i(109),u=i(11),c=i(0),f=i(168),d=i(169),p=i(94),g=i(358),_=i(1),m=i(7);Object(c.a)(n.prototype,{getInitialVertices:function(){return this._initialVertices},getKDT:function(){return this._kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this._segments),t++}while(e>0&&t<n.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var i=e.next();this.insertSite(i)}},getVertexFactory:function(){return this._vertexFactory},getPointArray:function(){for(var t=new Array(this._initialVertices.size()+this._segVertices.size()).fill(null),e=0,i=this._initialVertices.iterator();i.hasNext();)r=i.next(),t[e++]=r.getCoordinate();for(var n=this._segVertices.iterator();n.hasNext();){var r=n.next();t[e++]=r.getCoordinate()}return t},setConstraints:function(t,e){this._segments=t,this._segVertices=e},computeConvexHull:function(){var t=new r.a,e=this.getPointArray(),i=new p.a(e,t);this._convexHull=i.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this._segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),i=t.getEnd(),n=new s.a((e.x+i.x)/2,(e.y+i.y)/2),r=e.distance(n),o=new m.a(n);o.expandBy(r);for(var a=this._kdt.query(o),l=null,h=u.a.MAX_VALUE,c=a.iterator();c.hasNext();){var f=c.next().getCoordinate();if(!f.equals2D(e)&&!f.equals2D(i)){var d=n.distance(f);d<r&&(null===l||d<h)&&(l=f,h=d)}}return l},getConstraintSegments:function(){return this._segments},setSplitPointFinder:function(t){this._splitFinder=t},getConvexHull:function(){return this._convexHull},getTolerance:function(){return this._tolerance},enforceGabriel:function(t){for(var e=new _.a,i=0,n=new _.a,r=t.iterator();r.hasNext();){var o=r.next(),a=this.findNonGabrielPoint(o);if(null!==a){this._splitPt=this._splitFinder.findSplitPoint(o,a);var s=this.createVertex(this._splitPt,o),l=(this.insertSite(s),new d.a(o.getStartX(),o.getStartY(),o.getStartZ(),s.getX(),s.getY(),s.getZ(),o.getData())),h=new d.a(s.getX(),s.getY(),s.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(l),e.add(h),n.add(o),i+=1}}return t.removeAll(n),t.addAll(e),i},createVertex:function(){if(1===arguments.length){var t=arguments[0];return n=null,null!==this._vertexFactory?this._vertexFactory.createVertex(t,null):new a.a(t)}if(2===arguments.length){var e=arguments[0],i=arguments[1],n=null;return(n=null!==this._vertexFactory?this._vertexFactory.createVertex(e,i):new a.a(e)).setOnConstraint(!0),n}},getSubdivision:function(){return this._subdiv},computeBoundingBox:function(){var t=n.computeVertexEnvelope(this._initialVertices),e=n.computeVertexEnvelope(this._segVertices),i=new m.a(t);i.expandToInclude(e);var r=.2*i.getWidth(),o=.2*i.getHeight(),a=Math.max(r,o);this._computeAreaEnv=new m.a(i),this._computeAreaEnv.expandBy(a)},setVertexFactory:function(t){this._vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this._subdiv=new h.a(this._computeAreaEnv,this._tolerance),this._subdiv.setLocator(new f.a(this._subdiv)),this._incDel=new l.a(this._subdiv),this.insertSites(this._initialVertices)},insertSite:function(){if(arguments[0]instanceof a.a){var t=arguments[0],e=this._kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var i=e.getData();return i.merge(t),i}return this._incDel.insertSite(t),t}if(arguments[0]instanceof s.a){var n=arguments[0];this.insertSite(this.createVertex(n))}},interfaces_:function(){return[]},getClass:function(){return n}}),n.computeVertexEnvelope=function(t){for(var e=new m.a,i=t.iterator();i.hasNext();){var n=i.next();e.expandToInclude(n.getCoordinate())}return e},n.MAX_SPLIT_ITER=99},function(t,e,i){function n(){}e.a=n;var r=i(0),o=i(352),a=i(353);Object(r.a)(n.prototype,{findSplitPoint:function(t,e){var i=t.getLineSegment(),r=i.getLength()/2,a=new o.a(i),s=n.projectedSplitPoint(t,e),l=2*s.distance(e)*.8;return l>r&&(l=r),a.setMinimumLength(l),a.splitAt(s),a.getSplitPoint()},interfaces_:function(){return[a.a]},getClass:function(){return n}}),n.projectedSplitPoint=function(t,e){return t.getLineSegment().project(e)}},function(t,e,i){function n(){this._seg=null,this._segLen=null,this._splitPt=null,this._minimumLen=0;var t=arguments[0];this._seg=t,this._segLen=t.getLength()}e.a=n;var r=i(2),o=i(0);Object(o.a)(n.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this._minimumLen/this._segLen;if(t.distance(this._seg.p0)<this._minimumLen)return this._splitPt=this._seg.pointAlong(e),null;if(t.distance(this._seg.p1)<this._minimumLen)return this._splitPt=n.pointAlongReverse(this._seg,e),null;this._splitPt=t}else if(2===arguments.length){var i=arguments[0],r=arguments[1],o=this.getConstrainedLength(i)/this._segLen;r.equals2D(this._seg.p0)?this._splitPt=this._seg.pointAlong(o):this._splitPt=n.pointAlongReverse(this._seg,o)}},setMinimumLength:function(t){this._minimumLen=t},getConstrainedLength:function(t){return t<this._minimumLen?this._minimumLen:t},getSplitPoint:function(){return this._splitPt},interfaces_:function(){return[]},getClass:function(){return n}}),n.pointAlongReverse=function(t,e){var i=new r.a;return i.x=t.p1.x-e*(t.p1.x-t.p0.x),i.y=t.p1.y-e*(t.p1.y-t.p0.y),i}},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){}e.a=n;var r=i(27),o=i(62),a=i(0),s=i(117),l=i(23),h=i(80);Object(a.a)(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.triArea=function(t,e,i){return(e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)},n.isInCircleDDNormalized=function(t,e,i,n){var r=s.a.valueOf(t.x).selfSubtract(n.x),o=s.a.valueOf(t.y).selfSubtract(n.y),a=s.a.valueOf(e.x).selfSubtract(n.x),l=s.a.valueOf(e.y).selfSubtract(n.y),h=s.a.valueOf(i.x).selfSubtract(n.x),u=s.a.valueOf(i.y).selfSubtract(n.y),c=r.multiply(l).selfSubtract(a.multiply(o)),f=a.multiply(u).selfSubtract(h.multiply(l)),d=h.multiply(o).selfSubtract(r.multiply(u)),p=r.multiply(r).selfAdd(o.multiply(o)),g=a.multiply(a).selfAdd(l.multiply(l)),_=h.multiply(h).selfAdd(u.multiply(u));return p.selfMultiply(f).selfAdd(g.selfMultiply(d)).selfAdd(_.selfMultiply(c)).doubleValue()>0},n.checkRobustInCircle=function(t,e,i,a){var s=n.isInCircleNonRobust(t,e,i,a),u=n.isInCircleDDSlow(t,e,i,a),c=n.isInCircleCC(t,e,i,a),f=h.a.circumcentre(t,e,i);l.a.out.println("p radius diff a = "+Math.abs(a.distance(f)-t.distance(f))/t.distance(f)),s===u&&s===c||(l.a.out.println("inCircle robustness failure (double result = "+s+", DD result = "+u+", CC result = "+c+")"),l.a.out.println(r.a.toLineString(new o.a([t,e,i,a]))),l.a.out.println("Circumcentre = "+r.a.toPoint(f)+" radius = "+t.distance(f)),l.a.out.println("p radius diff a = "+Math.abs(a.distance(f)/t.distance(f)-1)),l.a.out.println("p radius diff b = "+Math.abs(a.distance(f)/e.distance(f)-1)),l.a.out.println("p radius diff c = "+Math.abs(a.distance(f)/i.distance(f)-1)),l.a.out.println())},n.isInCircleDDFast=function(t,e,i,r){var o=s.a.sqr(t.x).selfAdd(s.a.sqr(t.y)).selfMultiply(n.triAreaDDFast(e,i,r)),a=s.a.sqr(e.x).selfAdd(s.a.sqr(e.y)).selfMultiply(n.triAreaDDFast(t,i,r)),l=s.a.sqr(i.x).selfAdd(s.a.sqr(i.y)).selfMultiply(n.triAreaDDFast(t,e,r)),h=s.a.sqr(r.x).selfAdd(s.a.sqr(r.y)).selfMultiply(n.triAreaDDFast(t,e,i));return o.selfSubtract(a).selfAdd(l).selfSubtract(h).doubleValue()>0},n.isInCircleCC=function(t,e,i,n){var r=h.a.circumcentre(t,e,i),o=t.distance(r);return n.distance(r)-o<=0},n.isInCircleNormalized=function(t,e,i,n){var r=t.x-n.x,o=t.y-n.y,a=e.x-n.x,s=e.y-n.y,l=i.x-n.x,h=i.y-n.y;return(r*r+o*o)*(a*h-l*s)+(a*a+s*s)*(l*o-r*h)+(l*l+h*h)*(r*s-a*o)>0},n.isInCircleDDSlow=function(t,e,i,r){var o=s.a.valueOf(r.x),a=s.a.valueOf(r.y),l=s.a.valueOf(t.x),h=s.a.valueOf(t.y),u=s.a.valueOf(e.x),c=s.a.valueOf(e.y),f=s.a.valueOf(i.x),d=s.a.valueOf(i.y),p=l.multiply(l).add(h.multiply(h)).multiply(n.triAreaDDSlow(u,c,f,d,o,a)),g=u.multiply(u).add(c.multiply(c)).multiply(n.triAreaDDSlow(l,h,f,d,o,a)),_=f.multiply(f).add(d.multiply(d)).multiply(n.triAreaDDSlow(l,h,u,c,o,a)),m=o.multiply(o).add(a.multiply(a)).multiply(n.triAreaDDSlow(l,h,u,c,f,d));return p.subtract(g).add(_).subtract(m).doubleValue()>0},n.isInCircleNonRobust=function(t,e,i,r){return(t.x*t.x+t.y*t.y)*n.triArea(e,i,r)-(e.x*e.x+e.y*e.y)*n.triArea(t,i,r)+(i.x*i.x+i.y*i.y)*n.triArea(t,e,r)-(r.x*r.x+r.y*r.y)*n.triArea(t,e,i)>0},n.isInCircleRobust=function(t,e,i,r){return n.isInCircleNormalized(t,e,i,r)},n.triAreaDDSlow=function(t,e,i,n,r,o){return i.subtract(t).multiply(o.subtract(e)).subtract(n.subtract(e).multiply(r.subtract(t)))},n.triAreaDDFast=function(t,e,i){var n=s.a.valueOf(e.x).selfSubtract(t.x).selfMultiply(s.a.valueOf(i.y).selfSubtract(t.y)),r=s.a.valueOf(e.y).selfSubtract(t.y).selfMultiply(s.a.valueOf(i.x).selfSubtract(t.x));return n.selfSubtract(r)}},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];a.a.call(this,t)}else if(arguments[0]instanceof o.a){var e=arguments[0];a.a.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this._seg=new o.a(e)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];a.a.call(this,n.msgWithSpatial(i,r)),this._seg=new o.a(r)}}e.a=n;var r=i(0),o=i(14),a=i(45),s=i(3);Object(s.a)(n,a.a),Object(r.a)(n.prototype,{getSegment:function(){return this._seg},interfaces_:function(){return[]},getClass:function(){return n}}),n.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t}},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._root=null,this._numberOfNodes=null,this._tolerance=null,0===arguments.length)n.call(this,0);else if(1===arguments.length){var t=arguments[0];this._tolerance=t}}function r(){this._tolerance=null,this._matchNode=null,this._matchDist=0,this._p=null;var t=arguments[0],e=arguments[1];this._p=t,this._tolerance=e}e.a=n;var o=i(18),a=i(5),s=i(0),l=i(1),h=i(359),u=i(7),c=i(32),f=i(360);Object(s.a)(n.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],i=arguments[1];if(null===this._root)return this._root=new f.a(e,i),this._root;if(this._tolerance>0){var n=this.findBestMatchNode(e);if(null!==n)return n.increment(),n}return this.insertExact(e,i)}},query:function(){if(1===arguments.length){var t=arguments[0],e=new l.a;return this.query(t,e),e}if(2===arguments.length)if(arguments[0]instanceof u.a&&Object(a.a)(arguments[1],c.a)){var i=arguments[0],n=arguments[1];this.queryNode(this._root,i,!0,{interfaces_:function(){return[h.a]},visit:function(t){n.add(t)}})}else if(arguments[0]instanceof u.a&&Object(a.a)(arguments[1],h.a)){var r=arguments[0],o=arguments[1];this.queryNode(this._root,r,!0,o)}},queryNode:function(t,e,i,n){if(null===t)return null;var r=null,o=null,a=null;i?(r=e.getMinX(),o=e.getMaxX(),a=t.getX()):(r=e.getMinY(),o=e.getMaxY(),a=t.getY());var s=a<=o;r<a&&this.queryNode(t.getLeft(),e,!i,n),e.contains(t.getCoordinate())&&n.visit(t),s&&this.queryNode(t.getRight(),e,!i,n)},findBestMatchNode:function(t){var e=new r(t,this._tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this._root},insertExact:function(t,e){for(var i=this._root,n=this._root,r=!0,o=!0;null!==i;){if(null!==i&&t.distance(i.getCoordinate())<=this._tolerance)return i.increment(),i;n=i,i=(o=r?t.x<i.getX():t.y<i.getY())?i.getLeft():i.getRight(),r=!r}this._numberOfNodes=this._numberOfNodes+1;var a=new f.a(t,e);return o?n.setLeft(a):n.setRight(a),a},interfaces_:function(){return[]},getClass:function(){return n}}),n.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return n.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],i=arguments[1],r=new o.a,a=e.iterator();a.hasNext();)for(var s=a.next(),l=i?s.getCount():1,h=0;h<l;h++)r.add(s.getCoordinate(),!0);return r.toCoordinateArray()}},Object(s.a)(r.prototype,{visit:function(t){var e=this._p.distance(t.getCoordinate());if(!(e<=this._tolerance))return null;var i=!1;(null===this._matchNode||e<this._matchDist||null!==this._matchNode&&e===this._matchDist&&t.getCoordinate().compareTo(this._matchNode.getCoordinate())<1)&&(i=!0),i&&(this._matchNode=t,this._matchDist=e)},queryEnvelope:function(){var t=new u.a(this._p);return t.expandBy(this._tolerance),t},getNode:function(){return this._matchNode},interfaces_:function(){return[h.a]},getClass:function(){return r}}),n.BestMatchVisitor=r},function(t,e,i){function n(){}e.a=n;var r=i(0);Object(r.a)(n.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){if(this._p=null,this._data=null,this._left=null,this._right=null,this._count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this._p=new r.a(t),this._left=null,this._right=null,this._count=1,this._data=e}else if(3===arguments.length){var i=arguments[0],n=arguments[1],o=arguments[2];this._p=new r.a(i,n),this._left=null,this._right=null,this._count=1,this._data=o}}e.a=n;var r=i(2),o=i(0);Object(o.a)(n.prototype,{isRepeated:function(){return this._count>1},getRight:function(){return this._right},getCoordinate:function(){return this._p},setLeft:function(t){this._left=t},getX:function(){return this._p.x},getData:function(){return this._data},getCount:function(){return this._count},getLeft:function(){return this._left},getY:function(){return this._p.y},increment:function(){this._count=this._count+1},setRight:function(t){this._right=t},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._siteCoords=null,this._tolerance=0,this._subdiv=null,this._clipEnv=null,this._diagramEnv=null}var r=i(12),o=i(5),a=i(15),s=i(24),l=i(108),h=i(109),u=i(0),c=i(110),f=i(19),d=i(1);Object(u.a)(n.prototype,{create:function(){if(null!==this._subdiv)return null;var t=c.a.envelope(this._siteCoords);this._diagramEnv=t;var e=Math.max(this._diagramEnv.getWidth(),this._diagramEnv.getHeight());this._diagramEnv.expandBy(e),null!==this._clipEnv&&this._diagramEnv.expandToInclude(this._clipEnv);var i=c.a.toVertices(this._siteCoords);this._subdiv=new h.a(t,this._tolerance),new l.a(this._subdiv).insertSites(i)},getDiagram:function(t){this.create();var e=this._subdiv.getVoronoiDiagram(t);return n.clipGeometryCollection(e,this._diagramEnv)},setTolerance:function(t){this._tolerance=t},setSites:function(){if(arguments[0]instanceof r.a){var t=arguments[0];this._siteCoords=c.a.extractUniqueCoordinates(t)}else if(Object(o.a)(arguments[0],s.a)){var e=arguments[0];this._siteCoords=c.a.unique(f.a.toCoordinateArray(e))}},setClipEnvelope:function(t){this._clipEnv=t},getSubdivision:function(){return this.create(),this._subdiv},interfaces_:function(){return[]},getClass:function(){return n}}),n.clipGeometryCollection=function(t,e){for(var i=t.getFactory().toGeometry(e),n=new d.a,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r),s=null;e.contains(o.getEnvelopeInternal())?s=o:e.intersects(o.getEnvelopeInternal())&&(s=i.intersection(o)).setUserData(o.getUserData()),null===s||s.isEmpty()||n.add(s)}return t.getFactory().createGeometryCollection(a.a.toGeometryArray(n))}},function(t,e,i){i(85)},function(t,e,i){i(364),i(175),i(174),i(71),i(86),i(170)},function(t,e,i){function n(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}var r=i(170),o=i(0),a=i(365),s=i(172),l=i(175),h=i(173);Object(o.a)(n.prototype,{clampIndex:function(t){var e=this.positiveIndex(t),i=this.getStartIndex();if(e<i)return i;var n=this.getEndIndex();return e>n?n:e},locationOf:function(){if(1===arguments.length){var t=arguments[0];return l.a.getLocation(this._linearGeom,t)}if(2===arguments.length){var e=arguments[0],i=arguments[1];return l.a.getLocation(this._linearGeom,e,i)}},project:function(t){return a.a.indexOf(this._linearGeom,t)},positiveIndex:function(t){return t>=0?t:this._linearGeom.getLength()+t},extractPoint:function(){if(1===arguments.length){var t=arguments[0];return(n=l.a.getLocation(this._linearGeom,t)).getCoordinate(this._linearGeom)}if(2===arguments.length){var e=arguments[0],i=arguments[1],n=l.a.getLocation(this._linearGeom,e),r=n.toLowest(this._linearGeom);return r.getSegment(this._linearGeom).pointAlongOffset(r.getSegmentFraction(),i)}},isValidIndex:function(t){return t>=this.getStartIndex()&&t<=this.getEndIndex()},getEndIndex:function(){return this._linearGeom.getLength()},getStartIndex:function(){return 0},indexOfAfter:function(t,e){return a.a.indexOfAfter(this._linearGeom,t,e)},extractLine:function(t,e){new r.a(this._linearGeom);var i=this.clampIndex(t),n=this.clampIndex(e),o=i===n,a=this.locationOf(i,o),s=this.locationOf(n);return h.a.extract(this._linearGeom,a,s)},indexOf:function(t){return a.a.indexOf(this._linearGeom,t)},indicesOf:function(t){var e=s.a.indicesOf(this._linearGeom,t);return[l.a.getLength(this._linearGeom,e[0]),l.a.getLength(this._linearGeom,e[1])]},interfaces_:function(){return[]},getClass:function(){return n}})},function(t,e,i){function n(){this._linearGeom=null;var t=arguments[0];this._linearGeom=t}e.a=n;var r=i(71),o=i(11),a=i(0),s=i(14),l=i(4);Object(a.a)(n.prototype,{indexOf:function(t){return this.indexOfFromStart(t,-1)},indexOfFromStart:function(t,e){for(var i=o.a.MAX_VALUE,n=e,a=0,l=new s.a,h=new r.a(this._linearGeom);h.hasNext();){if(!h.isEndOfLine()){l.p0=h.getSegmentStart(),l.p1=h.getSegmentEnd();var u=l.distance(t),c=this.segmentNearestMeasure(l,t,a);u<i&&c>e&&(n=c,i=u),a+=l.getLength()}h.next()}return n},indexOfAfter:function(t,e){if(e<0)return this.indexOf(t);var i=this._linearGeom.getLength();if(i<e)return i;var n=this.indexOfFromStart(t,e);return l.a.isTrue(n>=e,"computed index is before specified minimum index"),n},segmentNearestMeasure:function(t,e,i){var n=t.projectionFactor(e);return n<=0?i:n<=1?i+n*t.getLength():i+t.getLength()},interfaces_:function(){return[]},getClass:function(){return n}}),n.indexOf=function(t,e){return new n(t).indexOf(e)},n.indexOfAfter=function(t,e,i){return new n(t).indexOfAfter(e,i)}},function(t,e,i){var n=i(111),r=i(44);e.a=function(t,e){if(e=e||{},!Object(r.c)(e))throw new Error("options is invalid");var i=e.precision,o=e.coordinates,a=e.mutate;if(i=void 0===i||null===i||isNaN(i)?6:i,o=void 0===o||null===o||isNaN(o)?3:o,!t)throw new Error("<geojson> is required");if("number"!=typeof i)throw new Error("<precision> must be a number");if("number"!=typeof o)throw new Error("<coordinates> must be a number");!1!==a&&void 0!==a||(t=JSON.parse(JSON.stringify(t)));var s=Math.pow(10,i);return Object(n.a)(t,function(t){!function(t,e,i){t.length>i&&t.splice(i,t.length);for(var n=0;n<t.length;n++)t[n]=Math.round(t[n]*e)/e}(t,s,o)}),t}},function(t,e,i){function r(t){var e,i,n=Object(a.a)(t);if(2===n.length&&(e=n[0],i=n[1],e[0]!==i[0]||e[1]!==i[1]))return n;var r,o,s,l,h,u,c,f,d,p,g,_,m,y,v=[],b=n.length-1;v.push(n[0]);for(var x=1;x<b;x++)r=n[x-1],o=n[x],l=r,h=s=n[x+1],void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c=(u=o)[0],f=u[1],d=l[0],p=l[1],g=h[0],_=h[1],(c-d)*(y=_-p)-(f-p)*(m=g-d)==0&&(Math.abs(m)>=Math.abs(y)?m>0?d<=c&&c<=g:g<=c&&c<=d:y>0?p<=f&&f<=_:_<=f&&f<=p)||v.push(o);return v.push(s),v}var o=i(44),a=i(112);e.a=function(t,e){var i="object"==(void 0===e?"undefined":n(e))?e.mutate:e;if(!t)throw new Error("geojson is required");var s=Object(a.c)(t),l=[];switch(s){case"LineString":l=r(t);break;case"MultiLineString":case"Polygon":Object(a.a)(t).forEach(function(t){l.push(r(t))});break;case"MultiPolygon":Object(a.a)(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(r(t))}),l.push(e)});break;case"Point":return t;case"MultiPoint":var h={};Object(a.a)(t).forEach(function(t){var e=t.join("-");h.hasOwnProperty(e)||(l.push(t),h[e]=!0)});break;default:throw new Error(s+" geometry not supported")}return t.coordinates?!0===i?(t.coordinates=l,t):{type:s,coordinates:l}:!0===i?(t.geometry.coordinates=l,t):Object(o.a)({type:s,coordinates:l},t.properties,t.bbox,t.id)}},function(t,e,i){function n(t){switch(t.type){case"Polygon":return Object(o.a)(t)>1?t:null;case"MultiPolygon":var e=[];if(Object(l.b)(t,function(t){Object(o.a)(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(115),o=i(369),a=i(44),s=i(112),l=i(111);e.default=function(t,e){var i=Object(s.b)(t),o=Object(s.b)(e),l=t.properties||{};if(i=n(i),o=n(o),!i)return null;if(!o)return Object(a.a)(i,l);var h=new r.a,u=h.read(i),c=h.read(o),f=r.c.difference(u,c);if(f.isEmpty())return null;var d=(new r.b).write(f);return Object(a.a)(d,l)}},function(t,e,i){function n(t){var e=0;if(t&&t.length>0){e+=Math.abs(r(t[0]));for(var i=1;i<t.length;i++)e-=Math.abs(r(t[i]))}return e}function r(t){var e,i,n,r,a,l,h=0,u=t.length;if(u>2){for(l=0;l<u;l++)l===u-2?(n=u-2,r=u-1,a=0):l===u-1?(n=u-1,r=0,a=1):(n=l,r=l+1,a=l+2),e=t[n],i=t[r],h+=(o(t[a][0])-o(e[0]))*Math.sin(o(i[1]));h=h*s*s/2}return h}function o(t){return t*Math.PI/180}var a=i(111),s=6378137;e.a=function(t){return Object(a.c)(t,function(t,e){return t+function t(e){var i,r=0;switch(e.type){case"Polygon":return n(e.coordinates);case"MultiPolygon":for(i=0;i<e.coordinates.length;i++)r+=n(e.coordinates[i]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(i=0;i<e.geometries.length;i++)r+=t(e.geometries[i]);return r}}(e)},0)}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n={_initDraggableLayer:function(){this._tempDragCoord=null;var t=this._layer._path;L.DomUtil.addClass(t,"leaflet-pm-draggable"),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0,this._layer.on("mousedown",this._dragMixinOnMouseDown,this)},_dragMixinOnMouseUp:function(){var t=this,e=this._layer._path;return this._originalMapDragState&&this._layer._map.dragging.enable(),this._safeToCacheDragState=!0,this._layer._map.off("mousemove",this._dragMixinOnMouseMove,this),this._layer.off("mouseup",this._dragMixinOnMouseUp,this),!!this._dragging&&(this._initMarkers(),window.setTimeout(function(){t._dragging=!1,L.DomUtil.removeClass(e,"leaflet-pm-dragging"),t._layer.fire("pm:dragend"),t._fireEdit()},10),!0)},_dragMixinOnMouseMove:function(t){var e=this._layer._path;this._dragging||(this._dragging=!0,L.DomUtil.addClass(e,"leaflet-pm-dragging"),this._layer.bringToFront(),this._originalMapDragState&&this._layer._map.dragging.disable(),this._markerGroup.clearLayers(),this._layer.fire("pm:dragstart")),this._onLayerDrag(t)},_dragMixinOnMouseDown:function(t){this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=t.latlng,this._layer.on("mouseup",this._dragMixinOnMouseUp,this),this._layer._map.on("mousemove",this._dragMixinOnMouseMove,this)},dragging:function(){return this._dragging},_onLayerDrag:function(t){var e,i=t.latlng,n=i.lat-this._tempDragCoord.lat,r=i.lng-this._tempDragCoord.lng,o=function(t){return t.map(function(t){return{lat:t.lat+n,lng:t.lng+r}})};e=this.isPolygon()?this._layer._latlngs.map(o,this):o(this._layer._latlngs),this._layer.setLatLngs(e).redraw(),this._tempDragCoord=i,this._layer.fire("pm:drag")}};e.default=n},function(t,e,i){var n;(n=i(49),n&&n.__esModule?n:{default:n}).default.LayerGroup=L.Class.extend({initialize:function(t){var e=this;this._layerGroup=t,this._layers=this.findLayers(),this._layers.forEach(function(t){return e._initLayer(t)}),this._layerGroup.on("layeradd",function(t){e._layers=e.findLayers(),t.layer.pm&&e._initLayer(t.layer),t.target.pm.enabled()&&e.enable(e.getOptions())})},findLayers:function(){var t=this._layerGroup.getLayers();return t.filter(function(t){return!!t.pm})},_initLayer:function(t){var e=this;["pm:edit","pm:update","pm:remove","pm:dragstart","pm:drag","pm:dragend","pm:snap","pm:unsnap","pm:cut","pm:intersect","pm:raiseMarkers","pm:markerdragend","pm:markerdragstart","pm:vertexadded","pm:vertexremoved","pm:centerplaced"].forEach(function(i){t.on(i,e._fireEvent,e)}),t.pm._layerGroup=this._layerGroup},_fireEvent:function(t){this._layerGroup.fireEvent(t.type,t)},toggleEdit:function(t){this._options=t,this._layers.forEach(function(e){e.pm.toggleEdit(t)})},enable:function(t){this._options=t,this._layers.forEach(function(e){e.pm.enable(t)})},disable:function(){this._layers.forEach(function(t){t.pm.disable()})},enabled:function(){return!!this._layers.find(function(t){return t.pm.enabled()})},dragging:function(){return!!this._layers.find(function(t){return t.pm.dragging()})},getOptions:function(){return this._options}})},function(t,e,i){var n,r=(n=i(49))&&n.__esModule?n:{default:n};r.default.Marker=r.default.extend({initialize:function(t){this._layer=t,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0};this.options=t,this._map=this._layer._map,this.enabled()||(this._enabled=!0,this._layer.on("contextmenu",this._removeMarker,this),this.options.draggable&&this._layer.dragging.enable(),this.options.snappable&&this._initSnappableMarkers())},enabled:function(){return this._enabled},disable:function(){this._enabled=!1,this._layer.dragging.disable(),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._layer.fire("pm:update",{}),this._layerEdited=!1},_removeMarker:function(t){var e=t.target;e.remove(),e.fire("pm:remove")},_onDragEnd:function(t){t.target.fire("pm:edit"),this._layerEdited=!0},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,t.off("drag",this._handleSnapping,this),t.on("drag",this._handleSnapping,this),t.off("dragend",this._cleanupSnapping,this),t.on("dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)}})},function(t,e,i){function n(t){return t&&t.__esModule?t:{default:t}}var r=n(i(114)),o=n(i(49));o.default.Line=o.default.extend({initialize:function(t){this._layer=t,this._enabled=!1},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enable:function(t){L.Util.setOptions(this,t),this._map=this._layer._map,this._map&&(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this._layer.on("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.draggable&&this._initDraggableLayer(),this.options.allowSelfIntersection||this._handleLayerStyle())},_onLayerRemove:function(t){this.disable(t.target)},enabled:function(){return this._enabled},disable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._layer;if(!this.enabled())return!1;if(t.pm._dragging)return!1;t.pm._enabled=!1,t.pm._markerGroup.clearLayers(),t.off("mousedown"),t.off("mouseup"),this._layer.off("remove",this._onLayerRemove),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval);var e=t._path;return L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this.hasSelfIntersection()&&L.DomUtil.removeClass(e,"leaflet-pm-invalid"),this._layerEdited&&this._layer.fire("pm:update",{}),this._layerEdited=!1,!0},hasSelfIntersection:function(){return(0,r.default)(this._layer.toGeoJSON()).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(t){var e=this._layer._path;if(this.hasSelfIntersection()){if(L.DomUtil.hasClass(e,"leaflet-pm-invalid"))return;t?(L.DomUtil.addClass(e,"leaflet-pm-invalid"),window.setTimeout(function(){L.DomUtil.removeClass(e,"leaflet-pm-invalid")},200)):L.DomUtil.addClass(e,"leaflet-pm-invalid"),this._layer.fire("pm:intersect",{intersection:(0,r.default)(this._layer.toGeoJSON())})}else L.DomUtil.removeClass(e,"leaflet-pm-invalid")},_initMarkers:function(){var t=this,e=this._map,i=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,this._markerGroup._pmTempLayer=!0,e.addLayer(this._markerGroup);var n=function(e){var i=e.map(t._createMarker,t);return e.map(function(n,r){var o;return o=t.isPolygon()?(r+1)%e.length:r+1,t._createMiddleMarker(i[r],i[o])}),i};this._markers=[],this.isPolygon()?this._markers=i.map(n,this):this._markers=n(i),this.options.snappable&&this._initSnappableMarkers()},_createMarker:function(t){var e=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return e._pmTempLayer=!0,e.on("dragstart",this._onMarkerDragStart,this),e.on("move",this._onMarkerDrag,this),e.on("dragend",this._onMarkerDragEnd,this),e.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(e),e},_createMiddleMarker:function(t,e){var i=this;if(!t||!e)return!1;var n=this._calcMiddleLatLng(t.getLatLng(),e.getLatLng()),r=this._createMarker(n),o=L.divIcon({className:"marker-icon marker-icon-middle"});return r.setIcon(o),t._middleMarkerNext=r,e._middleMarkerPrev=r,r.on("click",function(){var n=L.divIcon({className:"marker-icon"});r.setIcon(n),i._addMarker(r,t,e)}),r.on("movestart",function(){r.on("moveend",function(){var t=L.divIcon({className:"marker-icon"});r.setIcon(t),r.off("moveend")}),i._addMarker(r,t,e)}),r},_addMarker:function(t,e,i){t.off("movestart"),t.off("click");var n=t.getLatLng(),r=this._layer._latlngs,o=this.findMarkerIndex(this._markers,i),a=o.ringIndex,s=o.index,l=a>-1?r[a]:r,h=a>-1?this._markers[a]:this._markers;l.splice(s,0,n),h.splice(s,0,t),this._layer.setLatLngs(r),this._createMiddleMarker(e,t),this._createMiddleMarker(t,i),this._fireEdit(),this._layer.fire("pm:vertexadded",{layer:this._layer,marker:t,index:s,ringIndex:a}),this.options.snappable&&this._initSnappableMarkers()},_removeMarker:function(t){if(!this.options.allowSelfIntersection){var e=this._layer.getLatLngs();this._coordsBeforeEdit=JSON.parse(JSON.stringify(e))}var i=t.target,n=this._layer.getLatLngs(),r=this.findMarkerIndex(this._markers,i),o=r.ringIndex,a=r.index,s=o>-1?n[o]:n,l=o>-1?this._markers[o]:this._markers;if(-1!==this.findMarkerIndex(this._markers,i).index){s.splice(a,1),this._layer.setLatLngs(n),s.length<=1&&(n.splice(o,1),this._layer.setLatLngs(n),this.disable(),this.enable(this.options)),n.length<1&&this._layer.remove(),i._middleMarkerPrev&&this._markerGroup.removeLayer(i._middleMarkerPrev),i._middleMarkerNext&&this._markerGroup.removeLayer(i._middleMarkerNext),this._markerGroup.removeLayer(i);var h=void 0,u=void 0;if(this.isPolygon()?(h=(a+1)%l.length,u=(a+(l.length-1))%l.length):(u=a-1<0?void 0:a-1,h=a+1>=l.length?void 0:a+1),h!==u){var c=l[u],f=l[h];this._createMiddleMarker(c,f)}l.splice(a,1),this._fireEdit(),this._layer.fire("pm:vertexremoved",{layer:this._layer,marker:i,index:a,ringIndex:o})}},findMarkerIndex:function(t,e){var i=void 0,n=void 0;return this.isPolygon()?n=t.findIndex(function(t){return(i=t.findIndex(function(t){return e._leaflet_id===t._leaflet_id}))>-1}):i=t.findIndex(function(t){return e._leaflet_id===t._leaflet_id}),{index:i,ringIndex:n}},updatePolygonCoordsFromMarkerDrag:function(t){var e=this._layer.getLatLngs(),i=this.findMarkerIndex(this._markers,t),n=i.ringIndex,r=i.index;(n>-1?e[n]:e).splice(r,1,t.getLatLng()),this._layer.setLatLngs(e).redraw()},_onMarkerDrag:function(t){var e=t.target;if(-1!==this.findMarkerIndex(this._markers,e).index){this.updatePolygonCoordsFromMarkerDrag(e);var i=this.findMarkerIndex(this._markers,e),n=i.ringIndex,r=i.index,o=n>-1?this._markers[n]:this._markers,a=(r+1)%o.length,s=(r+o.length-1)%o.length,l=e.getLatLng(),h=o[s].getLatLng(),u=o[a].getLatLng();if(e._middleMarkerNext){var c=this._calcMiddleLatLng(l,u);e._middleMarkerNext.setLatLng(c)}if(e._middleMarkerPrev){var f=this._calcMiddleLatLng(l,h);e._middleMarkerPrev.setLatLng(f)}this.options.allowSelfIntersection||this._handleLayerStyle()}},_onMarkerDragEnd:function(t){var e=t.target,i=this.findMarkerIndex(this._markers,e),n=i.ringIndex,r=i.index;if(!this.options.allowSelfIntersection&&this.hasSelfIntersection())return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),void this._handleLayerStyle();this._layer.fire("pm:markerdragend",{markerEvent:t,ringIndex:n,index:r}),this._fireEdit()},_onMarkerDragStart:function(t){var e=t.target,i=this.findMarkerIndex(this._markers,e),n=i.ringIndex,r=i.index;this._layer.fire("pm:markerdragstart",{markerEvent:t,ringIndex:n,index:r}),this.options.allowSelfIntersection||(this._coordsBeforeEdit=this._layer.getLatLngs())},_fireEdit:function(){this._layerEdited=!0,this._layer.fire("pm:edit")},_calcMiddleLatLng:function(t,e){var i=this._map,n=i.project(t),r=i.project(e);return i.unproject(n._add(r)._divideBy(2))}})},function(t,e,i){var n,r=(n=i(49))&&n.__esModule?n:{default:n};r.default.Poly=r.default.Line.extend({})},function(t,e,i){var n,r=(n=i(49))&&n.__esModule?n:{default:n};r.default.Rectangle=r.default.Poly.extend({_initMarkers:function(){var t=this._map,e=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,this._markerGroup._pmTempLayer=!0,t.addLayer(this._markerGroup),this._markers=[],this._markers[0]=e.map(this._createMarker,this),this._cornerMarkers=this._markers[0],this.options.snappable&&this._initSnappableMarkers()},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return i._origLatLng=t,i._index=e,i._pmTempLayer=!0,i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),i.on("contextmenu",this._removeMarker,this),i.on("pm:snap",this._adjustRectangleForMarkerSnap,this),this._markerGroup.addLayer(i),i},_removeMarker:function(){return null},_onMarkerDragStart:function(t){var e=t.target,i=this._findCorners();e._oppositeCornerLatLng=i[(e._index+2)%4],e._snapped=!1,this._layer.fire("pm:markerdragstart",{markerEvent:t})},_onMarkerDrag:function(t){var e=t.target;void 0!==e._index&&(e._snapped||this._adjustRectangleForMarkerMove(e))},_onMarkerDragEnd:function(t){var e=this._findCorners();this._adjustAllMarkers(e),this._cornerMarkers.forEach(function(t){delete t._oppositeCornerLatLng}),this._layer.setLatLngs(e),this._layer.redraw(),this._layer.fire("pm:markerdragend",{markerEvent:t}),this._fireEdit()},_adjustRectangleForMarkerMove:function(t){L.extend(t._origLatLng,t._latlng);var e=t.getLatLng();this._layer.setBounds(L.latLngBounds(e,t._oppositeCornerLatLng)),this._adjustAdjacentMarkers(t),this._layer.redraw()},_adjustRectangleForMarkerSnap:function(t){if(this.options.snappable){var e=t.target;this._adjustRectangleForMarkerMove(e)}},_adjustAllMarkers:function(t){t.length&&4==t.length?this._cornerMarkers.forEach(function(e,i){e.setLatLng(t[i])}):console.error("_adjustAllMarkers() requires an array of EXACTLY 4 LatLng coordinates")},_adjustAdjacentMarkers:function(t){if(t&&t.getLatLng&&t._oppositeCornerLatLng){var e=t.getLatLng(),i=t._oppositeCornerLatLng,n=[];this._findCorners().forEach(function(t){t.equals(e)||t.equals(i)||n.push(t)});var r=0;2==n.length&&this._cornerMarkers.forEach(function(t){var o=t.getLatLng();o.equals(e)||o.equals(i)||(t.setLatLng(n[r]),r+=1)})}else console.error("_adjustAdjacentMarkers() requires a valid Marker object")},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}})},function(t,e,i){var n,r=(n=i(49))&&n.__esModule?n:{default:n};r.default.Circle=r.default.extend({initialize:function(t){this._layer=t,this._enabled=!1},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enabled:function(){return this._enabled},enable:function(t){var e=this;L.Util.setOptions(this,t),this._map=this._layer._map,this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this._layer.on("remove",function(t){e.disable(t.target)})},disable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._layer;if(!this.enabled())return!1;if(t.pm._dragging)return!1;t.pm._enabled=!1,t.pm._layerGroup.clearLayers(),t.off("mousedown"),t.off("mouseup");var e=t._path;return L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this._layerEdited&&this._layer.fire("pm:update",{}),this._layerEdited=!1,!0},_initMarkers:function(){var t=this._map;this._layerGroup&&this._layerGroup.clearLayers(),this._layerGroup=new L.LayerGroup,t.addLayer(this._layerGroup);var e=this._layer.getLatLng(),i=this._layer._radius,n=this._getLatLngOnCircle(e,i);this._centerMarker=this._createCenterMarker(e),this._outerMarker=this._createOuterMarker(n),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker),this.options.snappable&&this._initSnappableMarkers()},_getLatLngOnCircle:function(t,e){var i=this._map.project(t),n=L.point(i.x+e,i.y);return this._map.unproject(n)},_resizeCircle:function(){this._syncHintLine(),this._syncCircleRadius(),this._fireEdit()},_moveCircle:function(t){var e=t.latlng;this._layer.setLatLng(e);var i=this._layer._radius,n=this._getLatLngOnCircle(e,i);this._outerMarker.setLatLng(n),this._syncHintLine(),this._fireEdit(),this._layer.fire("pm:centerplaced",{layer:this._layer,latlng:e})},_onMarkerDragStart:function(t){this._layer.fire("pm:markerdragstart",{markerEvent:t})},_onMarkerDragEnd:function(t){this._layer.fire("pm:markerdragend",{markerEvent:t})},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),e=this._outerMarker.getLatLng(),i=t.distanceTo(e);this._layer.setRadius(i)},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),e=this._outerMarker.getLatLng();this._hintline.setLatLngs([t,e])},_createHintLine:function(t,e){var i=t.getLatLng(),n=e.getLatLng();this._hintline=L.polyline([i,n],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline)},_createCenterMarker:function(t){var e=this._createMarker(t);return e.on("move",this._moveCircle,this),e},_createOuterMarker:function(t){var e=this._createMarker(t);return e.on("move",this._resizeCircle,this),e},_createMarker:function(t){var e=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return e._origLatLng=t,e._pmTempLayer=!0,e.on("dragstart",this._onMarkerDragStart,this),e.on("dragend",this._onMarkerDragEnd,this),this._layerGroup.addLayer(e),e},_fireEdit:function(){this._layer.fire("pm:edit"),this._layerEdited=!0}})},function(t,e){},function(t,e){}])},function(t,e,i){var n=i(203);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0};i(12)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(11)(void 0)).push([t.i,".marker-icon,\n.marker-icon:focus {\n  background-color: #ffffff;\n  border: 1px solid #3388ff;\n  border-radius: 50%;\n  margin: -8px 0 0 -8px !important;\n  width: 14px !important;\n  height: 14px !important;\n  outline: 0;\n  transition: opacity ease 0.3s;\n}\n\n.marker-icon-middle,\n.marker-icon-middle:focus {\n  opacity: 0.7;\n  margin: -6px 0 0 -6px !important;\n  width: 10px !important;\n  height: 10px !important;\n}\n\n.leaflet-pm-draggable {\n  cursor: move !important;\n}\n\n.cursor-marker {\n  cursor: crosshair;\n  pointer-events: none;\n  display: none;\n}\n\n.cursor-marker.visible {\n  display: block !important;\n}\n\n.leaflet-pm-invalid {\n  stroke: red;\n  transition: fill ease 0s, stroke ease 0s;\n}\n\n.rect-style-marker,\n.rect-start-marker {\n  opacity: 0;\n}\n\n.rect-style-marker.visible,\n.rect-start-marker.visible {\n  opacity: 1 !important;\n}\n\n.hidden {\n  display: none;\n}\n.leaflet-pm-toolbar {\n\n\n}\n\n.leaflet-pm-toolbar .leaflet-buttons-control-button {\n    padding: 3px;\n    box-sizing: border-box;\n}\n.leaflet-pm-toolbar .control-icon {\n    width: 100%;\n    height: 100%;\n    box-sizing: border-box;\n    opacity: .8;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center center;\n}\n\n.leaflet-pm-toolbar .leaflet-pm-icon-marker {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAAZCAYAAADTyxWqAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjFENzY1MUQyODUzNzExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjFENzY1MUQxODUzNzExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTk5NzA1OGEtZDI3OC00NDZkLWE4ODgtNGM4MGQ4YWI1NzNmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRkZmQxMGMtY2NlNS0xMTc4LWE5OGQtY2NkZmM5ODk5YWYwIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+Z2x5cGhpY29uczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+bwCVTQAAARZJREFUeNqclQERwyAMRaEGhoRKmAQkVEIlIKESJgEJSNgcVELngClgcBd2LCWBkrt/t63JCwlLKkIIAiuaijJRe1RASr+tyecUVwHpqKMCwUo+moRBxnBR6wkGJ6JOYKMeRNlJdwzDpXlcRpEUQ48frFKez9mYC8LJ1/zQUX1ggLgtLj/460ELRLTGT1LKdOTSXqLfjuLzbUq9QQ6zGLVamQnYUaLCcRMwPyjH1nEOg76/qdtkb5SYFNsaI1f+36C/lvDV3ARc0ROP0zII8vnCcC/cAMxQK0hBpl6Qay3H5UJ5ioUBcOuA6eba7uyfqcY0xqW2WS0Z0zF/O3ozqSEYAGdotudASRICWIs77w4bZuf8vgIMAAI1tNMVERhgAAAAAElFTkSuQmCC);\n}\n.leaflet-pm-toolbar .leaflet-pm-icon-polygon {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAZCAYAAAAv3j5gAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQwM0ZDNzlCODUzNDExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQwM0ZDNzlBODUzNDExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTk5NzA1OGEtZDI3OC00NDZkLWE4ODgtNGM4MGQ4YWI1NzNmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRkZmQxMGMtY2NlNS0xMTc4LWE5OGQtY2NkZmM5ODk5YWYwIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+Z2x5cGhpY29uczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+qfabAwAAAYxJREFUeNqsVj1PwzAUjKtuCMHOViExIRXEQNUOjEiIj5GNEXUiDPwJOtD+g1SMLFUnRtgR4hcgdWEGVczh3L6WlxfHsVOfdHIdO3ft1X62StM0coVSKjMZ7yrXd2uRJ7S4j4GXEX7JJtg3PO/rMddvaCXQBD/01ALqsWapTolJLESfwEvwlD7zsdimpUyLgeJIwHN6NAUfwDcx9QC8Bdep/wpeQPM7pymNYHKEZgRu0KN3sAf+FqS/Bt6B+9T/IbOXQiP6w2/Y+CNF5IIT8Jr1B9COl9qUr8QXeA9+eq7iBtgFd3LRzRfefF/QhnwGh5aoyqCjvAKPua7J6CwKgzHXrZtKSyhw3Rq5DtgyDoUpWxRqUYISavV+2A1gcsj2VrKsdXDUZWRCA3sBjLapnZB2pqiOqG0FMGoLzYzRIr4t2g9V0SANrvlvJOLrrGDUkbGZzqMQ8bVkbCajVeMzxpYzChCfMbaiY0JWCdeSNLZdXIxGovZ5XVykRuVbUFXUy4qh69VqdhRYEvgTYAAqrQMfMqEIJwAAAABJRU5ErkJggg==);\n}\n.leaflet-pm-toolbar .leaflet-pm-icon-polyline {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQwM0ZDNzlGODUzNDExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQwM0ZDNzlFODUzNDExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTk5NzA1OGEtZDI3OC00NDZkLWE4ODgtNGM4MGQ4YWI1NzNmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRkZmQxMGMtY2NlNS0xMTc4LWE5OGQtY2NkZmM5ODk5YWYwIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+Z2x5cGhpY29uczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+KUUD2gAAAJhJREFUeNq01dsNwCAIhWHZyO4/RDtKN6DwYKP2ouDBhNhL8n+PEDMn5CGiJkgRgBwqz1BAglmuvQaSAoiRo/FThpsJiOud73+R8WVgFF8CZuJuYDbuAixxM2CNmwBPfBrwxqeAlfgQWI3/Aoj4J4CKvwLI+ANAxxsgIl6WGXcDi+voamt2qFybvB+wNdoD5RkK1B/QwCXAAMyWX2PeMm23AAAAAElFTkSuQmCC);\n    background-size: 80%;\n}\n.leaflet-pm-toolbar .leaflet-pm-icon-circle {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQwM0ZDNzk3ODUzNDExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQwM0ZDNzk2ODUzNDExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTk5NzA1OGEtZDI3OC00NDZkLWE4ODgtNGM4MGQ4YWI1NzNmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRkZmQxMGMtY2NlNS0xMTc4LWE5OGQtY2NkZmM5ODk5YWYwIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+Z2x5cGhpY29uczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+ZDy0gwAAAW9JREFUeNq8lj1Ow0AQhb0WbcgBaKKcwC1VaCjcoFCnyRG4QBq4QI6QxlWQQDRpSZWWEyBHgh7CAcwb6Y0ZlpVjYydPerJ3d/ab7Hp/4oqiiOrIOfcrEP1cnX7xHmgCz+FcoQqWOnghMZUZZAS+oQH8LM3Wpr3wLLGDICsAH8MfpvMbvAxAl2zTsvQZ+zxnvwGGK/AHFndwBq/2THMKT+BTlq/BfCyZmgBwmZYXuA9/wTP4NaqnIXwH9+BPOAE39z/ygvBdQ3jE2Bn79sn6WUVcCSPWZQ3hNknG95GuLh3BDZ/vNea8SisySqYmuOBzE7XXxjIdl5jVVcsET392st2hXcjy4ujAOgkdZG1leTGHsjV7oa3u+dwKW6dIt/ZlBwnOLTP2fvkZz5b/KiWjZOoqkjNozYYJz5amGrKvaE3mEQ87VkxZlMDbmtOVMrbH8lThwRut6wvn+Feml0iO3DmcBxLkbEuqGO7Qf1u+BRgABphW5i4/+hMAAAAASUVORK5CYII=);\n    background-size: 90%;\n}\n.leaflet-pm-toolbar .leaflet-pm-icon-rectangle {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkM4QUVDQzQ2ODUzNDExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkM4QUVDQzQ1ODUzNDExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTk5NzA1OGEtZDI3OC00NDZkLWE4ODgtNGM4MGQ4YWI1NzNmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRkZmQxMGMtY2NlNS0xMTc4LWE5OGQtY2NkZmM5ODk5YWYwIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+Z2x5cGhpY29uczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+J3lsvQAAAFpJREFUeNrsljsOACAIQ1sPyGG9IJq4IKOfQdNuhuQ90gUJwBHi7sRGSE48DuaA5uFqIq/gcpgr6rFNZo2Pkjq3A0tbrOp6RRJIIIEEEjxxcD68yae/LU2AAQC7fSa9H1rL6AAAAABJRU5ErkJggg==);\n    background-size: 90%;\n}\n.leaflet-pm-toolbar .leaflet-pm-icon-drag {\n    /*background-image: url('../assets/icons/drag.png');*/\n}\n.leaflet-pm-toolbar .leaflet-pm-icon-delete {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjk5QzE2QjUyODUzMzExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjk5QzE2QjUxODUzMzExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTk5NzA1OGEtZDI3OC00NDZkLWE4ODgtNGM4MGQ4YWI1NzNmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRkZmQxMGMtY2NlNS0xMTc4LWE5OGQtY2NkZmM5ODk5YWYwIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+Z2x5cGhpY29uczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+UGbNXAAAAI5JREFUeNpi+P//PwM2DAQNQPwfB27ApY8RqhkFMDIyCgCp9wx4AFAfIzZxFgYCAF0j0LL/+NQz4TDkAwOZAGQ7SDM/A3XARyYGKgOskUIRgBr4AU8SIRZ/gCcbQjFHguMYqR6G2AzMhmJyxLAm7McUiDHQxcujBo4aOOQNxJb1ZCkQG6LFF9kVFIgACDAAqr5rFp6MjMcAAAAASUVORK5CYII=);\n    background-size: 70%;\n}\n.leaflet-pm-toolbar .leaflet-pm-icon-edit {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAVCAYAAABc6S4mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjgzRTE5MjcxODUzNTExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgzRTE5MjcwODUzNTExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTk5NzA1OGEtZDI3OC00NDZkLWE4ODgtNGM4MGQ4YWI1NzNmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRkZmQxMGMtY2NlNS0xMTc4LWE5OGQtY2NkZmM5ODk5YWYwIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+Z2x5cGhpY29uczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+4jFzXwAAAOdJREFUeNq0leENhCAMheEmuREc4UZwBEdihI7CKLqBG9RWi+F6aqBwTd4PaPkeIbY6RHQ9RRFIkTTs6z/AUbSySU/4tAMPcDKJKTmS5ixRIga95TzIHiiTkOBogA8KjsokSP68ORieBW4uMGU1x2ZHOKi6eoNSuMmgBl5tUAuvMrDAiw1Uh/7A0ydrMpA+0R36Bedci8F60aGg8mgykPly2aFZDbYYRDUePhc1NgMeZOdEzFq/1sBLAS+8U+G952k5u4egmtvzHC/SIoWgkwXwdGZ5qrOMa63x9gkbfjgoZ8anJt0EGAAZUK4sZc82dAAAAABJRU5ErkJggg==);\n    background-size: 80%;\n    background-position: 4px center;\n}\n.leaflet-pm-toolbar .leaflet-pm-icon-cut {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAXCAYAAAD+4+QTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABAhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNDNkM0RTY5ODUzNzExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNDNkM0RTY4ODUzNzExRTU4RTQwRkQwODFEOUZEMEE3IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTk5NzA1OGEtZDI3OC00NDZkLWE4ODgtNGM4MGQ4YWI1NzNmIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6YzRkZmQxMGMtY2NlNS0xMTc4LWE5OGQtY2NkZmM5ODk5YWYwIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+Z2x5cGhpY29uczwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+UbC4LAAAATFJREFUeNrUVosRgyAMhU5gN3AER3AER2AER7AbOIIjdAS7gSO4Qd2AEu+ll6JYP9i75i4nIrxHkgeorbVKa50opYxzevbO765/ULGMSJy11BROBBV9i+FkuQBu8GSyOhYJR1GJzpqJYpBogJFduQ6o0RPp1EdLIkluSA8T2T0kWGDhPEVX85EaLjiUtjpdACxnBETe8aAS0vUH2AXgDAucnQdvR2F5E83MJHo3YkzuKTAI/p4TWKUZw5ySVdiwKaLwySj/2QTvS65zkedBOJMlaBN4GsRZWViL6IwnknoJfG0kmSAZFmqxPRKvJgYpGbYAB0kC6urE9wJy51O7F5HaUHv3Ptl6QB7e8WtImGCUpaeo/zmFL84faJeiv1KR7fyb8Rd3vObquzqUZ/2tvAQYANwXksvfGBuLAAAAAElFTkSuQmCC);\n    background-size: 80%;\n    background-position: 4px center;\n}\n\n.leaflet-buttons-control-button:hover {\n    cursor: pointer;\n    background-color: #f4f4f4;\n}\n.leaflet-buttons-control-button.active {\n    background-color: #f4f4f4;\n}\n\n.leaflet-buttons-control-button.active > .control-icon {\n    opacity: .5;\n}\n\n.leaflet-buttons-control-text-hide {\n    display: none;\n}\n",""])},function(t,e,i){var n=i(205);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0};i(12)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(11)(void 0)).push([t.i,'.marker-cluster-small {\r\n\tbackground-color: rgba(181, 226, 140, 0.6);\r\n\t}\r\n.marker-cluster-small div {\r\n\tbackground-color: rgba(110, 204, 57, 0.6);\r\n\t}\r\n\r\n.marker-cluster-medium {\r\n\tbackground-color: rgba(241, 211, 87, 0.6);\r\n\t}\r\n.marker-cluster-medium div {\r\n\tbackground-color: rgba(240, 194, 12, 0.6);\r\n\t}\r\n\r\n.marker-cluster-large {\r\n\tbackground-color: rgba(253, 156, 115, 0.6);\r\n\t}\r\n.marker-cluster-large div {\r\n\tbackground-color: rgba(241, 128, 23, 0.6);\r\n\t}\r\n\r\n\t/* IE 6-8 fallback colors */\r\n.leaflet-oldie .marker-cluster-small {\r\n\tbackground-color: rgb(181, 226, 140);\r\n\t}\r\n.leaflet-oldie .marker-cluster-small div {\r\n\tbackground-color: rgb(110, 204, 57);\r\n\t}\r\n\r\n.leaflet-oldie .marker-cluster-medium {\r\n\tbackground-color: rgb(241, 211, 87);\r\n\t}\r\n.leaflet-oldie .marker-cluster-medium div {\r\n\tbackground-color: rgb(240, 194, 12);\r\n\t}\r\n\r\n.leaflet-oldie .marker-cluster-large {\r\n\tbackground-color: rgb(253, 156, 115);\r\n\t}\r\n.leaflet-oldie .marker-cluster-large div {\r\n\tbackground-color: rgb(241, 128, 23);\r\n}\r\n\r\n.marker-cluster {\r\n\tbackground-clip: padding-box;\r\n\tborder-radius: 20px;\r\n\t}\r\n.marker-cluster div {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tmargin-left: 5px;\r\n\tmargin-top: 5px;\r\n\r\n\ttext-align: center;\r\n\tborder-radius: 15px;\r\n\tfont: 12px "Helvetica Neue", Arial, Helvetica, sans-serif;\r\n\t}\r\n.marker-cluster span {\r\n\tline-height: 30px;\r\n\t}',""])},function(t,e,i){var n=i(207);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0};i(12)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(11)(void 0)).push([t.i,".leaflet-cluster-anim .leaflet-marker-icon, .leaflet-cluster-anim .leaflet-marker-shadow {\r\n\t-webkit-transition: -webkit-transform 0.3s ease-out, opacity 0.3s ease-in;\r\n\t-moz-transition: -moz-transform 0.3s ease-out, opacity 0.3s ease-in;\r\n\t-o-transition: -o-transform 0.3s ease-out, opacity 0.3s ease-in;\r\n\ttransition: transform 0.3s ease-out, opacity 0.3s ease-in;\r\n}\r\n\r\n.leaflet-cluster-spider-leg {\r\n\t/* stroke-dashoffset (duration and function) should match with leaflet-marker-icon transform in order to track it exactly */\r\n\t-webkit-transition: -webkit-stroke-dashoffset 0.3s ease-out, -webkit-stroke-opacity 0.3s ease-in;\r\n\t-moz-transition: -moz-stroke-dashoffset 0.3s ease-out, -moz-stroke-opacity 0.3s ease-in;\r\n\t-o-transition: -o-stroke-dashoffset 0.3s ease-out, -o-stroke-opacity 0.3s ease-in;\r\n\ttransition: stroke-dashoffset 0.3s ease-out, stroke-opacity 0.3s ease-in;\r\n}\r\n",""])},function(t,e,i){"use strict";var n;window,n=document,L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,i=this._zoom;if(t.__parent)for(;e.__parent._zoom>=i;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var i,n=this._featureGroup,r=this._nonPointGroup,o=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,l=t.length,h=0,u=!0;if(this._map){var c=(new Date).getTime(),f=L.bind(function(){for(var d=(new Date).getTime();l>h&&!(o&&0==h%200&&(new Date).getTime()-d>a);h++)if((i=t[h])instanceof L.LayerGroup)u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(i,t),l=t.length;else if(i.getLatLng){if(!this.hasLayer(i)&&(this._addLayer(i,this._maxZoom),e||this.fire("layeradd",{layer:i}),i.__parent&&2===i.__parent.getChildCount())){var p=i.__parent.getAllChildMarkers(),g=p[0]===i?p[1]:p[0];n.removeLayer(g)}}else r.addLayer(i),e||this.fire("layeradd",{layer:i});s&&s(h,l,(new Date).getTime()-c),h===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(f,this.options.chunkDelay)},this);f()}else for(var d=this._needsClustering;l>h;h++)(i=t[h])instanceof L.LayerGroup?(u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(i,t),l=t.length):i.getLatLng?this.hasLayer(i)||d.push(i):r.addLayer(i);return this},removeLayers:function(t){var e,i,n=t.length,r=this._featureGroup,o=this._nonPointGroup,a=!0;if(!this._map){for(e=0;n>e;e++)(i=t[e])instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(i,t),n=t.length):(this._arraySplice(this._needsClustering,i),o.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}));return this}if(this._unspiderfy){this._unspiderfy();var s=t.slice(),l=n;for(e=0;l>e;e++)(i=s[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(i,s),l=s.length):this._unspiderfyLayer(i)}for(e=0;n>e;e++)(i=t[e])instanceof L.LayerGroup?(a&&(t=t.slice(),a=!1),this._extractNonGroupLayers(i,t),n=t.length):i.__parent?(this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),r.hasLayer(i)&&(r.removeLayer(i),i.clusterShow&&i.clusterShow())):(o.removeLayer(i),this.fire("layerremove",{layer:i}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n,r,o=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),n=o.length-1;n>=0;n--){for(i=!0,r=a.length-1;r>=0;r--)if(a[r].layer===o[n]){i=!1;break}i&&t.call(e,o[n])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(e=(i=this._needsRemoving).length-1;e>=0;e--)if(i[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var i=function i(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",i,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,i,n;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;i>e;e++)(n=this._needsRemoving[e]).newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],this._removeLayer(n.layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered,r=Math.floor(this._map.getMinZoom());e>=r&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,i){t._latlng=e,this.removeLayer(t),t._latlng=i,this.addLayer(t)},_childMarkerDragEnd:function(t){t.target.__dragStart&&this._moveChild(t.target,t.target.__dragStart,t.target._latlng),delete t.target.__dragStart},_removeLayer:function(t,e,i){var n=this._gridClusters,r=this._gridUnclustered,o=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var l,h=t.__parent,u=h._markers;for(this._arraySplice(u,t);h&&(h._childCount--,h._boundsNeedUpdate=!0,!(h._zoom<s));)e&&h._childCount<=1?(l=h._markers[0]===t?h._markers[1]:h._markers[0],n[h._zoom].removeObject(h,a.project(h._cLatLng,h._zoom)),r[h._zoom].addObject(l,a.project(l.getLatLng(),h._zoom)),this._arraySplice(h.__parent._childClusters,h),h.__parent._markers.push(l),l.__parent=h.__parent,h._icon&&(o.removeLayer(h),i||o.addLayer(l))):h._iconNeedsUpdate=!0,h=h.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return i+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,i=e;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),i=this.options.maxClusterRadius,n=i;"function"!=typeof i&&(n=function(){return i}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var r=t;r>=e;r--)this._gridClusters[r]=new L.DistanceGrid(n(r)),this._gridUnclustered[r]=new L.DistanceGrid(n(r));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var i,n,r=this._gridClusters,o=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=a;e--){i=this._map.project(t.getLatLng(),e);var s=r[e].getNearObject(i);if(s)return s._addChild(t),void(t.__parent=s);if(s=o[e].getNearObject(i)){var l=s.__parent;l&&this._removeLayer(s,!1);var h=new this._markerCluster(this,e,s,t);r[e].addObject(h,this._map.project(h._cLatLng,e)),s.__parent=h,t.__parent=h;var u=h;for(n=e-1;n>l._zoom;n--)u=new this._markerCluster(this,n,u),r[n].addObject(u,this._map.project(s.getLatLng(),n));return l._addChild(u),void this._removeFromGridUnclustered(s,e)}o[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var i,n=t.getLayers(),r=0;for(e=e||[];r<n.length;r++)(i=n[r])instanceof L.LayerGroup?this._extractNonGroupLayers(i,e):e.push(i);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),r=this._featureGroup,o=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(n,t,o,function(o){var a,s=o._latlng,l=o._markers;for(n.contains(s)||(s=null),o._isSingleParent()&&t+1===e?(r.removeLayer(o),o._recursivelyAddChildrenToMap(null,e,n)):(o.clusterHide(),o._recursivelyAddChildrenToMap(s,e,n)),i=l.length-1;i>=0;i--)a=l[i],n.contains(a._latlng)||r.removeLayer(a)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),r.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(n,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(n,t,o,function(t){r.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds(),r=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(n,r,e+1,i);var o=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var a=t._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else t._recursively(n,i,r,function(t){t._recursivelyRemoveChildrenFromMap(n,r,e+1)});o._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(n.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,i=this._childClusters.slice(),n=this._group._map,r=n.getBoundsZoom(this._bounds),o=this._zoom+1,a=n.getZoom();i.length>0&&r>o;){o++;var s=[];for(e=0;e<i.length;e++)s=s.concat(i[e]._childClusters);i=s}r>o?this._group._map.setView(this._latlng,o):a>=r?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,i,n,r=this._markers,o=this._childClusters,a=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),t=0;t<r.length;t++)i=r[t]._latlng,this._bounds.extend(i),a+=i.lat,s+=i.lng;for(t=0;t<o.length;t++)(e=o[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),i=e._wLatLng,n=e._childCount,a+=i.lat*n,s+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(a/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,this._group._map.getMinZoom(),i-1,function(t){var i,n,r=t._markers;for(i=r.length-1;i>=0;i--)(n=r[i])._icon&&(n._setPos(e),n.clusterHide())},function(t){var i,n,r=t._childClusters;for(i=r.length-1;i>=0;i--)(n=r[i])._icon&&(n._setPos(e),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i,n){this._recursively(t,n,e,function(r){r._recursivelyAnimateChildrenIn(t,r._group._map.latLngToLayerPoint(r.getLatLng()).round(),i),r._isSingleParent()&&i-1===n?(r.clusterShow(),r._recursivelyRemoveChildrenFromMap(t,e,i)):r.clusterHide(),r._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,this._group._map.getMinZoom()-1,e,function(n){if(e!==n._zoom)for(var r=n._markers.length-1;r>=0;r--){var o=n._markers[r];i.contains(o._latlng)&&(t&&(o._backupLatlng=o.getLatLng(),o.setLatLng(t),o.clusterHide&&o.clusterHide()),n._group._featureGroup.addLayer(o))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i,n){var r,o;this._recursively(t,e-1,i-1,function(t){for(o=t._markers.length-1;o>=0;o--)r=t._markers[o],n&&n.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())},function(t){for(o=t._childClusters.length-1;o>=0;o--)r=t._childClusters[o],n&&n.contains(r._latlng)||(t._group._featureGroup.removeLayer(r),r.clusterShow&&r.clusterShow())})},_recursively:function(t,e,i,n,r){var o,a,s=this._childClusters,l=this._zoom;if(l>=e&&(n&&n(this),r&&l===i&&r(this)),e>l||i>l)for(o=s.length-1;o>=0;o--)a=s[o],t.intersects(a._bounds)&&a._recursively(t,e,i,n,r)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),r=this._grid,o=r[n]=r[n]||{},a=o[i]=o[i]||[],s=L.Util.stamp(t);this._objectPoint[s]=e,a.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,r=this._getCoord(e.x),o=this._getCoord(e.y),a=this._grid,s=a[o]=a[o]||{},l=s[r]=s[r]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=l.length;n>i;i++)if(l[i]===t)return l.splice(i,1),1===n&&delete s[r],!0},eachObject:function(t,e){var i,n,r,o,a,s,l=this._grid;for(i in l)for(n in a=l[i])for(r=0,o=(s=a[n]).length;o>r;r++)t.call(e,s[r])&&(r--,o--)},getNearObject:function(t){var e,i,n,r,o,a,s,l,h=this._getCoord(t.x),u=this._getCoord(t.y),c=this._objectPoint,f=this._sqCellSize,d=null;for(e=u-1;u+1>=e;e++)if(r=this._grid[e])for(i=h-1;h+1>=i;i++)if(o=r[i])for(n=0,a=o.length;a>n;n++)s=o[n],(f>(l=this._sqDist(c[L.Util.stamp(s)],t))||f>=l&&null===d)&&(f=l,d=s);return d},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,r,o=0,a=null,s=[];for(i=e.length-1;i>=0;i--)n=e[i],(r=this.getDistant(n,t))>0&&(s.push(n),r>o&&(o=r,a=n));return{maxPoint:a,newPoints:s}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?i=(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints))).concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints)):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,r=!1,o=!1,a=null,s=null,l=null,h=null,u=null,c=null;for(e=t.length-1;e>=0;e--){var f=t[e];(!1===i||f.lat>i)&&(a=f,i=f.lat),(!1===n||f.lat<n)&&(s=f,n=f.lat),(!1===r||f.lng>r)&&(l=f,r=f.lng),(!1===o||f.lng<o)&&(h=f,o=f.lng)}return n!==i?(c=s,u=a):(c=h,u=l),[].concat(this.buildConvexHull([c,u],t),this.buildConvexHull([u,c],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,i):(i.y+=10,t=this._generatePointsCircle(e.length,i)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,r=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,o=this._2PI/t,a=[];for(a.length=t,i=t-1;i>=0;i--)n=this._circleStartAngle+i*o,a[i]=new L.Point(e.x+r*Math.cos(n),e.y+r*Math.sin(n))._round();return a},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier,r=n*this._spiralLengthStart,o=n*this._spiralFootSeparation,a=n*this._spiralLengthFactor*this._2PI,s=0,l=[];for(l.length=t,i=t-1;i>=0;i--)s+=o/r+5e-4*i,l[i]=new L.Point(e.x+r*Math.cos(s),e.y+r*Math.sin(s))._round(),r+=a/s;return l},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,r=i._featureGroup,o=this.getAllChildMarkers();for(i._ignoreMove=!0,this.setOpacity(1),e=o.length-1;e>=0;e--)t=o[e],r.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:o}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i,n,r,o,a=this._group,s=a._map,l=a._featureGroup,h=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,i=0;i<t.length;i++)o=s.layerPointToLatLng(e[i]),n=t[i],r=new L.Polyline([this._latlng,o],h),s.addLayer(r),n._spiderLeg=r,n._preSpiderfyLatlng=n._latlng,n.setLatLng(o),n.setZIndexOffset&&n.setZIndexOffset(1e6),l.addLayer(n);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,n,r,o,a,s,l=this,h=this._group,u=h._map,c=h._featureGroup,f=this._latlng,d=u.latLngToLayerPoint(f),p=L.Path.SVG,g=L.extend({},this._group.options.spiderLegPolylineOptions),_=g.opacity;for(void 0===_&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(g.opacity=0,g.className=(g.className||"")+" leaflet-cluster-spider-leg"):g.opacity=_,h._ignoreMove=!0,i=0;i<t.length;i++)n=t[i],s=u.layerPointToLatLng(e[i]),r=new L.Polyline([f,s],g),u.addLayer(r),n._spiderLeg=r,p&&(a=(o=r._path).getTotalLength()+.1,o.style.strokeDasharray=a,o.style.strokeDashoffset=a),n.setZIndexOffset&&n.setZIndexOffset(1e6),n.clusterHide&&n.clusterHide(),c.addLayer(n),n._setPos&&n._setPos(d);for(h._forceLayout(),h._animationStart(),i=t.length-1;i>=0;i--)s=u.layerPointToLatLng(e[i]),(n=t[i])._preSpiderfyLatlng=n._latlng,n.setLatLng(s),n.clusterShow&&n.clusterShow(),p&&((o=(r=n._spiderLeg)._path).style.strokeDashoffset=0,r.setStyle({opacity:_}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:l,markers:t})},200)},_animationUnspiderfy:function(t){var e,i,n,r,o,a,s=this,l=this._group,h=l._map,u=l._featureGroup,c=t?h._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):h.latLngToLayerPoint(this._latlng),f=this.getAllChildMarkers(),d=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),i=f.length-1;i>=0;i--)(e=f[i])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,a=!0,e._setPos&&(e._setPos(c),a=!1),e.clusterHide&&(e.clusterHide(),a=!1),a&&u.removeLayer(e),d&&(o=(r=(n=e._spiderLeg)._path).getTotalLength()+.1,r.style.strokeDashoffset=o,n.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var t=0;for(i=f.length-1;i>=0;i--)(e=f[i])._spiderLeg&&t++;for(i=f.length-1;i>=0;i--)(e=f[i])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&u.removeLayer(e),h.removeLayer(e._spiderLeg),delete e._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:f})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)i=t[e],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}})},function(t,e,i){var n=i(210);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0};i(12)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(11)(void 0)).push([t.i,'.leaflet-pulsing-icon {\r\n    border-radius: 100%;\r\n    box-shadow: 1px 1px 8px 0 rgba(0,0,0,0.75);\r\n}\r\n\r\n.leaflet-pulsing-icon:after {\r\n    content: "";\r\n    border-radius: 100%;\r\n    height: 300%;\r\n    width: 300%;\r\n    position: absolute;\r\n    margin: -100% 0 0 -100%;\r\n\r\n}\r\n\r\n@-webkit-keyframes pulsate {\r\n    0% {\r\n        -webkit-transform: scale(0.1, 0.1);\r\n                transform: scale(0.1, 0.1);\r\n        opacity: 0;\r\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\r\n        filter: alpha(opacity=0);\r\n    }\r\n    50% {\r\n        opacity: 1;\r\n        -ms-filter: none;\r\n        -webkit-filter: none;\r\n                filter: none;\r\n    }\r\n    100% {\r\n        -webkit-transform: scale(1.2, 1.2);\r\n                transform: scale(1.2, 1.2);\r\n        opacity: 0;\r\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\r\n        filter: alpha(opacity=0);\r\n    }\r\n}\r\n\r\n@keyframes pulsate {\r\n    0% {\r\n        -webkit-transform: scale(0.1, 0.1);\r\n                transform: scale(0.1, 0.1);\r\n        opacity: 0;\r\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\r\n        filter: alpha(opacity=0);\r\n    }\r\n    50% {\r\n        opacity: 1;\r\n        -ms-filter: none;\r\n        -webkit-filter: none;\r\n                filter: none;\r\n    }\r\n    100% {\r\n        -webkit-transform: scale(1.2, 1.2);\r\n                transform: scale(1.2, 1.2);\r\n        opacity: 0;\r\n        -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";\r\n        filter: alpha(opacity=0);\r\n    }\r\n}',""])},function(t,e,i){"use strict";window,L.Icon.Pulse=L.DivIcon.extend({options:{className:"",iconSize:[12,12],color:"red",animate:!0,heartbeat:1},initialize:function(t){L.setOptions(this,t);var e="lpi-"+(new Date).getTime()+"-"+Math.round(1e5*Math.random()),i=["background-color: "+this.options.color],n=["box-shadow: 0 0 6px 2px "+this.options.color,"animation: pulsate "+this.options.heartbeat+"s ease-out","animation-iteration-count: infinite","animation-delay: "+(this.options.heartbeat+.1)+"s"];this.options.animate||n.push("animation: none");var r=["."+e+"{"+i.join(";")+";}","."+e+":after{"+n.join(";")+";}"].join(""),o=document.createElement("style");o.styleSheet?o.styleSheet.cssText=r:o.appendChild(document.createTextNode(r)),document.getElementsByTagName("head")[0].appendChild(o),this.options.className=this.options.className+" leaflet-pulsing-icon "+e,L.DivIcon.prototype.initialize.call(this,t)}}),L.icon.pulse=function(t){return new L.Icon.Pulse(t)},L.Marker.Pulse=L.Marker.extend({initialize:function(t,e){e.icon=L.icon.pulse(e),L.Marker.prototype.initialize.call(this,t,e)}}),L.marker.pulse=function(t,e){return new L.Marker.Pulse(t,e)}},function(t,e,i){"use strict";!function(){function t(e){return this instanceof t?(this._canvas=e="string"==typeof e?document.getElementById(e):e,this._ctx=e.getContext("2d"),this._width=e.width,this._height=e.height,this._max=1,void this.clear()):new t(e)}t.prototype={defaultRadius:25,defaultGradient:{.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"},data:function(t,e){return this._data=t,this},max:function(t){return this._max=t,this},add:function(t){return this._data.push(t),this},clear:function(){return this._data=[],this},radius:function(t,e){e=e||15;var i=this._circle=document.createElement("canvas"),n=i.getContext("2d"),r=this._r=t+e;return i.width=i.height=2*r,n.shadowOffsetX=n.shadowOffsetY=200,n.shadowBlur=e,n.shadowColor="black",n.beginPath(),n.arc(r-200,r-200,t,0,2*Math.PI,!0),n.closePath(),n.fill(),this},gradient:function(t){var e=document.createElement("canvas"),i=e.getContext("2d"),n=i.createLinearGradient(0,0,0,256);for(var r in e.width=1,e.height=256,t)n.addColorStop(r,t[r]);return i.fillStyle=n,i.fillRect(0,0,1,256),this._grad=i.getImageData(0,0,1,256).data,this},draw:function(t){this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var e=this._ctx;e.clearRect(0,0,this._width,this._height);for(var i,n=0,r=this._data.length;r>n;n++)i=this._data[n],e.globalAlpha=Math.max(i[2]/this._max,t||.05),e.drawImage(this._circle,i[0]-this._r,i[1]-this._r);var o=e.getImageData(0,0,this._width,this._height);return this._colorize(o.data,this._grad),e.putImageData(o,0,0),this},_colorize:function(t,e){for(var i,n=3,r=t.length;r>n;n+=4)(i=4*t[n])&&(t[n-3]=e[i],t[n-2]=e[i+1],t[n-1]=e[i+2])}},window.simpleheat=t}(),L.HeatLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,e){this._latlngs=t,L.setOptions(this,e)},setLatLngs:function(t){return this._latlngs=t,this.redraw()},addLatLng:function(t){return this._latlngs.push(t),this.redraw()},setOptions:function(t){return L.setOptions(this,t),this._heat&&this._updateOptions(),this.redraw()},redraw:function(){return!this._heat||this._frame||this._map._animating||(this._frame=L.Util.requestAnimFrame(this._redraw,this)),this},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.options.zoomAnimation&&L.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._canvas),t.off("moveend",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},_initCanvas:function(){var t=this._canvas=L.DomUtil.create("canvas","leaflet-heatmap-layer leaflet-layer"),e=L.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);t.style[e]="50% 50%";var i=this._map.getSize();t.width=i.x,t.height=i.y;var n=this._map.options.zoomAnimation&&L.Browser.any3d;L.DomUtil.addClass(t,"leaflet-zoom-"+(n?"animated":"hide")),this._heat=simpleheat(t),this._updateOptions()},_updateOptions:function(){this._heat.radius(this.options.radius||this._heat.defaultRadius,this.options.blur),this.options.gradient&&this._heat.gradient(this.options.gradient),this.options.max&&this._heat.max(this.options.max)},_reset:function(){var t=this._map.containerPointToLayerPoint([0,0]);L.DomUtil.setPosition(this._canvas,t);var e=this._map.getSize();this._heat._width!==e.x&&(this._canvas.width=this._heat._width=e.x),this._heat._height!==e.y&&(this._canvas.height=this._heat._height=e.y),this._redraw()},_redraw:function(){var t,e,i,n,r,o,a,s,l,h=[],u=this._heat._r,c=this._map.getSize(),f=new L.Bounds(L.point([-u,-u]),c.add([u,u])),d=void 0===this.options.max?1:this.options.max,p=void 0===this.options.maxZoom?this._map.getMaxZoom():this.options.maxZoom,g=1/Math.pow(2,Math.max(0,Math.min(p-this._map.getZoom(),12))),_=u/2,m=[],y=this._map._getMapPanePos(),v=y.x%_,b=y.y%_;for(t=0,e=this._latlngs.length;e>t;t++){if(i=this._map.latLngToContainerPoint(this._latlngs[t]),f.contains(i))r=Math.floor((i.x-v)/_)+2,o=Math.floor((i.y-b)/_)+2,l=(void 0!==this._latlngs[t].alt?this._latlngs[t].alt:void 0!==this._latlngs[t][2]?+this._latlngs[t][2]:1)*g,m[o]=m[o]||[],(n=m[o][r])?(n[0]=(n[0]*n[2]+i.x*l)/(n[2]+l),n[1]=(n[1]*n[2]+i.y*l)/(n[2]+l),n[2]+=l):m[o][r]=[i.x,i.y,l]}for(t=0,e=m.length;e>t;t++)if(m[t])for(a=0,s=m[t].length;s>a;a++)(n=m[t][a])&&h.push([Math.round(n[0]),Math.round(n[1]),Math.min(n[2],d)]);this._heat.data(h).draw(this.options.minOpacity),this._frame=null},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._getCenterOffset(t.center)._multiplyBy(-e).subtract(this._map._getMapPanePos());L.DomUtil.setTransform?L.DomUtil.setTransform(this._canvas,i,e):this._canvas.style[L.DomUtil.TRANSFORM]=L.DomUtil.getTranslateString(i)+" scale("+e+")"}}),L.heatLayer=function(t,e){return new L.HeatLayer(t,e)}},function(t,e,i){"use strict";var n,r,o=i(1);function a(t,e,i,n){e.split(" ").forEach(function(e){o.DomEvent.on(t,e,i,n)})}function s(t,e,i,n){e.split(" ").forEach(function(e){o.DomEvent.off(t,e,i,n)})}function l(t){return"oninput"in t?"input":"change"}function h(){n=this._map.dragging.enabled(),r=this._map.tap&&this._map.tap.enabled(),this._map.dragging.disable(),this._map.tap&&this._map.tap.disable()}function u(t){this._refocusOnMap(t),n&&this._map.dragging.enable(),r&&this._map.tap.enable()}function c(t){return"undefined"===t?[]:Array.isArray(t)?t:[t]}i(214),i(216),o.Control.SideBySide=o.Control.extend({options:{thumbSize:42,padding:0},initialize:function(t,e,i){this.setLeftLayers(t),this.setRightLayers(e),o.setOptions(this,i)},getPosition:function(){var t=this._range.value,e=(.5-t)*(2*this.options.padding+this.options.thumbSize);return this._map.getSize().x*t+e},setPosition:function(){},includes:o.Mixin.Events,addTo:function(t){this.remove(),this._map=t;var e=this._container=o.DomUtil.create("div","leaflet-sbs",t._controlContainer);this._divider=o.DomUtil.create("div","leaflet-sbs-divider",e);var i=this._range=o.DomUtil.create("input","leaflet-sbs-range",e);return i.type="range",i.min=0,i.max=1,i.step="any",i.value=.5,i.style.paddingLeft=i.style.paddingRight=this.options.padding+"px",this._addEvents(),this._updateLayers(),this},remove:function(){return this._map?(this._removeEvents(),o.DomUtil.remove(this._container),this._map=null,this):this},setLeftLayers:function(t){return this._leftLayers=c(t),this._updateLayers(),this},setRightLayers:function(t){return this._rightLayers=c(t),this._updateLayers(),this},_updateClip:function(){var t=this._map,e=t.containerPointToLayerPoint([0,0]),i=t.containerPointToLayerPoint(t.getSize()),n=e.x+this.getPosition(),r=this.getPosition();this._divider.style.left=r+"px",this.fire("dividermove",{x:r});var o="rect("+[e.y,n,i.y,e.x].join("px,")+"px)",a="rect("+[e.y,i.x,i.y,n].join("px,")+"px)";this._leftLayer&&(this._leftLayer.getContainer().style.clip=o),this._rightLayer&&(this._rightLayer.getContainer().style.clip=a)},_updateLayers:function(){if(!this._map)return this;var t=this._leftLayer,e=this._rightLayer;this._leftLayer=this._rightLayer=null,this._leftLayers.forEach(function(t){this._map.hasLayer(t)&&(this._leftLayer=t)},this),this._rightLayers.forEach(function(t){this._map.hasLayer(t)&&(this._rightLayer=t)},this),t!==this._leftLayer&&(t&&this.fire("leftlayerremove",{layer:t}),this._leftLayer&&this.fire("leftlayeradd",{layer:this._leftLayer})),e!==this._rightLayer&&(e&&this.fire("rightlayerremove",{layer:e}),this._rightLayer&&this.fire("rightlayeradd",{layer:this._rightLayer})),this._updateClip()},_addEvents:function(){var t=this._range,e=this._map;e&&t&&(e.on("move",this._updateClip,this),e.on("layeradd layerremove",this._updateLayers,this),a(t,l(t),this._updateClip,this),a(t,"mousedown touchstart",h,this),a(t,"mouseup touchend",u,this))},_removeEvents:function(){var t=this._range,e=this._map;t&&(s(t,l(t),this._updateClip,this),s(t,"mousedown touchstart",h,this),s(t,"mouseup touchend",u,this)),e&&(e.off("layeradd layerremove",this._updateLayers,this),e.off("move",this._updateClip,this))}}),o.control.sideBySide=function(t,e,i){return new o.Control.SideBySide(t,e,i)},t.exports=o.Control.SideBySide},function(t,e,i){var n=i(215);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0};i(12)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(11)(void 0)).push([t.i,".leaflet-sbs-range {\n    position: absolute;\n    top: 50%;\n    width: 100%;\n    z-index: 999;\n}\n.leaflet-sbs-divider {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 50%;\n    margin-left: -2px;\n    width: 4px;\n    background-color: #fff;\n    pointer-events: none;\n    z-index: 999;\n}\n",""])},function(t,e,i){var n=i(217);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0};i(12)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(11)(void 0)).push([t.i,".leaflet-sbs-range {\n    -webkit-appearance: none;\n    display: inline-block!important;\n    vertical-align: middle;\n    height: 0;\n    padding: 0;\n    margin: 0;\n    border: 0;\n    background: rgba(0, 0, 0, 0.25);\n    min-width: 100px;\n    cursor: pointer;\n    pointer-events: none;\n    z-index: 999;\n}\n.leaflet-sbs-range::-ms-fill-upper {\n    background: transparent;\n}\n.leaflet-sbs-range::-ms-fill-lower {\n    background: rgba(255, 255, 255, 0.25);\n}\n/* Browser thingies */\n\n.leaflet-sbs-range::-moz-range-track {\n    opacity: 0;\n}\n.leaflet-sbs-range::-ms-track {\n    opacity: 0;\n}\n.leaflet-sbs-range::-ms-tooltip {\n    display: none;\n}\n/* For whatever reason, these need to be defined\n * on their own so dont group them */\n\n.leaflet-sbs-range::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    margin: 0;\n    padding: 0;\n    background: #fff;\n    height: 40px;\n    width: 40px;\n    border-radius: 20px;\n    cursor: ew-resize;\n    pointer-events: auto;\n    border: 1px solid #ddd;\n    background-image: url("+i(56)+");\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    background-size: 40px 40px;\n}\n.leaflet-sbs-range::-ms-thumb {\n    margin: 0;\n    padding: 0;\n    background: #fff;\n    height: 40px;\n    width: 40px;\n    border-radius: 20px;\n    cursor: ew-resize;\n    pointer-events: auto;\n    border: 1px solid #ddd;\n    background-image: url("+i(56)+");\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    background-size: 40px 40px;\n}\n.leaflet-sbs-range::-moz-range-thumb {\n    padding: 0;\n    right: 0    ;\n    background: #fff;\n    height: 40px;\n    width: 40px;\n    border-radius: 20px;\n    cursor: ew-resize;\n    pointer-events: auto;\n    border: 1px solid #ddd;\n    background-image: url("+i(56)+");\n    background-position: 50% 50%;\n    background-repeat: no-repeat;\n    background-size: 40px 40px;\n}\n.leaflet-sbs-range:disabled::-moz-range-thumb {\n    cursor: default;\n}\n.leaflet-sbs-range:disabled::-ms-thumb {\n    cursor: default;\n}\n.leaflet-sbs-range:disabled::-webkit-slider-thumb {\n    cursor: default;\n}\n.leaflet-sbs-range:disabled {\n    cursor: default;\n}\n.leaflet-sbs-range:focus {\n    outline: none!important;\n}\n.leaflet-sbs-range::-moz-focus-outer {\n    border: 0;\n}\n\n",""])},function(t,e,i){var n=i(219);"string"==typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0};i(12)(n,r);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(11)(void 0)).push([t.i,".leaflet-control-minimap{border:rgba(255,255,255,1) solid;box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:3px;background:#f8f8f9;transition:all .6s}.leaflet-control-minimap a{background-color:rgba(255,255,255,1);background-repeat:no-repeat;z-index:99999;transition:all .6s}.leaflet-control-minimap a.minimized-bottomright{-webkit-transform:rotate(180deg);transform:rotate(180deg);border-radius:0}.leaflet-control-minimap a.minimized-topleft{-webkit-transform:rotate(0deg);transform:rotate(0deg);border-radius:0}.leaflet-control-minimap a.minimized-bottomleft{-webkit-transform:rotate(270deg);transform:rotate(270deg);border-radius:0}.leaflet-control-minimap a.minimized-topright{-webkit-transform:rotate(90deg);transform:rotate(90deg);border-radius:0}.leaflet-control-minimap-toggle-display{background-image:url("+i(220)+");background-size:cover;position:absolute;border-radius:3px 0 0}.leaflet-oldie .leaflet-control-minimap-toggle-display{background-image:url("+i(221)+")}.leaflet-control-minimap-toggle-display-bottomright{bottom:0;right:0}.leaflet-control-minimap-toggle-display-topleft{top:0;left:0;-webkit-transform:rotate(180deg);transform:rotate(180deg)}.leaflet-control-minimap-toggle-display-bottomleft{bottom:0;left:0;-webkit-transform:rotate(90deg);transform:rotate(90deg)}.leaflet-control-minimap-toggle-display-topright{top:0;right:0;-webkit-transform:rotate(270deg);transform:rotate(270deg)}.leaflet-oldie .leaflet-control-minimap{border:1px solid #999}.leaflet-oldie .leaflet-control-minimap a{background-color:#fff}.leaflet-oldie .leaflet-control-minimap a.minimized{filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2)}",""])},function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTgiIHdpZHRoPSIxOCI+PGRlZnM+PG1hcmtlciBvcmllbnQ9ImF1dG8iIG92ZXJmbG93PSJ2aXNpYmxlIj48cGF0aCBkPSJNLTIuNi0yLjgyOEwtNS40MjggMC0yLjYgMi44MjguMjI4IDAtMi42LTIuODI4eiIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iLjRwdCIvPjwvbWFya2VyPjxtYXJrZXIgb3JpZW50PSJhdXRvIiBvdmVyZmxvdz0idmlzaWJsZSI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9Ii44IiBzdHJva2UtbGluZWNhcD0icm91bmQiPjxwYXRoIGQ9Ik00LjU2NiA0Ljc1TC0uNjUyIDAiLz48cGF0aCBkPSJNMS41NDQgNC43NUwtMy42NzQgMCIvPjxwYXRoIGQ9Ik0tMS41NjYgNC43NUwtNi43ODQgMCIvPjxwYXRoIGQ9Ik00LjU2Ni01LjAxM0wtLjY1Mi0uMjYzIi8+PHBhdGggZD0iTTEuNTQ0LTUuMDEzbC01LjIxOCA0Ljc1Ii8+PHBhdGggZD0iTS0xLjU2Ni01LjAxM2wtNS4yMTggNC43NSIvPjwvZz48L21hcmtlcj48bWFya2VyIG9yaWVudD0iYXV0byIgb3ZlcmZsb3c9InZpc2libGUiPjxwYXRoIGQ9Ik0tNS42LTUuNjU3TC0xMS4yNTcgMC01LjYgNS42NTcuMDU3IDAtNS42LTUuNjU3eiIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iLjhwdCIvPjwvbWFya2VyPjxtYXJrZXIgb3JpZW50PSJhdXRvIiBvdmVyZmxvdz0idmlzaWJsZSI+PHBhdGggZD0iTTQuNjE2IDBsLTYuOTIgNHYtOGw2LjkyIDR6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIuOHB0Ii8+PC9tYXJrZXI+PG1hcmtlciBvcmllbnQ9ImF1dG8iIG92ZXJmbG93PSJ2aXNpYmxlIj48cGF0aCBkPSJNLTEwLjY5LTQuNDM3TDEuMzI4LS4wMTdsLTEyLjAxOCA0LjQyYzEuOTItMi42MSAxLjkxLTYuMTggMC04Ljg0eiIgZm9udC1zaXplPSIxMiIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2Utd2lkdGg9Ii42ODc1IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9tYXJrZXI+PG1hcmtlciBvcmllbnQ9ImF1dG8iIG92ZXJmbG93PSJ2aXNpYmxlIj48cGF0aCBkPSJNLTQuNjE2IDBsNi45Mi00djhsLTYuOTItNHoiIGZpbGwtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9Ii44cHQiLz48L21hcmtlcj48bWFya2VyIG9yaWVudD0iYXV0byIgb3ZlcmZsb3c9InZpc2libGUiPjxwYXRoIGQ9Ik0xMCAwbDQtNEwwIDBsMTQgNC00LTR6IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIuOHB0Ii8+PC9tYXJrZXI+PG1hcmtlciBvcmllbnQ9ImF1dG8iIG92ZXJmbG93PSJ2aXNpYmxlIj48cGF0aCBkPSJNMTAuNjkgNC40MzdMLTEuMzI4LjAxN2wxMi4wMTgtNC40MmMtMS45MiAyLjYxLTEuOTEgNi4xOCAwIDguODR6IiBmb250LXNpemU9IjEyIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS13aWR0aD0iLjY4NzUiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L21hcmtlcj48L2RlZnM+PHBhdGggZD0iTTEzLjE4IDEzLjE0NnYtNS44MWwtNS44MSA1LjgxaDUuODF6IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS42NDMiLz48cGF0aCBkPSJNMTIuNzYyIDEyLjcyN2wtNi41MS02LjUxIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMi40ODIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjwvc3ZnPg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAH1JREFUOI3t0DEKAjEQheFP8ERWqfUCeg9rL+adbKxkYRFEY7ERhkUhCZb7wyuGYX5ewkIvK6z/ITpjxOHHPtWKrsh4fJEl3GpF29LoI9sHSS6pZjeTnTD0iOayjFevCI7hOKaJZHpObNIsih/b3WiDSzgaS+5lfrY0Wph4A4kFM89VzdVFAAAAAElFTkSuQmCC"},function(t,e,i){"use strict";var n,r,o,a,s;"function"==typeof Symbol&&Symbol.iterator;a=function(t){var e=t.Control.extend({includes:t.Evented?t.Evented.prototype:t.Mixin.Events,options:{position:"bottomright",toggleDisplay:!1,zoomLevelOffset:-5,zoomLevelFixed:!1,centerFixed:!1,zoomAnimation:!1,autoToggleDisplay:!1,minimized:!1,width:150,height:150,collapsedWidth:19,collapsedHeight:19,aimingRectOptions:{color:"#ff7800",weight:1,clickable:!1},shadowRectOptions:{color:"#000000",weight:1,clickable:!1,opacity:0,fillOpacity:0},strings:{hideText:"Hide MiniMap",showText:"Show MiniMap"},mapOptions:{}},initialize:function(e,i){t.Util.setOptions(this,i),this.options.aimingRectOptions.clickable=!1,this.options.shadowRectOptions.clickable=!1,this._layer=e},onAdd:function(e){this._mainMap=e,this._container=t.DomUtil.create("div","leaflet-control-minimap"),this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",t.DomEvent.disableClickPropagation(this._container),t.DomEvent.on(this._container,"mousewheel",t.DomEvent.stopPropagation);var i={attributionControl:!1,dragging:!this.options.centerFixed,zoomControl:!1,zoomAnimation:this.options.zoomAnimation,autoToggleDisplay:this.options.autoToggleDisplay,touchZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),scrollWheelZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),doubleClickZoom:this.options.centerFixed?"center":!this._isZoomLevelFixed(),boxZoom:!this._isZoomLevelFixed(),crs:e.options.crs};return i=t.Util.extend(this.options.mapOptions,i),this._miniMap=new t.Map(this._container,i),this._miniMap.addLayer(this._layer),this._mainMapMoving=!1,this._miniMapMoving=!1,this._userToggledDisplay=!1,this._minimized=!1,this.options.toggleDisplay&&this._addToggleButton(),this._miniMap.whenReady(t.Util.bind(function(){this._aimingRect=t.rectangle(this._mainMap.getBounds(),this.options.aimingRectOptions).addTo(this._miniMap),this._shadowRect=t.rectangle(this._mainMap.getBounds(),this.options.shadowRectOptions).addTo(this._miniMap),this._mainMap.on("moveend",this._onMainMapMoved,this),this._mainMap.on("move",this._onMainMapMoving,this),this._miniMap.on("movestart",this._onMiniMapMoveStarted,this),this._miniMap.on("move",this._onMiniMapMoving,this),this._miniMap.on("moveend",this._onMiniMapMoved,this)},this)),this._container},addTo:function(e){t.Control.prototype.addTo.call(this,e);var i=this.options.centerFixed||this._mainMap.getCenter();return this._miniMap.setView(i,this._decideZoom(!0)),this._setDisplay(this.options.minimized),this},onRemove:function(t){this._mainMap.off("moveend",this._onMainMapMoved,this),this._mainMap.off("move",this._onMainMapMoving,this),this._miniMap.off("moveend",this._onMiniMapMoved,this),this._miniMap.removeLayer(this._layer)},changeLayer:function(t){this._miniMap.removeLayer(this._layer),this._layer=t,this._miniMap.addLayer(this._layer)},_addToggleButton:function(){this._toggleDisplayButton=this.options.toggleDisplay?this._createButton("",this._toggleButtonInitialTitleText(),"leaflet-control-minimap-toggle-display leaflet-control-minimap-toggle-display-"+this.options.position,this._container,this._toggleDisplayButtonClicked,this):void 0,this._toggleDisplayButton.style.width=this.options.collapsedWidth+"px",this._toggleDisplayButton.style.height=this.options.collapsedHeight+"px"},_toggleButtonInitialTitleText:function(){return this.options.minimized?this.options.strings.showText:this.options.strings.hideText},_createButton:function(e,i,n,r,o,a){var s=t.DomUtil.create("a",n,r);s.innerHTML=e,s.href="#",s.title=i;var l=t.DomEvent.stopPropagation;return t.DomEvent.on(s,"click",l).on(s,"mousedown",l).on(s,"dblclick",l).on(s,"click",t.DomEvent.preventDefault).on(s,"click",o,a),s},_toggleDisplayButtonClicked:function(){this._userToggledDisplay=!0,this._minimized?this._restore():this._minimize()},_setDisplay:function(t){t!==this._minimized&&(this._minimized?this._restore():this._minimize())},_minimize:function(){this.options.toggleDisplay?(this._container.style.width=this.options.collapsedWidth+"px",this._container.style.height=this.options.collapsedHeight+"px",this._toggleDisplayButton.className+=" minimized-"+this.options.position,this._toggleDisplayButton.title=this.options.strings.showText):this._container.style.display="none",this._minimized=!0,this._onToggle()},_restore:function(){this.options.toggleDisplay?(this._container.style.width=this.options.width+"px",this._container.style.height=this.options.height+"px",this._toggleDisplayButton.className=this._toggleDisplayButton.className.replace("minimized-"+this.options.position,""),this._toggleDisplayButton.title=this.options.strings.hideText):this._container.style.display="block",this._minimized=!1,this._onToggle()},_onMainMapMoved:function(t){if(this._miniMapMoving)this._miniMapMoving=!1;else{var e=this.options.centerFixed||this._mainMap.getCenter();this._mainMapMoving=!0,this._miniMap.setView(e,this._decideZoom(!0)),this._setDisplay(this._decideMinimized())}this._aimingRect.setBounds(this._mainMap.getBounds())},_onMainMapMoving:function(t){this._aimingRect.setBounds(this._mainMap.getBounds())},_onMiniMapMoveStarted:function(t){if(!this.options.centerFixed){var e=this._aimingRect.getBounds(),i=this._miniMap.latLngToContainerPoint(e.getSouthWest()),n=this._miniMap.latLngToContainerPoint(e.getNorthEast());this._lastAimingRectPosition={sw:i,ne:n}}},_onMiniMapMoving:function(e){this.options.centerFixed||!this._mainMapMoving&&this._lastAimingRectPosition&&(this._shadowRect.setBounds(new t.LatLngBounds(this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.sw),this._miniMap.containerPointToLatLng(this._lastAimingRectPosition.ne))),this._shadowRect.setStyle({opacity:1,fillOpacity:.3}))},_onMiniMapMoved:function(t){this._mainMapMoving?this._mainMapMoving=!1:(this._miniMapMoving=!0,this._mainMap.setView(this._miniMap.getCenter(),this._decideZoom(!1)),this._shadowRect.setStyle({opacity:0,fillOpacity:0}))},_isZoomLevelFixed:function(){var t=this.options.zoomLevelFixed;return this._isDefined(t)&&this._isInteger(t)},_decideZoom:function(t){if(this._isZoomLevelFixed())return t?this.options.zoomLevelFixed:this._mainMap.getZoom();if(t)return this._mainMap.getZoom()+this.options.zoomLevelOffset;var e,i=this._miniMap.getZoom()-this._mainMap.getZoom(),n=this._miniMap.getZoom()-this.options.zoomLevelOffset;return i>this.options.zoomLevelOffset&&this._mainMap.getZoom()<this._miniMap.getMinZoom()-this.options.zoomLevelOffset?this._miniMap.getZoom()>this._lastMiniMapZoom?(e=this._mainMap.getZoom()+1,this._miniMap.setZoom(this._miniMap.getZoom()-1)):e=this._mainMap.getZoom():e=n,this._lastMiniMapZoom=this._miniMap.getZoom(),e},_decideMinimized:function(){return this._userToggledDisplay?this._minimized:this.options.autoToggleDisplay?!!this._mainMap.getBounds().contains(this._miniMap.getBounds()):this._minimized},_isInteger:function(t){return"number"==typeof t},_isDefined:function(t){return void 0!==t},_onToggle:function(){t.Util.requestAnimFrame(function(){t.DomEvent.on(this._container,"transitionend",this._fireToggleEvents,this),t.Browser.any3d||t.Util.requestAnimFrame(this._fireToggleEvents,this)},this)},_fireToggleEvents:function(){t.DomEvent.off(this._container,"transitionend",this._fireToggleEvents,this);var e={minimized:this._minimized};this.fire(this._minimized?"minimize":"restore",e),this.fire("toggle",e)}});return t.Map.mergeOptions({miniMapControl:!1}),t.Map.addInitHook(function(){this.options.miniMapControl&&(this.miniMapControl=(new e).addTo(this))}),e},s=window,r=[i(1)],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o),void 0!==s&&s.L&&(s.L.Control.MiniMap=a(L),s.L.control.minimap=function(t,e){return new s.L.Control.MiniMap(t,e)})},function(t,e,i){"use strict";var n,r,o;"function"==typeof Symbol&&Symbol.iterator;r=[],void 0===(o="function"==typeof(n=function(){var t=52.35987755982988,e=3.141592653589793,i=6378245,n=.006693421622965943,r=function(t,i){var n=2*(t=+t)-100+3*(i=+i)+.2*i*i+.1*t*i+.2*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*e)+20*Math.sin(2*t*e))/3,n+=2*(20*Math.sin(i*e)+40*Math.sin(i/3*e))/3,n+=2*(160*Math.sin(i/12*e)+320*Math.sin(i*e/30))/3},o=function(t,i){var n=300+(t=+t)+2*(i=+i)+.1*t*t+.1*t*i+.1*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*e)+20*Math.sin(2*t*e))/3,n+=2*(20*Math.sin(t*e)+40*Math.sin(t/3*e))/3,n+=2*(150*Math.sin(t/12*e)+300*Math.sin(t/30*e))/3},a=function(t,e){e=+e;return!((t=+t)>73.66&&t<135.05&&e>3.86&&e<53.55)};return{bd09togcj02:function(e,i){var n=(e=+e)-.0065,r=(i=+i)-.006,o=Math.sqrt(n*n+r*r)-2e-5*Math.sin(r*t),a=Math.atan2(r,n)-3e-6*Math.cos(n*t);return[o*Math.cos(a),o*Math.sin(a)]},gcj02tobd09:function(e,i){i=+i,e=+e;var n=Math.sqrt(e*e+i*i)+2e-5*Math.sin(i*t),r=Math.atan2(i,e)+3e-6*Math.cos(e*t);return[n*Math.cos(r)+.0065,n*Math.sin(r)+.006]},wgs84togcj02:function(t,s){if(a(t=+t,s=+s))return[t,s];var l=r(t-105,s-35),h=o(t-105,s-35),u=s/180*e,c=Math.sin(u);c=1-n*c*c;var f=Math.sqrt(c);return l=180*l/(i*(1-n)/(c*f)*e),[t+(h=180*h/(i/f*Math.cos(u)*e)),s+l]},gcj02towgs84:function(t,s){if(a(t=+t,s=+s))return[t,s];var l=r(t-105,s-35),h=o(t-105,s-35),u=s/180*e,c=Math.sin(u);c=1-n*c*c;var f=Math.sqrt(c);return l=180*l/(i*(1-n)/(c*f)*e),[2*t-(t+(h=180*h/(i/f*Math.cos(u)*e))),2*s-(s+l)]}}})?n.apply(e,r):n)||(t.exports=o)},function(t,e){!function(t){function e(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}function i(t,e){var i={};t/=h;var n,r=J;return n=0>=(e/=h)?90:1<=e?-90:(2*P(I(Y*(1-2*e)))-W)/Y*180,i[r]=n,i[Q]=360*(1===t?1:(t%1+1)%1)-180,i}function n(t,e){var i=N(1,T(0,.5-M(S(Z+W*t/180))/Y/2));return{x:(e/360+.5)*h<<0,y:i*h<<0}}function r(t){for(var e=K+it,i=$+nt,n=0,r=t.length-3;n<r;n+=2)if(t[n]>it&&t[n]<e&&t[n+1]>nt&&t[n+1]<i)return!0;return!1}function o(t){c=tt+t.x,f=$+t.y,wt.render(!0)}function a(t){K=t.width,$=t.height,et=$/2<<0,c=tt=K/2<<0,f=$,wt.setSize(K,$),u=dt-50}function s(t){h=q<<(l=t);var e=n((t=i(it+tt,nt+et)).latitude,0);ut=n(t.latitude,1).x-e.x,ct=D(.95,l-X),st=""+rt.alpha(ct),lt=""+ot.alpha(ct),ht=""+at.alpha(ct)}var l,h,u,c,f,d,p,g,_,m,y,v,b,x,w,C,I=(B=Math).exp,M=B.log,E=B.sin,O=B.cos,S=B.tan,P=B.atan,k=B.atan2,N=B.min,T=B.max,A=B.sqrt,R=B.ceil,D=B.pow,j=j||Array,G=G||Array,B=/iP(ad|hone|od)/g.test(navigator.userAgent),F=!!~navigator.userAgent.indexOf("Trident"),z=!t.requestAnimationFrame||B||F?function(t){t()}:t.requestAnimationFrame,U=function(t){function e(t,e,i){return 0>i&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:.5>i?e:i<2/3?t+(e-t)*(2/3-i)*6:t}var i={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",grey:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},n=function(t,e,i,n){this.H=t,this.S=e,this.L=i,this.A=n};return n.parse=function(t){var e,n=0,r=0,o=0,a=1;if(t=(""+t).toLowerCase(),e=(t=i[t]||t).match(/^#(\w{2})(\w{2})(\w{2})$/))n=parseInt(e[1],16),r=parseInt(e[2],16),o=parseInt(e[3],16);else{if(!(e=t.match(/rgba?\((\d+)\D+(\d+)\D+(\d+)(\D+([\d.]+))?\)/)))return;n=parseInt(e[1],10),r=parseInt(e[2],10),o=parseInt(e[3],10),a=e[4]?parseFloat(e[5]):1}return this.fromRGBA(n,r,o,a)},n.fromRGBA=function(t,e,i,r){"object"==typeof t?(e=t.g/255,i=t.b/255,r=t.a,t=t.r/255):(t/=255,e/=255,i/=255);var o,a=Math.max(t,e,i),s=Math.min(t,e,i),l=(a+s)/2,h=a-s;if(h){switch(s=.5<l?h/(2-a-s):h/(a+s),a){case t:o=(e-i)/h+(e<i?6:0);break;case e:o=(i-t)/h+2;break;case i:o=(t-e)/h+4}o*=60}else o=s=0;return new n(o,s,l,r)},n.prototype={toRGBA:function(){var t,i=Math.min(360,Math.max(0,this.H)),n=Math.min(1,Math.max(0,this.S)),r=Math.min(1,Math.max(0,this.L)),o=Math.min(1,Math.max(0,this.A));if(0===n)i=t=n=r;else{var a=.5>r?r*(1+n):r+n-r*n;n=e(r=2*r-a,a,(i=i/360)+1/3);t=e(r,a,i),i=e(r,a,i-1/3)}return{r:Math.round(255*n),g:Math.round(255*t),b:Math.round(255*i),a:o}},toString:function(){var t=this.toRGBA();return 1===t.a?"#"+(16777216+(t.r<<16)+(t.g<<8)+t.b).toString(16).slice(1,7):"rgba("+[t.r,t.g,t.b,t.a.toFixed(2)].join()+")"},hue:function(t){return new n(this.H*t,this.S,this.L,this.A)},saturation:function(t){return new n(this.H,this.S*t,this.L,this.A)},lightness:function(t){return new n(this.H,this.S,this.L*t,this.A)},alpha:function(t){return new n(this.H,this.S,this.L,this.A*t)}},n}(),H=(g=Math,_=g.PI,m=g.sin,y=g.cos,v=g.tan,b=g.asin,x=g.atan2,C=23.4397*(w=_/180),function(t,e,i){i=w*-i,e*=w,t=t.valueOf()/864e5-.5+2440588-2451545;var n,r=w*(357.5291+.98560028*t);return n=r+(n=w*(1.9148*m(r)+.02*m(2*r)+3e-4*m(3*r)))+102.9372*w+_,r=b(m(0)*y(C)+y(0)*m(C)*m(n)),n=x(m(n)*y(C)-v(0)*m(C),y(n)),t=w*(280.16+360.9856235*t)-i-n,{altitude:i=b(m(e)*m(r)+y(e)*y(r)*y(t)),azimuth:(e=x(m(t),y(t)*m(e)-v(r)*y(e)))-_/2}}),V=function(){function t(t){return"#"===(t=t.toLowerCase())[0]?t:n[r[t]||t]||null}function e(t,e){var i,n,r,s,l,h=0;for(s=0,l=t.length-3;s<l;s+=2)i=t[s],n=t[s+1],r=t[s+2],h+=i*t[s+3]-r*n;if((0<h/2?o:a)===e)return t;for(i=[],n=t.length-2;0<=n;n-=2)i.push(t[n],t[n+1]);return i}function i(t){var n,r,s,l=[];switch(t.type){case"GeometryCollection":for(l=[],n=0,r=t.geometries.length;n<r;n++)(s=i(t.geometries[n]))&&l.push.apply(l,s);return l;case"MultiPolygon":for(l=[],n=0,r=t.coordinates.length;n<r;n++)(s=i({type:"Polygon",coordinates:t.coordinates[n]}))&&l.push.apply(l,s);return l;case"Polygon":t=t.coordinates;break;default:return[]}var h,u=[],c=[];for(n=0,r=(h=t[0]).length;n<r;n++)u.push(h[n][1],h[n][0]);for(u=e(u,o),n=0,r=t.length-1;n<r;n++){for(h=t[n+1],c[n]=[],l=0,s=h.length;l<s;l++)c[n].push(h[l][1],h[l][0]);c[n]=e(c[n],a)}return[{outer:u,inner:c.length?c:null}]}var n={brick:"#cc7755",bronze:"#ffeecc",canvas:"#fff8f0",concrete:"#999999",copper:"#a0e0d0",glass:"#e8f8f8",gold:"#ffcc00",plants:"#009933",metal:"#aaaaaa",panel:"#fff8f0",plaster:"#999999",roof_tiles:"#f08060",silver:"#cccccc",slate:"#666666",stone:"#996666",tar_paper:"#333333",wood:"#deb887"},r={asphalt:"tar_paper",bitumen:"tar_paper",block:"stone",bricks:"brick",glas:"glass",glassfront:"glass",grass:"plants",masonry:"stone",granite:"stone",panels:"panel",paving_stones:"stone",plastered:"plaster",rooftiles:"roof_tiles",roofingfelt:"tar_paper",sandstone:"stone",sheet:"canvas",sheets:"canvas",shingle:"tar_paper",shingles:"tar_paper",slates:"slate",steel:"metal",tar:"tar_paper",tent:"canvas",thatch:"plants",tile:"roof_tiles",tiles:"roof_tiles"},o="CW",a="CCW";return{read:function(e){if(!e||"FeatureCollection"!==e.type)return[];var n,r,o,a,s,l,h,u,c=[];for(n=0,r=(e=e.features).length;n<r;n++)if("Feature"===(s=e[n]).type&&!1!==Ct(s)){switch(a={},o=(o=s.properties)||{},a.height=o.height||(o.levels?3*o.levels:ft),a.minHeight=o.minHeight||(o.minLevel?3*o.minLevel:0),(l=o.material?t(o.material):o.wallColor||o.color)&&(a.wallColor=l),(l=o.roofMaterial?t(o.roofMaterial):o.roofColor)&&(a.roofColor=l),o.shape){case"cylinder":case"cone":case"dome":case"sphere":a.shape=o.shape,a.isRotational=!0;break;case"pyramid":a.shape=o.shape}switch(o.roofShape){case"cone":case"dome":a.roofShape=o.roofShape,a.isRotational=!0;break;case"pyramid":a.roofShape=o.roofShape}for(a.roofShape&&o.roofHeight?(a.roofHeight=o.roofHeight,a.height=T(0,a.height-a.roofHeight)):a.roofHeight=0,h=a,o=0,a=(l=i(s.geometry)).length;o<a;o++){u=h;var f={},d=void 0;for(d in u)u.hasOwnProperty(d)&&(f[d]=u[d]);if((u=f).footprint=l[o].outer,u.isRotational){f=u;for(var p=180,g=-180,_=0,m=(d=u.footprint).length;_<m;_+=2)p=N(p,d[_+1]),g=T(g,d[_+1]);f.radius=(g-p)/2}l[o].inner&&(u.holes=l[o].inner),(s.id||s.properties.id)&&(u.id=s.id||s.properties.id),s.properties.relationId&&(u.relationId=s.properties.relationId),c.push(u)}}return c}}}(),Y=Math.PI,W=Y/2,Z=Y/4,q=256,X=15,J="latitude",Q="longitude",K=0,$=0,tt=0,et=0,it=0,nt=0,rt=U.parse("rgba(200, 190, 180)"),ot=rt.lightness(.8),at=rt.lightness(1.2),st=""+rt,lt=""+ot,ht=""+at,ut=0,ct=1,ft=5,dt=450,pt=function(){var t={},e=[],i=0,n=5242880;return{loadJSON:function(r,o){return function(r,o){if(!t[r]){var a=new XMLHttpRequest;return a.onreadystatechange=function(){if(4===a.readyState&&a.status&&!(200>a.status||299<a.status)&&o&&a.responseText){var s=a.responseText;for(t[r]=s,e.push({url:r,size:s.length}),i+=s.length,o(s);i>n;)s=e.shift(),i-=s.size,delete t[s.url]}},a.open("GET",r),a.send(null),a}o&&o(t[r])}(r,function(t){var e;try{e=JSON.parse(t)}catch(t){}o(e)})}}}(),gt={loadedItems:{},items:[],getPixelFootprint:function(t){for(var e,i=new j(t.length),r=0,o=t.length-1;r<o;r+=2)e=n(t[r],t[r+1]),i[r]=e.x,i[r+1]=e.y;o=(i=(t=i).length/2)-1;var a,s,l,h,u=[],c=[],f=[];for((e=new G(i))[r=0]=e[o]=1;o;){for(s=0,a=r+1;a<o;a++){l=t[2*a];var d=t[2*a+1],p=t[2*r],g=t[2*r+1],_=t[2*o],m=t[2*o+1],y=_-p,v=m-g,b=void 0;0===y&&0===v||(1<(b=((l-p)*y+(d-g)*v)/(y*y+v*v))?(p=_,g=m):0<b&&(p+=y*b,g+=v*b)),(l=(y=l-p)*y+(v=d-g)*v)>s&&(h=a,s=l)}2<s&&(e[h]=1,u.push(r),c.push(h),u.push(h),c.push(o)),r=u.pop(),o=c.pop()}for(a=0;a<i;a++)e[a]&&f.push(t[2*a],t[2*a+1]);if(!(8>(i=f).length))return i},resetItems:function(){this.items=[],this.loadedItems={},Lt.reset()},addRenderItems:function(t,e){for(var i,n,r,o=V.read(t),a=0,s=o.length;a<s;a++)r=(i=o[a]).id||[i.footprint[0],i.footprint[1],i.height,i.minHeight].join(),!this.loadedItems[r]&&(n=this.scale(i))&&(n.scale=e?0:1,this.items.push(n),this.loadedItems[r]=1);p||(p=setInterval(function(){for(var t=gt.items,e=!1,i=0,n=t.length;i<n;i++)1>t[i].scale&&(t[i].scale+=.1,1<t[i].scale&&(t[i].scale=1),e=!0);wt.render(),e||(clearInterval(p),p=null)},33))},scale:function(t){var i={},n=6/D(2,l-X);if(t.id&&(i.id=t.id),i.height=N(t.height/n,u),i.minHeight=isNaN(t.minHeight)?0:t.minHeight/n,!(i.minHeight>u)&&(i.footprint=this.getPixelFootprint(t.footprint),i.footprint)){for(var r=1/0,o=-1/0,a=1/0,s=-1/0,h=0,c=(d=i.footprint).length-3;h<c;h+=2)r=N(r,d[h]),o=T(o,d[h]),a=N(a,d[h+1]),s=T(s,d[h+1]);if(i.center={x:r+(o-r)/2<<0,y:a+(s-a)/2<<0},t.radius&&(i.radius=t.radius*ut),t.shape&&(i.shape=t.shape),t.roofShape&&(i.roofShape=t.roofShape),"cone"!==i.roofShape&&"dome"!==i.roofShape||i.shape||!function(t){var i=t.length;if(16>i)return!1;var n,r=1/0,o=-1/0,a=1/0,s=-1/0;for(n=0;n<i-1;n+=2)r=Math.min(r,t[n]),o=Math.max(o,t[n]),a=Math.min(a,t[n+1]),s=Math.max(s,t[n+1]);if(.85>(o=(n=o-r)/(s-=a))||1.15<o)return!1;for(r={x:r+n/2,y:a+s/2},a=(n=(n+s)/4)*n,n=0;n<i-1;n+=2)if(.8>(s=e({x:t[n],y:t[n+1]},r))/a||1.2<s/a)return!1;return!0}(i.footprint)||(i.shape="cylinder"),t.holes){i.holes=[];var f,d=0;for(r=t.holes.length;d<r;d++)(f=this.getPixelFootprint(t.holes[d]))&&i.holes.push(f)}var p;if(t.wallColor&&(p=U.parse(t.wallColor))&&(p=p.alpha(ct),i.altColor=""+p.lightness(.8),i.wallColor=""+p),t.roofColor&&(p=U.parse(t.roofColor))&&(i.roofColor=""+p.alpha(ct)),t.relationId&&(i.relationId=t.relationId),i.hitColor=Lt.idToColor(t.relationId||t.id),i.roofHeight=isNaN(t.roofHeight)?0:t.roofHeight/n,!(i.height+i.roofHeight<=i.minHeight))return i}},set:function(t){this.isStatic=!0,this.resetItems(),this._staticData=t,this.addRenderItems(this._staticData,!0)},load:function(t,e){this.src=t||"http://{s}.data.osmbuildings.org/0.2/{k}/tile/{z}/{x}/{y}.json".replace("{k}",e||"anonymous"),this.update()},update:function(){function t(t){a.addRenderItems(t)}if(this.resetItems(),!(l<X))if(this.isStatic&&this._staticData)this.addRenderItems(this._staticData);else if(this.src){var e,i=it/(o=16<l?256<<l-16:256>>16-l)<<0,n=nt/o<<0,r=R((it+K)/o),o=R((nt+$)/o),a=this;for(e=n;e<=o;e++)for(n=i;n<=r;n++)this.loadTile(n,e,16,t)}},loadTile:function(t,e,i,n){return t=this.src.replace("{s}","abcd"[(t+e)%4]).replace("{x}",t).replace("{y}",e).replace("{z}",i),pt.loadJSON(t,n)}},_t={draw:function(t,e,i,n,r,o,a,s){var l,h=this._extrude(t,e,n,r,o,a),u=[];if(i)for(e=0,l=i.length;e<l;e++)u[e]=this._extrude(t,i[e],n,r,o,a);if(t.fillStyle=s,t.beginPath(),this._ring(t,h),i)for(e=0,l=u.length;e<l;e++)this._ring(t,u[e]);t.closePath(),t.stroke(),t.fill()},_extrude:function(t,e,i,n,r,o){i=dt/(dt-i);for(var a,s,l=dt/(dt-n),h={x:0,y:0},u={x:0,y:0},c=[],f=0,d=e.length-3;f<d;f+=2)h.x=e[f]-it,h.y=e[f+1]-nt,u.x=e[f+2]-it,u.y=e[f+3]-nt,a=vt.project(h,i),s=vt.project(u,i),n&&(h=vt.project(h,l),u=vt.project(u,l)),(u.x-h.x)*(a.y-h.y)>(a.x-h.x)*(u.y-h.y)&&(t.fillStyle=h.x<u.x&&h.y<u.y||h.x>u.x&&h.y>u.y?o:r,t.beginPath(),this._ring(t,[u.x,u.y,h.x,h.y,a.x,a.y,s.x,s.y]),t.closePath(),t.fill()),c[f]=a.x,c[f+1]=a.y;return c},_ring:function(t,e){t.moveTo(e[0],e[1]);for(var i=2,n=e.length-1;i<n;i+=2)t.lineTo(e[i],e[i+1])},simplified:function(t,e,i){if(t.beginPath(),this._ringAbs(t,e),i){e=0;for(var n=i.length;e<n;e++)this._ringAbs(t,i[e])}t.closePath(),t.stroke(),t.fill()},_ringAbs:function(t,e){t.moveTo(e[0]-it,e[1]-nt);for(var i=2,n=e.length-1;i<n;i+=2)t.lineTo(e[i]-it,e[i+1]-nt)},shadow:function(t,e,i,n,r){for(var o,a,s=null,l={x:0,y:0},h={x:0,y:0},u=0,c=e.length-3;u<c;u+=2)l.x=e[u]-it,l.y=e[u+1]-nt,h.x=e[u+2]-it,h.y=e[u+3]-nt,o=xt.project(l,n),a=xt.project(h,n),r&&(l=xt.project(l,r),h=xt.project(h,r)),(h.x-l.x)*(o.y-l.y)>(o.x-l.x)*(h.y-l.y)?(1===s&&t.lineTo(l.x,l.y),s=0,u||t.moveTo(l.x,l.y),t.lineTo(h.x,h.y)):(0===s&&t.lineTo(o.x,o.y),s=1,u||t.moveTo(o.x,o.y),t.lineTo(a.x,a.y));if(i)for(u=0,c=i.length;u<c;u++)this._ringAbs(t,i[u])},shadowMask:function(t,e,i){if(this._ringAbs(t,e),i){e=0;for(var n=i.length;e<n;e++)this._ringAbs(t,i[e])}},hitArea:function(t,e,i,n,r,o){i=null;var a={x:0,y:0},s={x:0,y:0};n=dt/(dt-n);var l,h=dt/(dt-r);t.fillStyle=o,t.beginPath();for(var u=0,c=e.length-3;u<c;u+=2)a.x=e[u]-it,a.y=e[u+1]-nt,s.x=e[u+2]-it,s.y=e[u+3]-nt,o=vt.project(a,n),l=vt.project(s,n),r&&(a=vt.project(a,h),s=vt.project(s,h)),(s.x-a.x)*(o.y-a.y)>(o.x-a.x)*(s.y-a.y)?(1===i&&t.lineTo(a.x,a.y),i=0,u||t.moveTo(a.x,a.y),t.lineTo(s.x,s.y)):(0===i&&t.lineTo(o.x,o.y),i=1,u||t.moveTo(o.x,o.y),t.lineTo(l.x,l.y));t.closePath(),t.fill()}},mt={draw:function(t,e,i,n,r,o,a,s,l){e={x:e.x-it,y:e.y-nt};var h=dt/(dt-r),u=dt/(dt-o);r=vt.project(e,h),n*=h,o&&(e=vt.project(e,u),i*=u),(h=this._tangents(e,i,r,n))?(o=k(h[0].y1-e.y,h[0].x1-e.x),h=k(h[1].y1-e.y,h[1].x1-e.x)):(o=1.5*Y,h=1.5*Y),t.fillStyle=a,t.beginPath(),t.arc(r.x,r.y,n,W,o,!0),t.arc(e.x,e.y,i,o,W),t.closePath(),t.fill(),t.fillStyle=s,t.beginPath(),t.arc(r.x,r.y,n,h,W,!0),t.arc(e.x,e.y,i,W,h),t.closePath(),t.fill(),t.fillStyle=l,this._circle(t,r,n)},simplified:function(t,e,i){this._circle(t,{x:e.x-it,y:e.y-nt},i)},shadow:function(t,e,i,n,r,o){var a;e={x:e.x-it,y:e.y-nt},r=xt.project(e,r),o&&(e=xt.project(e,o));var s=this._tangents(e,i,r,n);s?(o=k(s[0].y1-e.y,s[0].x1-e.x),a=k(s[1].y1-e.y,s[1].x1-e.x),t.moveTo(s[1].x2,s[1].y2),t.arc(r.x,r.y,n,a,o),t.arc(e.x,e.y,i,o,a)):(t.moveTo(e.x+i,e.y),t.arc(e.x,e.y,i,0,2*Y))},shadowMask:function(t,e,i){var n=e.x-it;e=e.y-nt,t.moveTo(n+i,e),t.arc(n,e,i,0,2*Y)},hitArea:function(t,e,i,n,r,o,a){e={x:e.x-it,y:e.y-nt};var s=dt/(dt-r),l=dt/(dt-o);r=vt.project(e,s),n*=s,o&&(e=vt.project(e,l),i*=l),o=this._tangents(e,i,r,n),t.fillStyle=a,t.beginPath(),o?(a=k(o[0].y1-e.y,o[0].x1-e.x),s=k(o[1].y1-e.y,o[1].x1-e.x),t.moveTo(o[1].x2,o[1].y2),t.arc(r.x,r.y,n,s,a),t.arc(e.x,e.y,i,a,s)):(t.moveTo(e.x+i,e.y),t.arc(e.x,e.y,i,0,2*Y)),t.closePath(),t.fill()},_circle:function(t,e,i){t.beginPath(),t.arc(e.x,e.y,i,0,2*Y),t.stroke(),t.fill()},_tangents:function(t,e,i,n){if(!((u=(s=t.x-i.x)*s+(l=t.y-i.y)*l)<=(h=e-n)*h)){var r,o,a,s=-s/(u=A(u)),l=-l/u,h=h/u,u=[];r=A(T(0,1-h*h));for(var c=1;-1<=c;c-=2)o=s*h-c*r*l,a=l*h+c*r*s,u.push({x1:t.x+e*o<<0,y1:t.y+e*a<<0,x2:i.x+n*o<<0,y2:i.y+n*a<<0});return u}}},yt={draw:function(t,e,i,n,r,o,a){var s=dt/(dt-r);i=vt.project({x:i.x-it,y:i.y-nt},dt/(dt-n)),n={x:0,y:0};for(var l={x:0,y:0},h=0,u=e.length-3;h<u;h+=2)n.x=e[h]-it,n.y=e[h+1]-nt,l.x=e[h+2]-it,l.y=e[h+3]-nt,r&&(n=vt.project(n,s),l=vt.project(l,s)),(l.x-n.x)*(i.y-n.y)>(i.x-n.x)*(l.y-n.y)&&(t.fillStyle=n.x<l.x&&n.y<l.y||n.x>l.x&&n.y>l.y?a:o,t.beginPath(),this._triangle(t,n,l,i),t.closePath(),t.fill())},_triangle:function(t,e,i,n){t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.lineTo(n.x,n.y)},_ring:function(t,e){t.moveTo(e[0]-it,e[1]-nt);for(var i=2,n=e.length-1;i<n;i+=2)t.lineTo(e[i]-it,e[i+1]-nt)},shadow:function(t,e,i,n,r){var o={x:0,y:0},a={x:0,y:0};i=xt.project({x:i.x-it,y:i.y-nt},n),n=0;for(var s=e.length-3;n<s;n+=2)o.x=e[n]-it,o.y=e[n+1]-nt,a.x=e[n+2]-it,a.y=e[n+3]-nt,r&&(o=xt.project(o,r),a=xt.project(a,r)),(a.x-o.x)*(i.y-o.y)>(i.x-o.x)*(a.y-o.y)&&this._triangle(t,o,a,i)},shadowMask:function(t,e){this._ring(t,e)},hitArea:function(t,e,i,n,r,o){var a=dt/(dt-r);i=vt.project({x:i.x-it,y:i.y-nt},dt/(dt-n)),n={x:0,y:0};var s={x:0,y:0};t.fillStyle=o,t.beginPath(),o=0;for(var l=e.length-3;o<l;o+=2)n.x=e[o]-it,n.y=e[o+1]-nt,s.x=e[o+2]-it,s.y=e[o+3]-nt,r&&(n=vt.project(n,a),s=vt.project(s,a)),(s.x-n.x)*(i.y-n.y)>(i.x-n.x)*(s.y-n.y)&&this._triangle(t,n,s,i);t.closePath(),t.fill()}},vt={project:function(t,e){return{x:(t.x-c)*e+c<<0,y:(t.y-f)*e+f<<0}},render:function(){var t=this.context;if(t.clearRect(0,0,K,$),!(l<X||d)){var i,n,o,a,s,h,u,p={x:c+it,y:f+nt},g=gt.items;g.sort(function(t,i){return t.minHeight-i.minHeight||e(i.center,p)-e(t.center,p)||i.height-t.height});for(var _=0,m=g.length;_<m;_++)if(i=g[_],!bt.isSimple(i)&&r(a=i.footprint)){switch(n=1>i.scale?i.height*i.scale:i.height,o=0,i.minHeight&&(o=1>i.scale?i.minHeight*i.scale:i.minHeight),s=i.wallColor||st,h=i.altColor||lt,u=i.roofColor||ht,t.strokeStyle=h,i.shape){case"cylinder":mt.draw(t,i.center,i.radius,i.radius,n,o,s,h,u);break;case"cone":mt.draw(t,i.center,i.radius,0,n,o,s,h);break;case"dome":mt.draw(t,i.center,i.radius,i.radius/2,n,o,s,h);break;case"sphere":mt.draw(t,i.center,i.radius,i.radius,n,o,s,h,u);break;case"pyramid":yt.draw(t,a,i.center,n,o,s,h);break;default:_t.draw(t,a,i.holes,n,o,s,h,u)}switch(i.roofShape){case"cone":mt.draw(t,i.center,i.radius,0,n+i.roofHeight,n,u,""+U.parse(u).lightness(.9));break;case"dome":mt.draw(t,i.center,i.radius,i.radius/2,n+i.roofHeight,n,u,""+U.parse(u).lightness(.9));break;case"pyramid":yt.draw(t,a,i.center,n+i.roofHeight,n,u,U.parse(u).lightness(.9))}}}}},bt={maxZoom:X+2,maxHeight:5,isSimple:function(t){return l<=this.maxZoom&&t.height+t.roofHeight<this.maxHeight},render:function(){var t=this.context;if(t.clearRect(0,0,K,$),!(l<X||d||l>this.maxZoom))for(var e,i,n=gt.items,o=0,a=n.length;o<a;o++)if(!((e=n[o]).height>=this.maxHeight)&&r(i=e.footprint))switch(t.strokeStyle=e.altColor||lt,t.fillStyle=e.roofColor||ht,e.shape){case"cylinder":case"cone":case"dome":case"sphere":mt.simplified(t,e.center,e.radius);break;default:_t.simplified(t,i,e.holes)}}},xt={enabled:!0,color:"#666666",blurColor:"#000000",blurSize:15,date:new Date,direction:{x:0,y:0},project:function(t,e){return{x:t.x+this.direction.x*e,y:t.y+this.direction.y*e}},render:function(){var t,e,n,o=this.context;if(o.clearRect(0,0,K,$),!(!this.enabled||l<X||d||(t=i(tt+it,et+nt),t=H(this.date,t.latitude,t.longitude),0>=t.altitude))){var a,s,h,u;for(n=5>(e=1/S(t.altitude))?.75:1/e*5,this.direction.x=O(t.azimuth)*e,this.direction.y=E(t.azimuth)*e,t=gt.items,o.canvas.style.opacity=n/(2*ct),o.shadowColor=this.blurColor,o.shadowBlur=ct/2*this.blurSize,o.fillStyle=this.color,o.beginPath(),n=0,e=t.length;n<e;n++)if(r(u=(a=t[n]).footprint)){switch(s=1>a.scale?a.height*a.scale:a.height,h=0,a.minHeight&&(h=1>a.scale?a.minHeight*a.scale:a.minHeight),a.shape){case"cylinder":mt.shadow(o,a.center,a.radius,a.radius,s,h);break;case"cone":mt.shadow(o,a.center,a.radius,0,s,h);break;case"dome":mt.shadow(o,a.center,a.radius,a.radius/2,s,h);break;case"sphere":mt.shadow(o,a.center,a.radius,a.radius,s,h);break;case"pyramid":yt.shadow(o,u,a.center,s,h);break;default:_t.shadow(o,u,a.holes,s,h)}switch(a.roofShape){case"cone":mt.shadow(o,a.center,a.radius,0,s+a.roofHeight,s);break;case"dome":mt.shadow(o,a.center,a.radius,a.radius/2,s+a.roofHeight,s);break;case"pyramid":yt.shadow(o,u,a.center,s+a.roofHeight,s)}}for(o.closePath(),o.fill(),o.shadowBlur=null,o.globalCompositeOperation="destination-out",o.beginPath(),n=0,e=t.length;n<e;n++)if(r(u=(a=t[n]).footprint)&&!a.minHeight)switch(a.shape){case"cylinder":case"cone":case"dome":mt.shadowMask(o,a.center,a.radius);break;default:_t.shadowMask(o,u,a.holes)}o.fillStyle="#00ff00",o.fill(),o.globalCompositeOperation="source-over"}}},Lt={_idMapping:[null],reset:function(){this._idMapping=[null]},render:function(){if(!this._timer){var t=this;this._timer=setTimeout(function(){t._timer=null,t._render()},500)}},_render:function(){var t=this.context;if(t.clearRect(0,0,K,$),!(l<X||d)){var i,n,o,a,s,h={x:c+it,y:f+nt},u=gt.items;u.sort(function(t,i){return t.minHeight-i.minHeight||e(i.center,h)-e(t.center,h)||i.height-t.height});for(var p=0,g=u.length;p<g;p++)if((s=(i=u[p]).hitColor)&&r(a=i.footprint)){switch(n=i.height,o=0,i.minHeight&&(o=i.minHeight),i.shape){case"cylinder":mt.hitArea(t,i.center,i.radius,i.radius,n,o,s);break;case"cone":mt.hitArea(t,i.center,i.radius,0,n,o,s);break;case"dome":mt.hitArea(t,i.center,i.radius,i.radius/2,n,o,s);break;case"sphere":mt.hitArea(t,i.center,i.radius,i.radius,n,o,s);break;case"pyramid":yt.hitArea(t,a,i.center,n,o,s);break;default:_t.hitArea(t,a,i.holes,n,o,s)}switch(i.roofShape){case"cone":mt.hitArea(t,i.center,i.radius,0,n+i.roofHeight,n,s);break;case"dome":mt.hitArea(t,i.center,i.radius,i.radius/2,n+i.roofHeight,n,s);break;case"pyramid":yt.hitArea(t,a,i.center,n+i.roofHeight,n,s)}}K&&$&&(this._imageData=this.context.getImageData(0,0,K,$).data)}},getIdFromXY:function(t,e){var i=this._imageData;if(i){var n=4*((0|e)*K+(0|t));return this._idMapping[i[n]|i[n+1]<<8|i[n+2]<<16]}},idToColor:function(t){var e=this._idMapping.indexOf(t);return-1===e&&(this._idMapping.push(t),e=this._idMapping.length-1),"rgb("+[255&e,e>>8&255,e>>16&255].join()+")"}},wt={container:document.createElement("DIV"),items:[],init:function(){this.container.style.pointerEvents="none",this.container.style.position="absolute",this.container.style.left=0,this.container.style.top=0,xt.context=this.createContext(this.container),bt.context=this.createContext(this.container),vt.context=this.createContext(this.container),Lt.context=this.createContext()},render:function(t){z(function(){t||(xt.render(),bt.render(),Lt.render()),vt.render()})},createContext:function(t){var e=document.createElement("CANVAS");e.style.transform="translate3d(0, 0, 0)",e.style.imageRendering="optimizeSpeed",e.style.position="absolute",e.style.left=0,e.style.top=0;var i=e.getContext("2d");return i.lineCap="round",i.lineJoin="round",i.lineWidth=1,i.imageSmoothingEnabled=!1,this.items.push(e),t&&t.appendChild(e),i},appendTo:function(t){t.appendChild(this.container)},remove:function(){this.container.parentNode.removeChild(this.container)},setSize:function(t,e){for(var i=0,n=this.items.length;i<n;i++)this.items[i].width=t,this.items[i].height=e},setPosition:function(t,e){this.container.style.left=t+"px",this.container.style.top=e+"px"}};wt.init(),(F=(B=function(t){this.offset={x:0,y:0},t&&t.addLayer(this)}).prototype=L.Layer?new L.Layer:{}).addTo=function(t){return t.addLayer(this),this},F.onAdd=function(t){this.map=t,wt.appendTo(t._panes.overlayPane);var e=this.getOffset(),i=t.getPixelOrigin();a({width:t._size.x,height:t._size.y});var n=i.y-e.y;it=i.x-e.x,nt=n,s(t._zoom),wt.setPosition(-e.x,-e.y),t.on({move:this.onMove,moveend:this.onMoveEnd,zoomstart:this.onZoomStart,zoomend:this.onZoomEnd,resize:this.onResize,viewreset:this.onViewReset,click:this.onClick},this),t.options.zoomAnimation&&t.on("zoomanim",this.onZoom,this),t.attributionControl&&t.attributionControl.addAttribution('&copy; <a href="http://osmbuildings.org">OSM Buildings</a>'),gt.update()},F.onRemove=function(){var t=this.map;t.attributionControl&&t.attributionControl.removeAttribution('&copy; <a href="http://osmbuildings.org">OSM Buildings</a>'),t.off({move:this.onMove,moveend:this.onMoveEnd,zoomstart:this.onZoomStart,zoomend:this.onZoomEnd,resize:this.onResize,viewreset:this.onViewReset,click:this.onClick},this),t.options.zoomAnimation&&t.off("zoomanim",this.onZoom,this),wt.remove()},F.onMove=function(t){t=this.getOffset(),o({x:this.offset.x-t.x,y:this.offset.y-t.y})},F.onMoveEnd=function(t){if(this.noMoveEnd)this.noMoveEnd=!1;else{var e=this.map;t=this.getOffset();var i=e.getPixelOrigin();this.offset=t,wt.setPosition(-t.x,-t.y),o({x:0,y:0}),a({width:e._size.x,height:e._size.y}),e=i.y-t.y,it=i.x-t.x,nt=e,wt.render(),gt.update()}},F.onZoomStart=function(t){d=!0,wt.render()},F.onZoom=function(t){},F.onZoomEnd=function(t){t=this.map;var e=this.getOffset(),i=t.getPixelOrigin(),n=i.y-e.y;it=i.x-e.x,nt=n,t=t._zoom,d=!1,s(t),gt.update(),wt.render(),this.noMoveEnd=!0},F.onResize=function(){},F.onViewReset=function(){var t=this.getOffset();this.offset=t,wt.setPosition(-t.x,-t.y),o({x:0,y:0})},F.onClick=function(t){var e=Lt.getIdFromXY(t.containerPoint.x,t.containerPoint.y);e&&It({feature:e,lat:t.latlng.lat,lon:t.latlng.lng})},F.getOffset=function(){return L.DomUtil.getPosition(this.map._mapPane)},F.style=function(t){var e;return(e=(t=t||{}).color||t.wallColor)&&(rt=U.parse(e),st=""+rt.alpha(ct),ot=rt.lightness(.8),lt=""+ot.alpha(ct),at=rt.lightness(1.2),ht=""+at.alpha(ct)),t.roofColor&&(at=U.parse(t.roofColor),ht=""+at.alpha(ct)),void 0!==t.shadows&&(xt.enabled=!!t.shadows),wt.render(),this},F.date=function(t){return xt.date=t,xt.render(),this},F.load=function(t){return gt.load(t),this},F.set=function(t){return gt.set(t),this};var Ct=function(){};F.each=function(t){return Ct=function(e){return t(e)},this};var It=function(){};F.click=function(t){return It=function(e){return t(e)},this},B.VERSION="0.2.2b",B.ATTRIBUTION='&copy; <a href="http://osmbuildings.org">OSM Buildings</a>',t.OSMBuildings=B}(this)}]);